// WARNING: This output format is intended for human consumers only
// and is subject to change without notice. Knock yourself out.
fn <impl at ui/impl-trait/example-calendar.rs:15:16: 15:21>::clone(_1: &NaiveDate) -> NaiveDate {
    debug self => _1;
    let mut _0: NaiveDate;
    scope 1 {
        scope 2 {
        }
    }

    bb0: {
        _0 = (*_1);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:15:23: 15:28>::fmt(_1: &NaiveDate, _2: &mut Formatter<'_>) -> Result<(), std::fmt::Error> {
    debug self => _1;
    debug f => _2;
    let mut _0: std::result::Result<(), std::fmt::Error>;
    let _3: &str;
    let mut _4: &dyn std::fmt::Debug;
    let _5: &i32;
    let mut _6: &dyn std::fmt::Debug;
    let _7: &u32;
    let mut _8: &dyn std::fmt::Debug;
    let _9: &&u32;
    let _10: &u32;

    bb0: {
        _3 = const "NaiveDate";
        _5 = &((*_1).0: i32);
        _4 = _5 as &dyn std::fmt::Debug (Pointer(Unsize));
        _7 = &((*_1).1: u32);
        _6 = _7 as &dyn std::fmt::Debug (Pointer(Unsize));
        _10 = &((*_1).2: u32);
        _9 = &_10;
        _8 = _9 as &dyn std::fmt::Debug (Pointer(Unsize));
        _0 = Formatter::<'_>::debug_tuple_field3_finish(_2, _3, move _4, move _6, move _8) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:15:30: 15:32>::assert_receiver_is_total_eq(_1: &NaiveDate) -> () {
    debug self => _1;
    let mut _0: ();
    scope 1 {
        scope 2 {
        }
    }

    bb0: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:15:34: 15:37>::cmp(_1: &NaiveDate, _2: &NaiveDate) -> std::cmp::Ordering {
    debug self => _1;
    debug other => _2;
    let mut _0: std::cmp::Ordering;
    let mut _3: std::cmp::Ordering;
    let _4: &i32;
    let _5: &i32;
    let mut _6: i8;
    let mut _7: std::cmp::Ordering;
    let _8: &u32;
    let _9: &u32;
    let mut _10: i8;
    let _11: &u32;
    let _12: &u32;
    let _13: std::cmp::Ordering;
    let _14: std::cmp::Ordering;
    scope 1 {
        debug cmp => _13;
    }
    scope 2 {
        debug cmp => _14;
    }

    bb0: {
        _4 = &((*_1).0: i32);
        _5 = &((*_2).0: i32);
        _3 = <i32 as Ord>::cmp(_4, _5) -> [return: bb1, unwind continue];
    }

    bb1: {
        _6 = discriminant(_3);
        switchInt(move _6) -> [0: bb3, otherwise: bb2];
    }

    bb2: {
        _14 = _3;
        _0 = _14;
        goto -> bb7;
    }

    bb3: {
        _8 = &((*_1).1: u32);
        _9 = &((*_2).1: u32);
        _7 = <u32 as Ord>::cmp(_8, _9) -> [return: bb4, unwind continue];
    }

    bb4: {
        _10 = discriminant(_7);
        switchInt(move _10) -> [0: bb6, otherwise: bb5];
    }

    bb5: {
        _13 = _7;
        _0 = _13;
        goto -> bb7;
    }

    bb6: {
        _11 = &((*_1).2: u32);
        _12 = &((*_2).2: u32);
        _0 = <u32 as Ord>::cmp(_11, _12) -> [return: bb7, unwind continue];
    }

    bb7: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:15:39: 15:48>::eq(_1: &NaiveDate, _2: &NaiveDate) -> bool {
    debug self => _1;
    debug other => _2;
    let mut _0: bool;
    let mut _3: bool;
    let mut _4: bool;
    let mut _5: i32;
    let mut _6: i32;
    let mut _7: bool;
    let mut _8: u32;
    let mut _9: u32;
    let mut _10: bool;
    let mut _11: u32;
    let mut _12: u32;

    bb0: {
        _5 = ((*_1).0: i32);
        _6 = ((*_2).0: i32);
        _4 = Eq(move _5, move _6);
        switchInt(move _4) -> [0: bb4, otherwise: bb5];
    }

    bb1: {
        _0 = const false;
        goto -> bb3;
    }

    bb2: {
        _11 = ((*_1).2: u32);
        _12 = ((*_2).2: u32);
        _10 = Eq(move _11, move _12);
        _0 = move _10;
        goto -> bb3;
    }

    bb3: {
        return;
    }

    bb4: {
        _3 = const false;
        goto -> bb6;
    }

    bb5: {
        _8 = ((*_1).1: u32);
        _9 = ((*_2).1: u32);
        _7 = Eq(move _8, move _9);
        _3 = move _7;
        goto -> bb6;
    }

    bb6: {
        switchInt(move _3) -> [0: bb1, otherwise: bb2];
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:15:50: 15:60>::partial_cmp(_1: &NaiveDate, _2: &NaiveDate) -> Option<std::cmp::Ordering> {
    debug self => _1;
    debug other => _2;
    let mut _0: std::option::Option<std::cmp::Ordering>;
    let mut _3: std::option::Option<std::cmp::Ordering>;
    let _4: &i32;
    let _5: &i32;
    let mut _6: i8;
    let mut _7: isize;
    let mut _8: std::option::Option<std::cmp::Ordering>;
    let _9: &u32;
    let _10: &u32;
    let mut _11: i8;
    let mut _12: isize;
    let _13: &u32;
    let _14: &u32;
    let _15: std::option::Option<std::cmp::Ordering>;
    let _16: std::option::Option<std::cmp::Ordering>;
    scope 1 {
        debug cmp => _15;
    }
    scope 2 {
        debug cmp => _16;
    }

    bb0: {
        _4 = &((*_1).0: i32);
        _5 = &((*_2).0: i32);
        _3 = <i32 as PartialOrd>::partial_cmp(_4, _5) -> [return: bb1, unwind continue];
    }

    bb1: {
        _7 = discriminant(_3);
        switchInt(move _7) -> [1: bb3, otherwise: bb2];
    }

    bb2: {
        _16 = _3;
        _0 = _16;
        goto -> bb9;
    }

    bb3: {
        _6 = discriminant(((_3 as Some).0: std::cmp::Ordering));
        switchInt(move _6) -> [0: bb4, otherwise: bb2];
    }

    bb4: {
        _9 = &((*_1).1: u32);
        _10 = &((*_2).1: u32);
        _8 = <u32 as PartialOrd>::partial_cmp(_9, _10) -> [return: bb5, unwind continue];
    }

    bb5: {
        _12 = discriminant(_8);
        switchInt(move _12) -> [1: bb7, otherwise: bb6];
    }

    bb6: {
        _15 = _8;
        _0 = _15;
        goto -> bb9;
    }

    bb7: {
        _11 = discriminant(((_8 as Some).0: std::cmp::Ordering));
        switchInt(move _11) -> [0: bb8, otherwise: bb6];
    }

    bb8: {
        _13 = &((*_1).2: u32);
        _14 = &((*_2).2: u32);
        _0 = <u32 as PartialOrd>::partial_cmp(_13, _14) -> [return: bb9, unwind continue];
    }

    bb9: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::from_ymd(_1: i32, _2: u32, _3: u32) -> NaiveDate {
    debug y => _1;
    debug m => _2;
    debug d => _3;
    let mut _0: NaiveDate;
    let mut _4: bool;
    let mut _5: bool;
    let mut _6: bool;
    let mut _7: u32;
    let mut _8: bool;
    let mut _9: u32;
    let _10: !;
    let mut _11: std::fmt::Arguments<'_>;
    let mut _12: &[&str];
    let mut _13: &[core::fmt::rt::Argument<'_>];
    let _14: &[core::fmt::rt::Argument<'_>; 1];
    let _15: [core::fmt::rt::Argument<'_>; 1];
    let mut _16: core::fmt::rt::Argument<'_>;
    let _17: &u32;
    let mut _18: bool;
    let mut _19: bool;
    let mut _20: bool;
    let mut _21: u32;
    let mut _22: bool;
    let mut _23: u32;
    let mut _24: u32;
    let mut _25: &NaiveDate;
    let _26: NaiveDate;
    let mut _27: u32;
    let _28: !;
    let mut _29: std::fmt::Arguments<'_>;
    let mut _30: &[&str];
    let mut _31: &[core::fmt::rt::Argument<'_>];
    let _32: &[core::fmt::rt::Argument<'_>; 1];
    let _33: [core::fmt::rt::Argument<'_>; 1];
    let mut _34: core::fmt::rt::Argument<'_>;
    let _35: &u32;
    let mut _36: u32;
    let mut _37: u32;
    let mut _38: &[&str; 1];
    let mut _39: &[&str; 1];

    bb0: {
        _7 = _2;
        _6 = Le(const 1_u32, move _7);
        switchInt(move _6) -> [0: bb1, otherwise: bb2];
    }

    bb1: {
        _5 = const false;
        goto -> bb3;
    }

    bb2: {
        _9 = _2;
        _8 = Le(move _9, const 12_u32);
        _5 = move _8;
        goto -> bb3;
    }

    bb3: {
        _4 = Not(move _5);
        switchInt(move _4) -> [0: bb7, otherwise: bb4];
    }

    bb4: {
        _38 = const _;
        _12 = _38 as &[&str] (Pointer(Unsize));
        _17 = &_2;
        _16 = core::fmt::rt::Argument::<'_>::new_debug::<u32>(_17) -> [return: bb5, unwind continue];
    }

    bb5: {
        _15 = [move _16];
        _14 = &_15;
        _13 = _14 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _11 = Arguments::<'_>::new_v1(move _12, move _13) -> [return: bb6, unwind continue];
    }

    bb6: {
        _10 = panic_fmt(move _11) -> unwind continue;
    }

    bb7: {
        _21 = _3;
        _20 = Le(const 1_u32, move _21);
        switchInt(move _20) -> [0: bb8, otherwise: bb9];
    }

    bb8: {
        _19 = const false;
        goto -> bb10;
    }

    bb9: {
        _23 = _3;
        _27 = _2;
        _26 = NaiveDate(_1, move _27, const 1_u32);
        _25 = &_26;
        _24 = NaiveDate::days_in_month(move _25) -> [return: bb11, unwind continue];
    }

    bb10: {
        _18 = Not(move _19);
        switchInt(move _18) -> [0: bb15, otherwise: bb12];
    }

    bb11: {
        _22 = Le(move _23, move _24);
        _19 = move _22;
        goto -> bb10;
    }

    bb12: {
        _39 = const _;
        _30 = _39 as &[&str] (Pointer(Unsize));
        _35 = &_3;
        _34 = core::fmt::rt::Argument::<'_>::new_debug::<u32>(_35) -> [return: bb13, unwind continue];
    }

    bb13: {
        _33 = [move _34];
        _32 = &_33;
        _31 = _32 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _29 = Arguments::<'_>::new_v1(move _30, move _31) -> [return: bb14, unwind continue];
    }

    bb14: {
        _28 = panic_fmt(move _29) -> unwind continue;
    }

    bb15: {
        _36 = _2;
        _37 = _3;
        _0 = NaiveDate(_1, move _36, move _37);
        return;
    }
}

promoted[0] in <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::from_ymd: &[&str; 1] = {
    let mut _0: &[&str; 1];
    let mut _1: [&str; 1];

    bb0: {
        _1 = [const "m = "];
        _0 = &_1;
        return;
    }
}

promoted[1] in <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::from_ymd: &[&str; 1] = {
    let mut _0: &[&str; 1];
    let mut _1: [&str; 1];

    bb0: {
        _1 = [const "d = "];
        _0 = &_1;
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::year(_1: &NaiveDate) -> i32 {
    debug self => _1;
    let mut _0: i32;

    bb0: {
        _0 = ((*_1).0: i32);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::month(_1: &NaiveDate) -> u32 {
    debug self => _1;
    let mut _0: u32;

    bb0: {
        _0 = ((*_1).1: u32);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::day(_1: &NaiveDate) -> u32 {
    debug self => _1;
    let mut _0: u32;

    bb0: {
        _0 = ((*_1).2: u32);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::succ(_1: &NaiveDate) -> NaiveDate {
    debug self => _1;
    let mut _0: NaiveDate;
    let mut _2: i32;
    let mut _3: u32;
    let mut _4: u32;
    let _5: u32;
    let mut _6: (i32, u32, u32, u32);
    let mut _7: i32;
    let mut _8: u32;
    let mut _9: u32;
    let mut _10: u32;
    let mut _11: u32;
    let mut _12: bool;
    let mut _13: u32;
    let mut _14: bool;
    let mut _15: u32;
    let mut _16: i32;
    let mut _17: u32;
    let mut _18: u32;
    scope 1 {
        debug y => _2;
        debug m => _3;
        debug d => _4;
        debug n => _5;
    }

    bb0: {
        _7 = NaiveDate::year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _8 = NaiveDate::month(_1) -> [return: bb2, unwind continue];
    }

    bb2: {
        _10 = NaiveDate::day(_1) -> [return: bb3, unwind continue];
    }

    bb3: {
        _9 = Add(move _10, const 1_u32);
        _11 = NaiveDate::days_in_month(_1) -> [return: bb4, unwind continue];
    }

    bb4: {
        _6 = (move _7, move _8, move _9, move _11);
        _2 = (_6.0: i32);
        _3 = (_6.1: u32);
        _4 = (_6.2: u32);
        _5 = (_6.3: u32);
        _13 = _4;
        _12 = Gt(move _13, _5);
        switchInt(move _12) -> [0: bb6, otherwise: bb5];
    }

    bb5: {
        _4 = const 1_u32;
        _3 = Add(_3, const 1_u32);
        goto -> bb6;
    }

    bb6: {
        _15 = _3;
        _14 = Gt(move _15, const 12_u32);
        switchInt(move _14) -> [0: bb8, otherwise: bb7];
    }

    bb7: {
        _3 = const 1_u32;
        _2 = Add(_2, const 1_i32);
        goto -> bb8;
    }

    bb8: {
        _16 = _2;
        _17 = _3;
        _18 = _4;
        _0 = NaiveDate::from_ymd(move _16, move _17, move _18) -> [return: bb9, unwind continue];
    }

    bb9: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::weekday(_1: &NaiveDate) -> Weekday {
    debug self => _1;
    let mut _0: Weekday;
    let _2: i32;
    let mut _4: i32;
    let mut _5: i32;
    let mut _6: i32;
    let mut _7: i32;
    let mut _8: i32;
    let mut _9: i32;
    let mut _10: i32;
    let mut _11: i32;
    let mut _12: bool;
    let mut _13: bool;
    let mut _14: bool;
    let mut _15: bool;
    let mut _16: i32;
    let mut _17: i32;
    let mut _18: i32;
    let mut _19: bool;
    let mut _20: bool;
    let mut _21: bool;
    let mut _22: bool;
    let mut _23: i32;
    let mut _24: i32;
    let mut _25: i32;
    let mut _26: bool;
    let mut _27: bool;
    let mut _28: bool;
    let mut _29: bool;
    let mut _30: bool;
    let mut _31: bool;
    let mut _32: bool;
    let mut _33: bool;
    let mut _35: i32;
    let mut _36: i32;
    let mut _37: i32;
    let mut _38: u32;
    let mut _39: bool;
    let mut _40: bool;
    let mut _41: bool;
    let mut _42: bool;
    let mut _43: [Weekday; 7];
    let mut _44: Weekday;
    let mut _45: Weekday;
    let mut _46: Weekday;
    let mut _47: Weekday;
    let mut _48: Weekday;
    let mut _49: Weekday;
    let mut _50: Weekday;
    let _51: usize;
    let mut _52: usize;
    let mut _53: bool;
    scope 1 {
        debug year => _2;
        let _3: i32;
        scope 2 {
            debug dow_jan_1 => _3;
            let _34: i32;
            scope 3 {
                debug dow => _34;
            }
        }
    }

    bb0: {
        _2 = NaiveDate::year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _8 = _2;
        _7 = Mul(move _8, const 365_i32);
        _11 = _2;
        _10 = Sub(move _11, const 1_i32);
        _12 = Eq(const 4_i32, const 0_i32);
        assert(!move _12, "attempt to divide `{}` by zero", _10) -> [success: bb2, unwind continue];
    }

    bb2: {
        _13 = Eq(const 4_i32, const -1_i32);
        _14 = Eq(_10, const i32::MIN);
        _15 = BitAnd(move _13, move _14);
        assert(!move _15, "attempt to compute `{} / {}`, which would overflow", _10, const 4_i32) -> [success: bb3, unwind continue];
    }

    bb3: {
        _9 = Div(move _10, const 4_i32);
        _6 = Add(move _7, move _9);
        _18 = _2;
        _17 = Sub(move _18, const 1_i32);
        _19 = Eq(const 100_i32, const 0_i32);
        assert(!move _19, "attempt to divide `{}` by zero", _17) -> [success: bb4, unwind continue];
    }

    bb4: {
        _20 = Eq(const 100_i32, const -1_i32);
        _21 = Eq(_17, const i32::MIN);
        _22 = BitAnd(move _20, move _21);
        assert(!move _22, "attempt to compute `{} / {}`, which would overflow", _17, const 100_i32) -> [success: bb5, unwind continue];
    }

    bb5: {
        _16 = Div(move _17, const 100_i32);
        _5 = Sub(move _6, move _16);
        _25 = _2;
        _24 = Sub(move _25, const 1_i32);
        _26 = Eq(const 400_i32, const 0_i32);
        assert(!move _26, "attempt to divide `{}` by zero", _24) -> [success: bb6, unwind continue];
    }

    bb6: {
        _27 = Eq(const 400_i32, const -1_i32);
        _28 = Eq(_24, const i32::MIN);
        _29 = BitAnd(move _27, move _28);
        assert(!move _29, "attempt to compute `{} / {}`, which would overflow", _24, const 400_i32) -> [success: bb7, unwind continue];
    }

    bb7: {
        _23 = Div(move _24, const 400_i32);
        _4 = Add(move _5, move _23);
        _30 = Eq(const 7_i32, const 0_i32);
        assert(!move _30, "attempt to calculate the remainder of `{}` with a divisor of zero", _4) -> [success: bb8, unwind continue];
    }

    bb8: {
        _31 = Eq(const 7_i32, const -1_i32);
        _32 = Eq(_4, const i32::MIN);
        _33 = BitAnd(move _31, move _32);
        assert(!move _33, "attempt to compute the remainder of `{} % {}`, which would overflow", _4, const 7_i32) -> [success: bb9, unwind continue];
    }

    bb9: {
        _3 = Rem(move _4, const 7_i32);
        _38 = NaiveDate::day_of_year(_1) -> [return: bb10, unwind continue];
    }

    bb10: {
        _37 = move _38 as i32 (IntToInt);
        _36 = Sub(move _37, const 1_i32);
        _35 = Add(_3, move _36);
        _39 = Eq(const 7_i32, const 0_i32);
        assert(!move _39, "attempt to calculate the remainder of `{}` with a divisor of zero", _35) -> [success: bb11, unwind continue];
    }

    bb11: {
        _40 = Eq(const 7_i32, const -1_i32);
        _41 = Eq(_35, const i32::MIN);
        _42 = BitAnd(move _40, move _41);
        assert(!move _42, "attempt to compute the remainder of `{} % {}`, which would overflow", _35, const 7_i32) -> [success: bb12, unwind continue];
    }

    bb12: {
        _34 = Rem(move _35, const 7_i32);
        _44 = Weekday::Sun;
        _45 = Weekday::Mon;
        _46 = Weekday::Tue;
        _47 = Weekday::Wed;
        _48 = Weekday::Thu;
        _49 = Weekday::Fri;
        _50 = Weekday::Sat;
        _43 = [move _44, move _45, move _46, move _47, move _48, move _49, move _50];
        _51 = _34 as usize (IntToInt);
        _52 = const 7_usize;
        _53 = Lt(_51, _52);
        assert(move _53, "index out of bounds: the length is {} but the index is {}", move _52, _51) -> [success: bb13, unwind continue];
    }

    bb13: {
        _0 = _43[_51];
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::isoweekdate(_1: &NaiveDate) -> (i32, u32, Weekday) {
    debug self => _1;
    let mut _0: (i32, u32, Weekday);
    let _2: u32;
    let mut _3: &Weekday;
    let _4: Weekday;
    let mut _6: u32;
    let mut _8: u32;
    let mut _9: u32;
    let mut _10: u32;
    let mut _11: bool;
    let mut _12: bool;
    let mut _16: bool;
    let mut _17: i32;
    let mut _18: i32;
    let mut _19: i32;
    let mut _20: u32;
    let mut _21: &NaiveDate;
    let _22: NaiveDate;
    let mut _23: i32;
    let mut _24: i32;
    let mut _25: Weekday;
    let mut _26: bool;
    let mut _27: i32;
    let mut _28: i32;
    let mut _29: u32;
    let mut _30: i32;
    let mut _31: i32;
    let mut _32: u32;
    let mut _33: i32;
    let mut _34: i32;
    let mut _35: i32;
    let mut _36: i32;
    let mut _37: u32;
    let mut _38: Weekday;
    let mut _39: i32;
    let mut _40: u32;
    let mut _41: i32;
    let mut _42: i32;
    let mut _43: Weekday;
    scope 1 {
        debug first_dow_mon_0 => _2;
        let _5: u32;
        scope 2 {
            debug doy_0 => _5;
            let mut _7: i32;
            scope 3 {
                debug week_mon_0 => _7;
                let _13: u32;
                scope 4 {
                    debug weeks_in_year => _13;
                    let _14: i32;
                    scope 5 {
                        debug year => _14;
                        let _15: Weekday;
                        scope 6 {
                            debug wd => _15;
                        }
                    }
                }
            }
        }
    }

    bb0: {
        _4 = NaiveDate::year_first_day_of_week(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = &_4;
        _2 = Weekday::num_days_from_monday(move _3) -> [return: bb2, unwind continue];
    }

    bb2: {
        _6 = NaiveDate::day_of_year(_1) -> [return: bb3, unwind continue];
    }

    bb3: {
        _5 = Sub(move _6, const 1_u32);
        _10 = _2;
        _9 = Add(move _10, _5);
        _11 = Eq(const 7_u32, const 0_u32);
        assert(!move _11, "attempt to divide `{}` by zero", _9) -> [success: bb4, unwind continue];
    }

    bb4: {
        _8 = Div(move _9, const 7_u32);
        _7 = move _8 as i32 (IntToInt);
        _12 = NaiveDate::first_week_in_prev_year(_1) -> [return: bb5, unwind continue];
    }

    bb5: {
        switchInt(move _12) -> [0: bb7, otherwise: bb6];
    }

    bb6: {
        _7 = Sub(_7, const 1_i32);
        goto -> bb7;
    }

    bb7: {
        _13 = NaiveDate::last_week_number(_1) -> [return: bb8, unwind continue];
    }

    bb8: {
        _14 = NaiveDate::year(_1) -> [return: bb9, unwind continue];
    }

    bb9: {
        _15 = NaiveDate::weekday(_1) -> [return: bb10, unwind continue];
    }

    bb10: {
        _17 = _7;
        _16 = Lt(move _17, const 0_i32);
        switchInt(move _16) -> [0: bb14, otherwise: bb11];
    }

    bb11: {
        _19 = _14;
        _18 = Sub(move _19, const 1_i32);
        _24 = _14;
        _23 = Sub(move _24, const 1_i32);
        _22 = NaiveDate::from_ymd(move _23, const 1_u32, const 1_u32) -> [return: bb12, unwind continue];
    }

    bb12: {
        _21 = &_22;
        _20 = NaiveDate::last_week_number(move _21) -> [return: bb13, unwind continue];
    }

    bb13: {
        _25 = _15;
        _0 = (move _18, move _20, move _25);
        goto -> bb17;
    }

    bb14: {
        _27 = _7;
        _29 = _13;
        _28 = move _29 as i32 (IntToInt);
        _26 = Ge(move _27, move _28);
        switchInt(move _26) -> [0: bb16, otherwise: bb15];
    }

    bb15: {
        _31 = _14;
        _30 = Add(move _31, const 1_i32);
        _35 = _7;
        _34 = Add(move _35, const 1_i32);
        _37 = _13;
        _36 = move _37 as i32 (IntToInt);
        _33 = Sub(move _34, move _36);
        _32 = move _33 as u32 (IntToInt);
        _38 = _15;
        _0 = (move _30, move _32, move _38);
        goto -> bb17;
    }

    bb16: {
        _39 = _14;
        _42 = _7;
        _41 = Add(move _42, const 1_i32);
        _40 = move _41 as u32 (IntToInt);
        _43 = _15;
        _0 = (move _39, move _40, move _43);
        goto -> bb17;
    }

    bb17: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::first_week_in_prev_year(_1: &NaiveDate) -> bool {
    debug self => _1;
    let mut _0: bool;
    let _2: u32;
    let mut _3: &Weekday;
    let _4: Weekday;
    let mut _5: u32;
    let mut _6: u32;
    let mut _7: u32;
    let mut _8: bool;
    scope 1 {
        debug first_dow_mon_0 => _2;
    }

    bb0: {
        _4 = NaiveDate::year_first_day_of_week(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = &_4;
        _2 = Weekday::num_days_from_monday(move _3) -> [return: bb2, unwind continue];
    }

    bb2: {
        _7 = _2;
        _6 = Sub(const 7_u32, move _7);
        _8 = Eq(const 7_u32, const 0_u32);
        assert(!move _8, "attempt to calculate the remainder of `{}` with a divisor of zero", _6) -> [success: bb3, unwind continue];
    }

    bb3: {
        _5 = Rem(move _6, const 7_u32);
        _0 = Lt(move _5, const 4_u32);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::year_first_day_of_week(_1: &NaiveDate) -> Weekday {
    debug self => _1;
    let mut _0: Weekday;
    let mut _2: &NaiveDate;
    let _3: NaiveDate;
    let mut _4: i32;

    bb0: {
        _4 = NaiveDate::year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = NaiveDate::from_ymd(move _4, const 1_u32, const 1_u32) -> [return: bb2, unwind continue];
    }

    bb2: {
        _2 = &_3;
        _0 = NaiveDate::weekday(move _2) -> [return: bb3, unwind continue];
    }

    bb3: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::weeks_in_year(_1: &NaiveDate) -> u32 {
    debug self => _1;
    let mut _0: u32;
    let _2: u32;
    let mut _3: u32;
    let mut _4: &Weekday;
    let _5: Weekday;
    let mut _6: bool;
    scope 1 {
        debug days_in_last_week => _2;
    }

    bb0: {
        _5 = NaiveDate::year_first_day_of_week(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = &_5;
        _3 = Weekday::num_days_from_monday(move _4) -> [return: bb2, unwind continue];
    }

    bb2: {
        _2 = Add(move _3, const 1_u32);
        _6 = Ge(_2, const 4_u32);
        switchInt(move _6) -> [0: bb4, otherwise: bb3];
    }

    bb3: {
        _0 = const 53_u32;
        goto -> bb5;
    }

    bb4: {
        _0 = const 52_u32;
        goto -> bb5;
    }

    bb5: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::last_week_number(_1: &NaiveDate) -> u32 {
    debug self => _1;
    let mut _0: u32;
    let _2: u32;
    let mut _3: bool;
    let mut _4: u32;
    scope 1 {
        debug wiy => _2;
    }

    bb0: {
        _2 = NaiveDate::weeks_in_year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = NaiveDate::first_week_in_prev_year(_1) -> [return: bb2, unwind continue];
    }

    bb2: {
        switchInt(move _3) -> [0: bb4, otherwise: bb3];
    }

    bb3: {
        _4 = _2;
        _0 = Sub(move _4, const 1_u32);
        goto -> bb5;
    }

    bb4: {
        _0 = _2;
        goto -> bb5;
    }

    bb5: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::day_of_year(_1: &NaiveDate) -> u32 {
    debug self => _1;
    let mut _0: u32;
    let mut _2: u32;
    let mut _3: std::iter::Map<std::ops::Range<u32>, [closure@ui/impl-trait/example-calendar.rs:113:25: 113:28]>;
    let mut _4: std::ops::Range<u32>;
    let mut _5: u32;
    let mut _6: [closure@ui/impl-trait/example-calendar.rs:113:25: 113:28];
    let mut _7: &&NaiveDate;
    let mut _8: u32;
    let mut _9: &NaiveDate;

    bb0: {
        _5 = ((*_1).1: u32);
        _4 = std::ops::Range::<u32> { start: const 1_u32, end: move _5 };
        _7 = &_1;
        _6 = [closure@ui/impl-trait/example-calendar.rs:113:25: 113:28] { self: move _7 };
        _3 = <std::ops::Range<u32> as Iterator>::map::<u32, [closure@ui/impl-trait/example-calendar.rs:113:25: 113:28]>(move _4, move _6) -> [return: bb1, unwind continue];
    }

    bb1: {
        _2 = <Map<std::ops::Range<u32>, [closure@ui/impl-trait/example-calendar.rs:113:25: 113:28]> as Iterator>::fold::<u32, [closure@ui/impl-trait/example-calendar.rs:114:22: 114:27]>(move _3, const 0_u32, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:114:22: 114:27]) -> [return: bb2, unwind continue];
    }

    bb2: {
        _9 = _1;
        _8 = NaiveDate::day(move _9) -> [return: bb3, unwind continue];
    }

    bb3: {
        _0 = Add(move _2, move _8);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::day_of_year::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:113:25: 113:28], _2: u32) -> u32 {
    debug m => _2;
    debug self => (*((*_1).0: &&NaiveDate));
    let mut _0: u32;
    let mut _3: &NaiveDate;
    let _4: NaiveDate;
    let mut _5: i32;
    let mut _6: &&NaiveDate;
    let mut _7: &NaiveDate;

    bb0: {
        _6 = deref_copy ((*_1).0: &&NaiveDate);
        _7 = deref_copy (*_6);
        _5 = NaiveDate::year(_7) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = NaiveDate::from_ymd(move _5, _2, const 1_u32) -> [return: bb2, unwind continue];
    }

    bb2: {
        _3 = &_4;
        _0 = NaiveDate::days_in_month(move _3) -> [return: bb3, unwind continue];
    }

    bb3: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::day_of_year::{closure#1}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:114:22: 114:27], _2: u32, _3: u32) -> u32 {
    debug a => _2;
    debug b => _3;
    let mut _0: u32;

    bb0: {
        _0 = Add(_2, _3);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::is_leap_year(_1: &NaiveDate) -> bool {
    debug self => _1;
    let mut _0: bool;
    let _2: i32;
    let mut _3: i32;
    let mut _4: i32;
    let mut _5: bool;
    let mut _6: bool;
    let mut _7: bool;
    let mut _8: bool;
    let mut _9: i32;
    let mut _10: i32;
    let mut _11: bool;
    let mut _12: bool;
    let mut _13: bool;
    let mut _14: bool;
    let mut _15: bool;
    let mut _16: i32;
    let mut _17: i32;
    let mut _18: bool;
    let mut _19: bool;
    let mut _20: bool;
    let mut _21: bool;
    scope 1 {
        debug year => _2;
    }

    bb0: {
        _2 = NaiveDate::year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = _2;
        _5 = Eq(const 4_i32, const 0_i32);
        assert(!move _5, "attempt to calculate the remainder of `{}` with a divisor of zero", _4) -> [success: bb2, unwind continue];
    }

    bb2: {
        _6 = Eq(const 4_i32, const -1_i32);
        _7 = Eq(_4, const i32::MIN);
        _8 = BitAnd(move _6, move _7);
        assert(!move _8, "attempt to compute the remainder of `{} % {}`, which would overflow", _4, const 4_i32) -> [success: bb3, unwind continue];
    }

    bb3: {
        _3 = Rem(move _4, const 4_i32);
        switchInt(move _3) -> [0: bb5, otherwise: bb4];
    }

    bb4: {
        _0 = const false;
        goto -> bb12;
    }

    bb5: {
        _10 = _2;
        _11 = Eq(const 100_i32, const 0_i32);
        assert(!move _11, "attempt to calculate the remainder of `{}` with a divisor of zero", _10) -> [success: bb6, unwind continue];
    }

    bb6: {
        _12 = Eq(const 100_i32, const -1_i32);
        _13 = Eq(_10, const i32::MIN);
        _14 = BitAnd(move _12, move _13);
        assert(!move _14, "attempt to compute the remainder of `{} % {}`, which would overflow", _10, const 100_i32) -> [success: bb7, unwind continue];
    }

    bb7: {
        _9 = Rem(move _10, const 100_i32);
        switchInt(move _9) -> [0: bb9, otherwise: bb8];
    }

    bb8: {
        _0 = const true;
        goto -> bb12;
    }

    bb9: {
        _17 = _2;
        _18 = Eq(const 400_i32, const 0_i32);
        assert(!move _18, "attempt to calculate the remainder of `{}` with a divisor of zero", _17) -> [success: bb10, unwind continue];
    }

    bb10: {
        _19 = Eq(const 400_i32, const -1_i32);
        _20 = Eq(_17, const i32::MIN);
        _21 = BitAnd(move _19, move _20);
        assert(!move _21, "attempt to compute the remainder of `{} % {}`, which would overflow", _17, const 400_i32) -> [success: bb11, unwind continue];
    }

    bb11: {
        _16 = Rem(move _17, const 400_i32);
        _15 = Ne(move _16, const 0_i32);
        _0 = Not(_15);
        goto -> bb12;
    }

    bb12: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:18:1: 18:15>::days_in_month(_1: &NaiveDate) -> u32 {
    debug self => _1;
    let mut _0: u32;
    let mut _2: u32;
    let mut _3: bool;
    let mut _4: !;

    bb0: {
        _2 = NaiveDate::month(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        switchInt(_2) -> [1: bb3, 2: bb4, 3: bb8, 4: bb9, 5: bb10, 6: bb11, 7: bb12, 8: bb13, 9: bb14, 10: bb15, 11: bb16, 12: bb17, otherwise: bb2];
    }

    bb2: {
        _4 = core::panicking::panic(const "internal error: entered unreachable code") -> unwind continue;
    }

    bb3: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb4: {
        _3 = NaiveDate::is_leap_year(_1) -> [return: bb5, unwind continue];
    }

    bb5: {
        switchInt(move _3) -> [0: bb7, otherwise: bb6];
    }

    bb6: {
        _0 = const 29_u32;
        goto -> bb18;
    }

    bb7: {
        _0 = const 28_u32;
        goto -> bb18;
    }

    bb8: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb9: {
        _0 = const 30_u32;
        goto -> bb18;
    }

    bb10: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb11: {
        _0 = const 30_u32;
        goto -> bb18;
    }

    bb12: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb13: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb14: {
        _0 = const 30_u32;
        goto -> bb18;
    }

    bb15: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb16: {
        _0 = const 30_u32;
        goto -> bb18;
    }

    bb17: {
        _0 = const 31_u32;
        goto -> bb18;
    }

    bb18: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:149:1: 149:60>::add(_1: &NaiveDate, _2: &NaiveDate) -> NaiveDate {
    debug self => _1;
    debug other => _2;
    let mut _0: NaiveDate;
    let mut _3: (&NaiveDate, &NaiveDate);
    let _4: &NaiveDate;
    let _5: &NaiveDate;
    let mut _6: bool;
    let mut _7: bool;
    let _9: !;
    let mut _10: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _11: &NaiveDate;
    scope 1 {
        debug left_val => _4;
        debug right_val => _5;
        let _8: core::panicking::AssertKind;
        scope 2 {
            debug kind => _8;
        }
    }

    bb0: {
        _11 = const _;
        _3 = (_2, _11);
        _4 = (_3.0: &NaiveDate);
        _5 = (_3.1: &NaiveDate);
        _7 = <NaiveDate as PartialEq>::eq(_4, _5) -> [return: bb1, unwind continue];
    }

    bb1: {
        _6 = Not(move _7);
        switchInt(move _6) -> [0: bb3, otherwise: bb2];
    }

    bb2: {
        _8 = core::panicking::AssertKind::Eq;
        _10 = Option::<Arguments<'_>>::None;
        _9 = core::panicking::assert_failed::<NaiveDate, NaiveDate>(move _8, _4, _5, move _10) -> unwind continue;
    }

    bb3: {
        _0 = NaiveDate::succ(_1) -> [return: bb4, unwind continue];
    }

    bb4: {
        return;
    }
}

promoted[0] in <impl at ui/impl-trait/example-calendar.rs:149:1: 149:60>::add: &NaiveDate = {
    let mut _0: &NaiveDate;
    let mut _1: NaiveDate;

    bb0: {
        _1 = NaiveDate(const 0_i32, const 0_u32, const 1_u32);
        _0 = &_1;
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:158:1: 158:35>::steps_between(_1: &NaiveDate, _2: &NaiveDate) -> Option<usize> {
    let mut _0: std::option::Option<usize>;
    let mut _3: !;

    bb0: {
        _3 = core::panicking::panic(const "not implemented") -> unwind continue;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:158:1: 158:35>::forward_checked(_1: NaiveDate, _2: usize) -> Option<NaiveDate> {
    debug start => _1;
    debug n => _2;
    let mut _0: std::option::Option<NaiveDate>;
    let mut _3: NaiveDate;
    let mut _4: std::ops::Range<usize>;

    bb0: {
        _4 = std::ops::Range::<usize> { start: const 0_usize, end: _2 };
        _3 = <std::ops::Range<usize> as Iterator>::fold::<NaiveDate, [closure@ui/impl-trait/example-calendar.rs:164:33: 164:39]>(move _4, _1, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:164:33: 164:39]) -> [return: bb1, unwind continue];
    }

    bb1: {
        _0 = Option::<NaiveDate>::Some(move _3);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:158:1: 158:35>::forward_checked::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:164:33: 164:39], _2: NaiveDate, _3: usize) -> NaiveDate {
    debug x => _2;
    let mut _0: NaiveDate;
    let mut _4: &NaiveDate;

    bb0: {
        _4 = &_2;
        _0 = NaiveDate::succ(move _4) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:158:1: 158:35>::backward_checked(_1: NaiveDate, _2: usize) -> Option<NaiveDate> {
    let mut _0: std::option::Option<NaiveDate>;
    let mut _3: !;

    bb0: {
        _3 = core::panicking::panic(const "not implemented") -> unwind continue;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:172:16: 172:21>::clone(_1: &Weekday) -> Weekday {
    debug self => _1;
    let mut _0: Weekday;

    bb0: {
        _0 = (*_1);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:172:23: 172:28>::fmt(_1: &Weekday, _2: &mut Formatter<'_>) -> Result<(), std::fmt::Error> {
    debug self => _1;
    debug f => _2;
    let mut _0: std::result::Result<(), std::fmt::Error>;
    let mut _3: &str;
    let mut _4: isize;
    let _5: &str;
    let _6: &str;
    let _7: &str;
    let _8: &str;
    let _9: &str;
    let _10: &str;
    let _11: &str;

    bb0: {
        _4 = discriminant((*_1));
        switchInt(move _4) -> [0: bb3, 1: bb4, 2: bb5, 3: bb6, 4: bb7, 5: bb8, 6: bb1, otherwise: bb2];
    }

    bb1: {
        _11 = const "Sun";
        _3 = _11;
        goto -> bb9;
    }

    bb2: {
        unreachable;
    }

    bb3: {
        _5 = const "Mon";
        _3 = _5;
        goto -> bb9;
    }

    bb4: {
        _6 = const "Tue";
        _3 = _6;
        goto -> bb9;
    }

    bb5: {
        _7 = const "Wed";
        _3 = _7;
        goto -> bb9;
    }

    bb6: {
        _8 = const "Thu";
        _3 = _8;
        goto -> bb9;
    }

    bb7: {
        _9 = const "Fri";
        _3 = _9;
        goto -> bb9;
    }

    bb8: {
        _10 = const "Sat";
        _3 = _10;
        goto -> bb9;
    }

    bb9: {
        _0 = Formatter::<'_>::write_str(_2, move _3) -> [return: bb10, unwind continue];
    }

    bb10: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:172:30: 172:32>::assert_receiver_is_total_eq(_1: &Weekday) -> () {
    debug self => _1;
    let mut _0: ();

    bb0: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:172:34: 172:37>::cmp(_1: &Weekday, _2: &Weekday) -> std::cmp::Ordering {
    debug self => _1;
    debug other => _2;
    let mut _0: std::cmp::Ordering;
    let _3: isize;
    let _5: &isize;
    let _6: &isize;
    scope 1 {
        debug __self_tag => _3;
        let _4: isize;
        scope 2 {
            debug __arg1_tag => _4;
        }
    }

    bb0: {
        _3 = discriminant((*_1));
        _4 = discriminant((*_2));
        _5 = &_3;
        _6 = &_4;
        _0 = <isize as Ord>::cmp(_5, _6) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:172:39: 172:48>::eq(_1: &Weekday, _2: &Weekday) -> bool {
    debug self => _1;
    debug other => _2;
    let mut _0: bool;
    let _3: isize;
    scope 1 {
        debug __self_tag => _3;
        let _4: isize;
        scope 2 {
            debug __arg1_tag => _4;
        }
    }

    bb0: {
        _3 = discriminant((*_1));
        _4 = discriminant((*_2));
        _0 = Eq(_3, _4);
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:172:50: 172:60>::partial_cmp(_1: &Weekday, _2: &Weekday) -> Option<std::cmp::Ordering> {
    debug self => _1;
    debug other => _2;
    let mut _0: std::option::Option<std::cmp::Ordering>;
    let _3: isize;
    let _5: &isize;
    let _6: &isize;
    scope 1 {
        debug __self_tag => _3;
        let _4: isize;
        scope 2 {
            debug __arg1_tag => _4;
        }
    }

    bb0: {
        _3 = discriminant((*_1));
        _4 = discriminant((*_2));
        _5 = &_3;
        _6 = &_4;
        _0 = <isize as PartialOrd>::partial_cmp(_5, _6) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:183:1: 183:13>::num_days_from_monday(_1: &Weekday) -> u32 {
    debug self => _1;
    let mut _0: u32;
    let mut _2: isize;

    bb0: {
        _2 = discriminant((*_1));
        switchInt(move _2) -> [0: bb3, 1: bb4, 2: bb5, 3: bb6, 4: bb7, 5: bb8, 6: bb1, otherwise: bb2];
    }

    bb1: {
        _0 = const 6_u32;
        goto -> bb9;
    }

    bb2: {
        unreachable;
    }

    bb3: {
        _0 = const 0_u32;
        goto -> bb9;
    }

    bb4: {
        _0 = const 1_u32;
        goto -> bb9;
    }

    bb5: {
        _0 = const 2_u32;
        goto -> bb9;
    }

    bb6: {
        _0 = const 3_u32;
        goto -> bb9;
    }

    bb7: {
        _0 = const 4_u32;
        goto -> bb9;
    }

    bb8: {
        _0 = const 5_u32;
        goto -> bb9;
    }

    bb9: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:183:1: 183:13>::num_days_from_sunday(_1: &Weekday) -> u32 {
    debug self => _1;
    let mut _0: u32;
    let mut _2: isize;

    bb0: {
        _2 = discriminant((*_1));
        switchInt(move _2) -> [0: bb4, 1: bb5, 2: bb6, 3: bb7, 4: bb8, 5: bb1, 6: bb3, otherwise: bb2];
    }

    bb1: {
        _0 = const 6_u32;
        goto -> bb9;
    }

    bb2: {
        unreachable;
    }

    bb3: {
        _0 = const 0_u32;
        goto -> bb9;
    }

    bb4: {
        _0 = const 1_u32;
        goto -> bb9;
    }

    bb5: {
        _0 = const 2_u32;
        goto -> bb9;
    }

    bb6: {
        _0 = const 3_u32;
        goto -> bb9;
    }

    bb7: {
        _0 = const 4_u32;
        goto -> bb9;
    }

    bb8: {
        _0 = const 5_u32;
        goto -> bb9;
    }

    bb9: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:217:1: 217:37>::clone(_1: &GroupBy<It, F>) -> GroupBy<It, F> {
    debug self => _1;
    let mut _0: GroupBy<It, F>;
    let mut _2: std::iter::Peekable<It>;
    let mut _3: &std::iter::Peekable<It>;
    let mut _4: F;
    let mut _5: &F;

    bb0: {
        _3 = &((*_1).0: std::iter::Peekable<It>);
        _2 = <Peekable<It> as Clone>::clone(move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = &((*_1).1: F);
        _4 = <F as Clone>::clone(move _5) -> [return: bb2, unwind: bb3];
    }

    bb2: {
        _0 = GroupBy::<It, F> { it: move _2, f: move _4 };
        return;
    }

    bb3 (cleanup): {
        drop(_2) -> [return: bb4, unwind terminate];
    }

    bb4 (cleanup): {
        resume;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:231:1: 231:55>::next(_1: &mut GroupBy<It, F>) -> Option<(G, InGroup<Peekable<It>, F, G>)> {
    debug self => _1;
    let mut _0: std::option::Option<(G, InGroup<std::iter::Peekable<It>, F, G>)>;
    let mut _2: std::option::Option<G>;
    let mut _3: std::option::Option<&<It as std::iter::Iterator>::Item>;
    let mut _4: &mut std::iter::Peekable<It>;
    let mut _5: &mut F;
    let mut _6: [closure@ui/impl-trait/example-calendar.rs:240:45: 240:50];
    let mut _7: &mut &mut GroupBy<It, F>;

    bb0: {
        _4 = &mut ((*_1).0: std::iter::Peekable<It>);
        _3 = Peekable::<It>::peek(move _4) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = &mut ((*_1).1: F);
        _2 = Option::<&<It as Iterator>::Item>::map::<G, &mut F>(move _3, move _5) -> [return: bb2, unwind continue];
    }

    bb2: {
        _7 = &mut _1;
        _6 = [closure@ui/impl-trait/example-calendar.rs:240:45: 240:50] { self: move _7 };
        _0 = Option::<G>::map::<(G, InGroup<Peekable<It>, F, G>), [closure@ui/impl-trait/example-calendar.rs:240:45: 240:50]>(move _2, move _6) -> [return: bb3, unwind continue];
    }

    bb3: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:231:1: 231:55>::next::{closure#0}(_1: [closure@ui/impl-trait/example-calendar.rs:240:45: 240:50], _2: G) -> (G, InGroup<Peekable<It>, F, G>) {
    debug key => _2;
    debug self => (*(_1.0: &mut &mut GroupBy<It, F>));
    let mut _0: (G, InGroup<std::iter::Peekable<It>, F, G>);
    let _3: std::iter::Peekable<It>;
    let mut _4: &std::iter::Peekable<It>;
    let mut _5: std::option::Option<G>;
    let mut _6: std::option::Option<&<It as std::iter::Iterator>::Item>;
    let mut _7: &mut std::iter::Peekable<It>;
    let mut _8: &mut F;
    let mut _9: isize;
    let mut _11: bool;
    let mut _12: &G;
    let mut _13: &G;
    let _14: std::option::Option<<It as std::iter::Iterator>::Item>;
    let mut _15: &mut std::iter::Peekable<It>;
    let mut _16: G;
    let mut _17: &G;
    let mut _18: InGroup<std::iter::Peekable<It>, F, G>;
    let mut _19: std::iter::Peekable<It>;
    let mut _20: F;
    let mut _21: &F;
    let mut _22: G;
    let mut _23: &mut &mut GroupBy<It, F>;
    let mut _24: &mut GroupBy<It, F>;
    let mut _25: &mut &mut GroupBy<It, F>;
    let mut _26: &mut GroupBy<It, F>;
    let mut _27: &mut &mut GroupBy<It, F>;
    let mut _28: &mut GroupBy<It, F>;
    let mut _29: &mut &mut GroupBy<It, F>;
    let mut _30: &mut GroupBy<It, F>;
    let mut _31: &mut &mut GroupBy<It, F>;
    let mut _32: &mut GroupBy<It, F>;
    let mut _33: bool;
    let mut _34: bool;
    let mut _35: isize;
    scope 1 {
        debug start => _3;
        scope 2 {
            debug k => _10;
            let _10: G;
        }
    }

    bb0: {
        _34 = const false;
        _33 = const false;
        _23 = deref_copy (_1.0: &mut &mut GroupBy<It, F>);
        _24 = deref_copy (*_23);
        _4 = &((*_24).0: std::iter::Peekable<It>);
        _3 = <Peekable<It> as Clone>::clone(move _4) -> [return: bb1, unwind: bb17];
    }

    bb1: {
        _34 = const true;
        goto -> bb2;
    }

    bb2: {
        _25 = deref_copy (_1.0: &mut &mut GroupBy<It, F>);
        _26 = deref_copy (*_25);
        _7 = &mut ((*_26).0: std::iter::Peekable<It>);
        _6 = Peekable::<It>::peek(move _7) -> [return: bb3, unwind: bb24];
    }

    bb3: {
        _27 = deref_copy (_1.0: &mut &mut GroupBy<It, F>);
        _28 = deref_copy (*_27);
        _8 = &mut ((*_28).1: F);
        _5 = Option::<&<It as Iterator>::Item>::map::<G, &mut F>(move _6, move _8) -> [return: bb4, unwind: bb24];
    }

    bb4: {
        _33 = const true;
        _9 = discriminant(_5);
        switchInt(move _9) -> [1: bb5, otherwise: bb22];
    }

    bb5: {
        _33 = const false;
        _10 = move ((_5 as Some).0: G);
        _12 = &_2;
        _13 = &_10;
        _11 = <G as PartialEq>::ne(move _12, move _13) -> [return: bb6, unwind: bb16];
    }

    bb6: {
        switchInt(move _11) -> [0: bb8, otherwise: bb7];
    }

    bb7: {
        drop(_10) -> [return: bb22, unwind: bb24];
    }

    bb8: {
        _29 = deref_copy (_1.0: &mut &mut GroupBy<It, F>);
        _30 = deref_copy (*_29);
        _15 = &mut ((*_30).0: std::iter::Peekable<It>);
        _14 = <Peekable<It> as Iterator>::next(move _15) -> [return: bb9, unwind: bb16];
    }

    bb9: {
        drop(_14) -> [return: bb10, unwind: bb16];
    }

    bb10: {
        drop(_10) -> [return: bb11, unwind: bb24];
    }

    bb11: {
        _33 = const false;
        goto -> bb2;
    }

    bb12: {
        _34 = const false;
        _19 = move _3;
        _31 = deref_copy (_1.0: &mut &mut GroupBy<It, F>);
        _32 = deref_copy (*_31);
        _21 = &((*_32).1: F);
        _20 = <F as Clone>::clone(move _21) -> [return: bb13, unwind: bb14];
    }

    bb13: {
        _22 = move _2;
        _18 = InGroup::<Peekable<It>, F, G> { it: move _19, f: move _20, g: move _22 };
        _0 = (move _16, move _18);
        _34 = const false;
        return;
    }

    bb14 (cleanup): {
        drop(_19) -> [return: bb15, unwind terminate];
    }

    bb15 (cleanup): {
        drop(_16) -> [return: bb24, unwind terminate];
    }

    bb16 (cleanup): {
        drop(_10) -> [return: bb24, unwind terminate];
    }

    bb17 (cleanup): {
        drop(_2) -> [return: bb18, unwind terminate];
    }

    bb18 (cleanup): {
        resume;
    }

    bb19: {
        _33 = const false;
        _17 = &_2;
        _16 = <G as Clone>::clone(move _17) -> [return: bb12, unwind: bb24];
    }

    bb20: {
        switchInt(_33) -> [0: bb19, otherwise: bb21];
    }

    bb21: {
        drop(((_5 as Some).0: G)) -> [return: bb19, unwind: bb24];
    }

    bb22: {
        _35 = discriminant(_5);
        switchInt(move _35) -> [1: bb20, otherwise: bb19];
    }

    bb23 (cleanup): {
        drop(_3) -> [return: bb17, unwind terminate];
    }

    bb24 (cleanup): {
        switchInt(_34) -> [0: bb17, otherwise: bb23];
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:258:16: 258:21>::clone(_1: &InGroup<It, F, G>) -> InGroup<It, F, G> {
    debug self => _1;
    let mut _0: InGroup<It, F, G>;
    let mut _2: It;
    let _3: &It;
    let mut _4: F;
    let _5: &F;
    let mut _6: G;
    let _7: &G;

    bb0: {
        _3 = &((*_1).0: It);
        _2 = <It as Clone>::clone(_3) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = &((*_1).1: F);
        _4 = <F as Clone>::clone(_5) -> [return: bb2, unwind: bb5];
    }

    bb2: {
        _7 = &((*_1).2: G);
        _6 = <G as Clone>::clone(_7) -> [return: bb3, unwind: bb4];
    }

    bb3: {
        _0 = InGroup::<It, F, G> { it: move _2, f: move _4, g: move _6 };
        return;
    }

    bb4 (cleanup): {
        drop(_4) -> [return: bb5, unwind terminate];
    }

    bb5 (cleanup): {
        drop(_2) -> [return: bb6, unwind terminate];
    }

    bb6 (cleanup): {
        resume;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:265:1: 265:83>::next(_1: &mut InGroup<It, F, G>) -> Option<<It as Iterator>::Item> {
    debug self => _1;
    let mut _0: std::option::Option<<It as std::iter::Iterator>::Item>;
    let mut _2: std::option::Option<<It as std::iter::Iterator>::Item>;
    let mut _3: &mut It;
    let mut _4: [closure@ui/impl-trait/example-calendar.rs:269:33: 269:36];
    let mut _5: &mut &mut InGroup<It, F, G>;

    bb0: {
        _3 = &mut ((*_1).0: It);
        _2 = <It as Iterator>::next(move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = &mut _1;
        _4 = [closure@ui/impl-trait/example-calendar.rs:269:33: 269:36] { self: move _5 };
        _0 = Option::<<It as Iterator>::Item>::and_then::<<It as Iterator>::Item, [closure@ui/impl-trait/example-calendar.rs:269:33: 269:36]>(move _2, move _4) -> [return: bb2, unwind continue];
    }

    bb2: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:265:1: 265:83>::next::{closure#0}(_1: [closure@ui/impl-trait/example-calendar.rs:269:33: 269:36], _2: <It as Iterator>::Item) -> Option<<It as Iterator>::Item> {
    debug x => _2;
    debug self => (*(_1.0: &mut &mut InGroup<It, F, G>));
    let mut _0: std::option::Option<<It as std::iter::Iterator>::Item>;
    let mut _3: bool;
    let mut _4: &G;
    let _5: G;
    let mut _6: &mut F;
    let mut _7: (&<It as std::iter::Iterator>::Item,);
    let _8: &<It as std::iter::Iterator>::Item;
    let mut _9: &G;
    let mut _10: <It as std::iter::Iterator>::Item;
    let mut _11: &mut &mut InGroup<It, F, G>;
    let mut _12: &mut InGroup<It, F, G>;
    let mut _13: &mut &mut InGroup<It, F, G>;
    let mut _14: &mut InGroup<It, F, G>;
    let mut _15: bool;

    bb0: {
        _15 = const false;
        _15 = const true;
        _11 = deref_copy (_1.0: &mut &mut InGroup<It, F, G>);
        _12 = deref_copy (*_11);
        _6 = &mut ((*_12).1: F);
        _8 = &_2;
        _7 = (_8,);
        _5 = <F as FnMut<(&<It as Iterator>::Item,)>>::call_mut(move _6, move _7) -> [return: bb1, unwind: bb9];
    }

    bb1: {
        _4 = &_5;
        _13 = deref_copy (_1.0: &mut &mut InGroup<It, F, G>);
        _14 = deref_copy (*_13);
        _9 = &((*_14).2: G);
        _3 = <G as PartialEq>::eq(move _4, move _9) -> [return: bb2, unwind: bb8];
    }

    bb2: {
        drop(_5) -> [return: bb3, unwind: bb9];
    }

    bb3: {
        switchInt(move _3) -> [0: bb5, otherwise: bb4];
    }

    bb4: {
        _15 = const false;
        _10 = move _2;
        _0 = Option::<<It as Iterator>::Item>::Some(move _10);
        goto -> bb6;
    }

    bb5: {
        _0 = Option::<<It as Iterator>::Item>::None;
        goto -> bb6;
    }

    bb6: {
        switchInt(_15) -> [0: bb7, otherwise: bb11];
    }

    bb7: {
        return;
    }

    bb8 (cleanup): {
        drop(_5) -> [return: bb9, unwind terminate];
    }

    bb9 (cleanup): {
        drop(_2) -> [return: bb10, unwind terminate];
    }

    bb10 (cleanup): {
        resume;
    }

    bb11: {
        drop(_2) -> [return: bb7, unwind continue];
    }
}

fn IteratorExt::group_by(_1: Self, _2: F) -> GroupBy<Self, F> {
    debug self => _1;
    debug f => _2;
    let mut _0: GroupBy<Self, F>;
    let mut _3: std::iter::Peekable<Self>;
    let mut _4: F;

    bb0: {
        _3 = <Self as Iterator>::peekable(move _1) -> [return: bb1, unwind: bb2];
    }

    bb1: {
        _4 = move _2;
        _0 = GroupBy::<Self, F> { it: move _3, f: move _4 };
        return;
    }

    bb2 (cleanup): {
        drop(_2) -> [return: bb3, unwind terminate];
    }

    bb3 (cleanup): {
        resume;
    }
}

fn IteratorExt::join(_1: Self, _2: &str) -> String {
    debug self => _1;
    debug sep => _2;
    let mut _0: std::string::String;
    let mut _3: std::string::String;
    let mut _4: std::option::Option<<Self as std::iter::Iterator>::Item>;
    let mut _5: &mut Self;
    let mut _6: isize;
    let _8: ();
    let mut _9: std::result::Result<(), std::fmt::Error>;
    let mut _10: &mut std::string::String;
    let mut _11: std::fmt::Arguments<'_>;
    let mut _12: &[&str];
    let mut _13: &[core::fmt::rt::Argument<'_>];
    let _14: &[core::fmt::rt::Argument<'_>; 1];
    let _15: [core::fmt::rt::Argument<'_>; 1];
    let mut _16: core::fmt::rt::Argument<'_>;
    let _17: &<Self as std::iter::Iterator>::Item;
    let mut _18: Self;
    let mut _19: Self;
    let mut _21: std::option::Option<<Self as std::iter::Iterator>::Item>;
    let mut _22: &mut Self;
    let mut _23: isize;
    let _25: ();
    let mut _26: &mut std::string::String;
    let _27: ();
    let mut _28: std::result::Result<(), std::fmt::Error>;
    let mut _29: &mut std::string::String;
    let mut _30: std::fmt::Arguments<'_>;
    let mut _31: &[&str];
    let mut _32: &[core::fmt::rt::Argument<'_>];
    let _33: &[core::fmt::rt::Argument<'_>; 1];
    let _34: [core::fmt::rt::Argument<'_>; 1];
    let mut _35: core::fmt::rt::Argument<'_>;
    let _36: &<Self as std::iter::Iterator>::Item;
    let mut _39: bool;
    let mut _40: bool;
    let mut _41: isize;
    scope 1 {
        debug s => _3;
        scope 2 {
            debug e => _7;
            let _7: <Self as std::iter::Iterator>::Item;
            let mut _20: Self;
            let mut _38: &[&str; 1];
            scope 3 {
                debug iter => _20;
                let _24: <Self as std::iter::Iterator>::Item;
                scope 4 {
                    debug e => _24;
                    let mut _37: &[&str; 1];
                }
            }
        }
    }

    bb0: {
        _40 = const false;
        _39 = const false;
        _40 = const true;
        _3 = String::new() -> [return: bb1, unwind: bb32];
    }

    bb1: {
        _5 = &mut _1;
        _4 = <Self as Iterator>::next(move _5) -> [return: bb2, unwind: bb24];
    }

    bb2: {
        _39 = const true;
        _6 = discriminant(_4);
        switchInt(move _6) -> [1: bb3, otherwise: bb29];
    }

    bb3: {
        _39 = const false;
        _7 = move ((_4 as Some).0: <Self as std::iter::Iterator>::Item);
        _10 = &mut _3;
        _38 = const _;
        _12 = _38 as &[&str] (Pointer(Unsize));
        _17 = &_7;
        _16 = core::fmt::rt::Argument::<'_>::new_display::<<Self as Iterator>::Item>(_17) -> [return: bb4, unwind: bb23];
    }

    bb4: {
        _15 = [move _16];
        _14 = &_15;
        _13 = _14 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _11 = Arguments::<'_>::new_v1(move _12, move _13) -> [return: bb5, unwind: bb23];
    }

    bb5: {
        _9 = <String as std::fmt::Write>::write_fmt(move _10, move _11) -> [return: bb6, unwind: bb23];
    }

    bb6: {
        _8 = Result::<(), std::fmt::Error>::unwrap(move _9) -> [return: bb7, unwind: bb23];
    }

    bb7: {
        _40 = const false;
        _19 = move _1;
        _18 = <Self as IntoIterator>::into_iter(move _19) -> [return: bb8, unwind: bb23];
    }

    bb8: {
        _20 = move _18;
        goto -> bb9;
    }

    bb9: {
        _22 = &mut _20;
        _21 = <Self as Iterator>::next(_22) -> [return: bb10, unwind: bb22];
    }

    bb10: {
        _23 = discriminant(_21);
        switchInt(move _23) -> [0: bb13, 1: bb11, otherwise: bb12];
    }

    bb11: {
        _24 = move ((_21 as Some).0: <Self as std::iter::Iterator>::Item);
        _26 = &mut _3;
        _25 = String::push_str(move _26, _2) -> [return: bb14, unwind: bb21];
    }

    bb12: {
        unreachable;
    }

    bb13: {
        drop(_20) -> [return: bb19, unwind: bb23];
    }

    bb14: {
        _29 = &mut _3;
        _37 = const _;
        _31 = _37 as &[&str] (Pointer(Unsize));
        _36 = &_24;
        _35 = core::fmt::rt::Argument::<'_>::new_display::<<Self as Iterator>::Item>(_36) -> [return: bb15, unwind: bb21];
    }

    bb15: {
        _34 = [move _35];
        _33 = &_34;
        _32 = _33 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _30 = Arguments::<'_>::new_v1(move _31, move _32) -> [return: bb16, unwind: bb21];
    }

    bb16: {
        _28 = <String as std::fmt::Write>::write_fmt(move _29, move _30) -> [return: bb17, unwind: bb21];
    }

    bb17: {
        _27 = Result::<(), std::fmt::Error>::unwrap(move _28) -> [return: bb18, unwind: bb21];
    }

    bb18: {
        drop(_24) -> [return: bb9, unwind: bb22];
    }

    bb19: {
        drop(_7) -> [return: bb29, unwind: bb24];
    }

    bb20: {
        return;
    }

    bb21 (cleanup): {
        drop(_24) -> [return: bb22, unwind terminate];
    }

    bb22 (cleanup): {
        drop(_20) -> [return: bb23, unwind terminate];
    }

    bb23 (cleanup): {
        drop(_7) -> [return: bb24, unwind terminate];
    }

    bb24 (cleanup): {
        drop(_3) -> [return: bb32, unwind terminate];
    }

    bb25 (cleanup): {
        resume;
    }

    bb26: {
        _39 = const false;
        _0 = move _3;
        switchInt(_40) -> [0: bb20, otherwise: bb30];
    }

    bb27: {
        switchInt(_39) -> [0: bb26, otherwise: bb28];
    }

    bb28: {
        drop(((_4 as Some).0: <Self as std::iter::Iterator>::Item)) -> [return: bb26, unwind: bb24];
    }

    bb29: {
        _41 = discriminant(_4);
        switchInt(move _41) -> [1: bb27, otherwise: bb26];
    }

    bb30: {
        drop(_1) -> [return: bb20, unwind continue];
    }

    bb31 (cleanup): {
        drop(_1) -> [return: bb25, unwind terminate];
    }

    bb32 (cleanup): {
        switchInt(_40) -> [0: bb25, otherwise: bb31];
    }
}

promoted[0] in IteratorExt::join: &[&str; 1] = {
    let mut _0: &[&str; 1];
    let mut _1: [&str; 1];

    bb0: {
        _1 = [const ""];
        _0 = &_1;
        return;
    }
}

promoted[1] in IteratorExt::join: &[&str; 1] = {
    let mut _0: &[&str; 1];
    let mut _1: [&str; 1];

    bb0: {
        _1 = [const ""];
        _0 = &_1;
        return;
    }
}

fn IteratorExt::__(_1: Self, _2: F) -> R {
    debug self => _1;
    debug f => _2;
    let mut _0: R;
    let mut _3: (Self,);

    bb0: {
        _3 = (move _1,);
        _0 = <F as FnOnce<(Self,)>>::call_once(move _2, move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn spaces(_1: usize) -> std::iter::Take<std::iter::Repeat<char>> {
    debug n => _1;
    let mut _0: std::iter::Take<std::iter::Repeat<char>>;
    let mut _2: std::iter::Repeat<char>;

    bb0: {
        _2 = std::iter::repeat::<char>(const ' ') -> [return: bb1, unwind continue];
    }

    bb1: {
        _0 = <std::iter::Repeat<char> as Iterator>::take(move _2, _1) -> [return: bb2, unwind continue];
    }

    bb2: {
        return;
    }
}

fn test_spaces() -> () {
    let mut _0: ();
    let mut _1: (&std::string::String, &&str);
    let mut _2: &std::string::String;
    let _3: std::string::String;
    let mut _4: std::iter::Take<std::iter::Repeat<char>>;
    let _5: &std::string::String;
    let _6: &&str;
    let mut _7: bool;
    let mut _8: bool;
    let _10: !;
    let mut _11: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _12: (&std::string::String, &&str);
    let mut _13: &std::string::String;
    let _14: std::string::String;
    let mut _15: std::iter::Take<std::iter::Repeat<char>>;
    let _16: &std::string::String;
    let _17: &&str;
    let mut _18: bool;
    let mut _19: bool;
    let _21: !;
    let mut _22: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _23: &&str;
    let mut _24: &&str;
    scope 1 {
        debug left_val => _5;
        debug right_val => _6;
        let _9: core::panicking::AssertKind;
        scope 2 {
            debug kind => _9;
        }
    }
    scope 3 {
        debug left_val => _16;
        debug right_val => _17;
        let _20: core::panicking::AssertKind;
        scope 4 {
            debug kind => _20;
        }
    }

    bb0: {
        _4 = spaces(const 0_usize) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = <std::iter::Take<std::iter::Repeat<char>> as Iterator>::collect::<String>(move _4) -> [return: bb2, unwind continue];
    }

    bb2: {
        _2 = &_3;
        _24 = const _;
        _1 = (move _2, _24);
        _5 = (_1.0: &std::string::String);
        _6 = (_1.1: &&str);
        _8 = <String as PartialEq<&str>>::eq(_5, _6) -> [return: bb3, unwind: bb14];
    }

    bb3: {
        _7 = Not(move _8);
        switchInt(move _7) -> [0: bb5, otherwise: bb4];
    }

    bb4: {
        _9 = core::panicking::AssertKind::Eq;
        _11 = Option::<Arguments<'_>>::None;
        _10 = core::panicking::assert_failed::<String, &str>(move _9, _5, _6, move _11) -> bb14;
    }

    bb5: {
        drop(_3) -> [return: bb6, unwind continue];
    }

    bb6: {
        _15 = spaces(const 10_usize) -> [return: bb7, unwind continue];
    }

    bb7: {
        _14 = <std::iter::Take<std::iter::Repeat<char>> as Iterator>::collect::<String>(move _15) -> [return: bb8, unwind continue];
    }

    bb8: {
        _13 = &_14;
        _23 = const _;
        _12 = (move _13, _23);
        _16 = (_12.0: &std::string::String);
        _17 = (_12.1: &&str);
        _19 = <String as PartialEq<&str>>::eq(_16, _17) -> [return: bb9, unwind: bb13];
    }

    bb9: {
        _18 = Not(move _19);
        switchInt(move _18) -> [0: bb11, otherwise: bb10];
    }

    bb10: {
        _20 = core::panicking::AssertKind::Eq;
        _22 = Option::<Arguments<'_>>::None;
        _21 = core::panicking::assert_failed::<String, &str>(move _20, _16, _17, move _22) -> bb13;
    }

    bb11: {
        drop(_14) -> [return: bb12, unwind continue];
    }

    bb12: {
        return;
    }

    bb13 (cleanup): {
        drop(_14) -> [return: bb15, unwind terminate];
    }

    bb14 (cleanup): {
        drop(_3) -> [return: bb15, unwind terminate];
    }

    bb15 (cleanup): {
        resume;
    }
}

promoted[0] in test_spaces: &&str = {
    let mut _0: &&str;
    let mut _1: &str;

    bb0: {
        _1 = const "          ";
        _0 = &_1;
        return;
    }
}

promoted[1] in test_spaces: &&str = {
    let mut _0: &&str;
    let mut _1: &str;

    bb0: {
        _1 = const "";
        _0 = &_1;
        return;
    }
}

fn dates_in_year(_1: i32) -> impl Iterator<Item = NaiveDate> + Clone {
    debug year => _1;
    let mut _0: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _2: std::ops::RangeFrom<NaiveDate>;
    let mut _3: NaiveDate;

    bb0: {
        _3 = NaiveDate::from_ymd(_1, const 1_u32, const 1_u32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _2 = RangeFrom::<NaiveDate> { start: move _3 };
        _0 = InGroup::<RangeFrom<NaiveDate>, [closure@ui/impl-trait/example-calendar.rs:320:12: 320:27], i32> { it: move _2, f: const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:320:12: 320:27], g: _1 };
        return;
    }
}

fn dates_in_year::{closure#0}(_1: &[closure@ui/impl-trait/example-calendar.rs:320:12: 320:27], _2: &NaiveDate) -> i32 {
    debug d => _2;
    let mut _0: i32;

    bb0: {
        _0 = NaiveDate::year(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn test_dates_in_year() -> () {
    let mut _0: ();
    let mut _1: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _2: (&std::option::Option<NaiveDate>, &std::option::Option<NaiveDate>);
    let mut _3: &std::option::Option<NaiveDate>;
    let _4: std::option::Option<NaiveDate>;
    let mut _5: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _6: &std::option::Option<NaiveDate>;
    let _7: std::option::Option<NaiveDate>;
    let mut _8: NaiveDate;
    let mut _11: bool;
    let mut _12: bool;
    let _14: !;
    let mut _15: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _16: (&std::option::Option<NaiveDate>, &std::option::Option<NaiveDate>);
    let mut _17: &std::option::Option<NaiveDate>;
    let _18: std::option::Option<NaiveDate>;
    let mut _19: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _20: &std::option::Option<NaiveDate>;
    let _21: std::option::Option<NaiveDate>;
    let mut _22: NaiveDate;
    let mut _25: bool;
    let mut _26: bool;
    let _28: !;
    let mut _29: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _30: std::ops::Range<i32>;
    let mut _31: std::ops::Range<i32>;
    let mut _33: std::option::Option<i32>;
    let mut _34: &mut std::ops::Range<i32>;
    let mut _35: isize;
    let mut _36: bool;
    let mut _37: bool;
    let mut _38: &std::option::Option<NaiveDate>;
    let _39: std::option::Option<NaiveDate>;
    let mut _40: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _41: !;
    let mut _42: (&std::option::Option<NaiveDate>, &std::option::Option<NaiveDate>);
    let mut _43: &std::option::Option<NaiveDate>;
    let _44: std::option::Option<NaiveDate>;
    let mut _45: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _46: &std::option::Option<NaiveDate>;
    let _47: std::option::Option<NaiveDate>;
    let mut _48: NaiveDate;
    let mut _51: bool;
    let mut _52: bool;
    let _54: !;
    let mut _55: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _56: (&std::option::Option<NaiveDate>, &std::option::Option<NaiveDate>);
    let mut _57: &std::option::Option<NaiveDate>;
    let _58: std::option::Option<NaiveDate>;
    let mut _59: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _60: &std::option::Option<NaiveDate>;
    let _61: std::option::Option<NaiveDate>;
    let mut _62: NaiveDate;
    let mut _65: bool;
    let mut _66: bool;
    let _68: !;
    let mut _69: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _70: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _71: std::ops::Range<i32>;
    let mut _72: std::ops::Range<i32>;
    let mut _74: std::option::Option<i32>;
    let mut _75: &mut std::ops::Range<i32>;
    let mut _76: isize;
    let mut _77: bool;
    let mut _78: bool;
    let mut _79: &std::option::Option<NaiveDate>;
    let _80: std::option::Option<NaiveDate>;
    let mut _81: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _82: !;
    let mut _83: (&std::option::Option<NaiveDate>, &std::option::Option<NaiveDate>);
    let mut _84: &std::option::Option<NaiveDate>;
    let _85: std::option::Option<NaiveDate>;
    let mut _86: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _89: bool;
    let mut _90: bool;
    let _92: !;
    let mut _93: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _94: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _95: std::ops::Range<i32>;
    let mut _96: std::ops::Range<i32>;
    let mut _98: std::option::Option<i32>;
    let mut _99: &mut std::ops::Range<i32>;
    let mut _100: isize;
    let mut _101: bool;
    let mut _102: bool;
    let mut _103: &std::option::Option<NaiveDate>;
    let _104: std::option::Option<NaiveDate>;
    let mut _105: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _106: !;
    let mut _107: (&std::option::Option<NaiveDate>, &std::option::Option<NaiveDate>);
    let mut _108: &std::option::Option<NaiveDate>;
    let _109: std::option::Option<NaiveDate>;
    let mut _110: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _113: bool;
    let mut _114: bool;
    let _116: !;
    let mut _117: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug dates => _1;
        let _9: &std::option::Option<NaiveDate>;
        let _10: &std::option::Option<NaiveDate>;
        let _23: &std::option::Option<NaiveDate>;
        let _24: &std::option::Option<NaiveDate>;
        let mut _32: std::ops::Range<i32>;
        let _49: &std::option::Option<NaiveDate>;
        let _50: &std::option::Option<NaiveDate>;
        let _63: &std::option::Option<NaiveDate>;
        let _64: &std::option::Option<NaiveDate>;
        scope 2 {
            debug left_val => _9;
            debug right_val => _10;
            let _13: core::panicking::AssertKind;
            scope 3 {
                debug kind => _13;
            }
        }
        scope 4 {
            debug left_val => _23;
            debug right_val => _24;
            let _27: core::panicking::AssertKind;
            scope 5 {
                debug kind => _27;
            }
        }
        scope 6 {
            debug iter => _32;
            let mut _118: &std::option::Option<NaiveDate>;
        }
        scope 7 {
            debug left_val => _49;
            debug right_val => _50;
            let _53: core::panicking::AssertKind;
            scope 8 {
                debug kind => _53;
            }
        }
        scope 9 {
            debug left_val => _63;
            debug right_val => _64;
            let _67: core::panicking::AssertKind;
            scope 10 {
                debug kind => _67;
            }
        }
    }
    scope 11 {
        debug dates => _70;
        let mut _73: std::ops::Range<i32>;
        let _87: &std::option::Option<NaiveDate>;
        let _88: &std::option::Option<NaiveDate>;
        let mut _122: &std::option::Option<NaiveDate>;
        scope 12 {
            debug iter => _73;
            let mut _119: &std::option::Option<NaiveDate>;
        }
        scope 13 {
            debug left_val => _87;
            debug right_val => _88;
            let _91: core::panicking::AssertKind;
            scope 14 {
                debug kind => _91;
            }
        }
    }
    scope 15 {
        debug dates => _94;
        let mut _97: std::ops::Range<i32>;
        let _111: &std::option::Option<NaiveDate>;
        let _112: &std::option::Option<NaiveDate>;
        let mut _121: &std::option::Option<NaiveDate>;
        scope 16 {
            debug iter => _97;
            let mut _120: &std::option::Option<NaiveDate>;
        }
        scope 17 {
            debug left_val => _111;
            debug right_val => _112;
            let _115: core::panicking::AssertKind;
            scope 18 {
                debug kind => _115;
            }
        }
    }

    bb0: {
        _1 = dates_in_year(const 2013_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = &mut _1;
        _4 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _5) -> [return: bb2, unwind continue];
    }

    bb2: {
        _3 = &_4;
        _8 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 1_u32) -> [return: bb3, unwind continue];
    }

    bb3: {
        _7 = Option::<NaiveDate>::Some(move _8);
        _6 = &_7;
        _2 = (move _3, move _6);
        _9 = (_2.0: &std::option::Option<NaiveDate>);
        _10 = (_2.1: &std::option::Option<NaiveDate>);
        _12 = <Option<NaiveDate> as PartialEq>::eq(_9, _10) -> [return: bb4, unwind continue];
    }

    bb4: {
        _11 = Not(move _12);
        switchInt(move _11) -> [0: bb6, otherwise: bb5];
    }

    bb5: {
        _13 = core::panicking::AssertKind::Eq;
        _15 = Option::<Arguments<'_>>::None;
        _14 = core::panicking::assert_failed::<Option<NaiveDate>, Option<NaiveDate>>(move _13, _9, _10, move _15) -> unwind continue;
    }

    bb6: {
        _19 = &mut _1;
        _18 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _19) -> [return: bb7, unwind continue];
    }

    bb7: {
        _17 = &_18;
        _22 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 2_u32) -> [return: bb8, unwind continue];
    }

    bb8: {
        _21 = Option::<NaiveDate>::Some(move _22);
        _20 = &_21;
        _16 = (move _17, move _20);
        _23 = (_16.0: &std::option::Option<NaiveDate>);
        _24 = (_16.1: &std::option::Option<NaiveDate>);
        _26 = <Option<NaiveDate> as PartialEq>::eq(_23, _24) -> [return: bb9, unwind continue];
    }

    bb9: {
        _25 = Not(move _26);
        switchInt(move _25) -> [0: bb11, otherwise: bb10];
    }

    bb10: {
        _27 = core::panicking::AssertKind::Eq;
        _29 = Option::<Arguments<'_>>::None;
        _28 = core::panicking::assert_failed::<Option<NaiveDate>, Option<NaiveDate>>(move _27, _23, _24, move _29) -> unwind continue;
    }

    bb11: {
        _31 = std::ops::Range::<i32> { start: const 3_i32, end: const 31_i32 };
        _30 = <std::ops::Range<i32> as IntoIterator>::into_iter(move _31) -> [return: bb12, unwind continue];
    }

    bb12: {
        _32 = move _30;
        goto -> bb13;
    }

    bb13: {
        _34 = &mut _32;
        _33 = <std::ops::Range<i32> as Iterator>::next(_34) -> [return: bb14, unwind continue];
    }

    bb14: {
        _35 = discriminant(_33);
        switchInt(move _35) -> [0: bb17, 1: bb15, otherwise: bb16];
    }

    bb15: {
        _40 = &mut _1;
        _39 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _40) -> [return: bb18, unwind continue];
    }

    bb16: {
        unreachable;
    }

    bb17: {
        _45 = &mut _1;
        _44 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _45) -> [return: bb21, unwind continue];
    }

    bb18: {
        _38 = &_39;
        _118 = const _;
        _37 = <Option<NaiveDate> as PartialEq>::ne(move _38, _118) -> [return: bb19, unwind continue];
    }

    bb19: {
        _36 = Not(move _37);
        switchInt(move _36) -> [0: bb13, otherwise: bb20];
    }

    bb20: {
        _41 = core::panicking::panic(const "assertion failed: dates.next() != None") -> unwind continue;
    }

    bb21: {
        _43 = &_44;
        _48 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 31_u32) -> [return: bb22, unwind continue];
    }

    bb22: {
        _47 = Option::<NaiveDate>::Some(move _48);
        _46 = &_47;
        _42 = (move _43, move _46);
        _49 = (_42.0: &std::option::Option<NaiveDate>);
        _50 = (_42.1: &std::option::Option<NaiveDate>);
        _52 = <Option<NaiveDate> as PartialEq>::eq(_49, _50) -> [return: bb23, unwind continue];
    }

    bb23: {
        _51 = Not(move _52);
        switchInt(move _51) -> [0: bb25, otherwise: bb24];
    }

    bb24: {
        _53 = core::panicking::AssertKind::Eq;
        _55 = Option::<Arguments<'_>>::None;
        _54 = core::panicking::assert_failed::<Option<NaiveDate>, Option<NaiveDate>>(move _53, _49, _50, move _55) -> unwind continue;
    }

    bb25: {
        _59 = &mut _1;
        _58 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _59) -> [return: bb26, unwind continue];
    }

    bb26: {
        _57 = &_58;
        _62 = NaiveDate::from_ymd(const 2013_i32, const 2_u32, const 1_u32) -> [return: bb27, unwind continue];
    }

    bb27: {
        _61 = Option::<NaiveDate>::Some(move _62);
        _60 = &_61;
        _56 = (move _57, move _60);
        _63 = (_56.0: &std::option::Option<NaiveDate>);
        _64 = (_56.1: &std::option::Option<NaiveDate>);
        _66 = <Option<NaiveDate> as PartialEq>::eq(_63, _64) -> [return: bb28, unwind continue];
    }

    bb28: {
        _65 = Not(move _66);
        switchInt(move _65) -> [0: bb30, otherwise: bb29];
    }

    bb29: {
        _67 = core::panicking::AssertKind::Eq;
        _69 = Option::<Arguments<'_>>::None;
        _68 = core::panicking::assert_failed::<Option<NaiveDate>, Option<NaiveDate>>(move _67, _63, _64, move _69) -> unwind continue;
    }

    bb30: {
        _70 = dates_in_year(const 2013_i32) -> [return: bb31, unwind continue];
    }

    bb31: {
        _72 = std::ops::Range::<i32> { start: const 0_i32, end: const 365_i32 };
        _71 = <std::ops::Range<i32> as IntoIterator>::into_iter(move _72) -> [return: bb32, unwind continue];
    }

    bb32: {
        _73 = move _71;
        goto -> bb33;
    }

    bb33: {
        _75 = &mut _73;
        _74 = <std::ops::Range<i32> as Iterator>::next(_75) -> [return: bb34, unwind continue];
    }

    bb34: {
        _76 = discriminant(_74);
        switchInt(move _76) -> [0: bb36, 1: bb35, otherwise: bb16];
    }

    bb35: {
        _81 = &mut _70;
        _80 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _81) -> [return: bb37, unwind continue];
    }

    bb36: {
        _86 = &mut _70;
        _85 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _86) -> [return: bb40, unwind continue];
    }

    bb37: {
        _79 = &_80;
        _119 = const _;
        _78 = <Option<NaiveDate> as PartialEq>::ne(move _79, _119) -> [return: bb38, unwind continue];
    }

    bb38: {
        _77 = Not(move _78);
        switchInt(move _77) -> [0: bb33, otherwise: bb39];
    }

    bb39: {
        _82 = core::panicking::panic(const "assertion failed: dates.next() != None") -> unwind continue;
    }

    bb40: {
        _84 = &_85;
        _122 = const _;
        _83 = (move _84, _122);
        _87 = (_83.0: &std::option::Option<NaiveDate>);
        _88 = (_83.1: &std::option::Option<NaiveDate>);
        _90 = <Option<NaiveDate> as PartialEq>::eq(_87, _88) -> [return: bb41, unwind continue];
    }

    bb41: {
        _89 = Not(move _90);
        switchInt(move _89) -> [0: bb43, otherwise: bb42];
    }

    bb42: {
        _91 = core::panicking::AssertKind::Eq;
        _93 = Option::<Arguments<'_>>::None;
        _92 = core::panicking::assert_failed::<Option<NaiveDate>, Option<NaiveDate>>(move _91, _87, _88, move _93) -> unwind continue;
    }

    bb43: {
        _94 = dates_in_year(const 1984_i32) -> [return: bb44, unwind continue];
    }

    bb44: {
        _96 = std::ops::Range::<i32> { start: const 0_i32, end: const 366_i32 };
        _95 = <std::ops::Range<i32> as IntoIterator>::into_iter(move _96) -> [return: bb45, unwind continue];
    }

    bb45: {
        _97 = move _95;
        goto -> bb46;
    }

    bb46: {
        _99 = &mut _97;
        _98 = <std::ops::Range<i32> as Iterator>::next(_99) -> [return: bb47, unwind continue];
    }

    bb47: {
        _100 = discriminant(_98);
        switchInt(move _100) -> [0: bb49, 1: bb48, otherwise: bb16];
    }

    bb48: {
        _105 = &mut _94;
        _104 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _105) -> [return: bb50, unwind continue];
    }

    bb49: {
        _110 = &mut _94;
        _109 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::next(move _110) -> [return: bb53, unwind continue];
    }

    bb50: {
        _103 = &_104;
        _120 = const _;
        _102 = <Option<NaiveDate> as PartialEq>::ne(move _103, _120) -> [return: bb51, unwind continue];
    }

    bb51: {
        _101 = Not(move _102);
        switchInt(move _101) -> [0: bb46, otherwise: bb52];
    }

    bb52: {
        _106 = core::panicking::panic(const "assertion failed: dates.next() != None") -> unwind continue;
    }

    bb53: {
        _108 = &_109;
        _121 = const _;
        _107 = (move _108, _121);
        _111 = (_107.0: &std::option::Option<NaiveDate>);
        _112 = (_107.1: &std::option::Option<NaiveDate>);
        _114 = <Option<NaiveDate> as PartialEq>::eq(_111, _112) -> [return: bb54, unwind continue];
    }

    bb54: {
        _113 = Not(move _114);
        switchInt(move _113) -> [0: bb56, otherwise: bb55];
    }

    bb55: {
        _115 = core::panicking::AssertKind::Eq;
        _117 = Option::<Arguments<'_>>::None;
        _116 = core::panicking::assert_failed::<Option<NaiveDate>, Option<NaiveDate>>(move _115, _111, _112, move _117) -> unwind continue;
    }

    bb56: {
        return;
    }
}

promoted[0] in test_dates_in_year: &Option<NaiveDate> = {
    let mut _0: &std::option::Option<NaiveDate>;
    let mut _1: std::option::Option<NaiveDate>;

    bb0: {
        _1 = Option::<NaiveDate>::None;
        _0 = &_1;
        return;
    }
}

promoted[1] in test_dates_in_year: &Option<NaiveDate> = {
    let mut _0: &std::option::Option<NaiveDate>;
    let mut _1: std::option::Option<NaiveDate>;

    bb0: {
        _1 = Option::<NaiveDate>::None;
        _0 = &_1;
        return;
    }
}

promoted[2] in test_dates_in_year: &Option<NaiveDate> = {
    let mut _0: &std::option::Option<NaiveDate>;
    let mut _1: std::option::Option<NaiveDate>;

    bb0: {
        _1 = Option::<NaiveDate>::None;
        _0 = &_1;
        return;
    }
}

promoted[3] in test_dates_in_year: &Option<NaiveDate> = {
    let mut _0: &std::option::Option<NaiveDate>;
    let mut _1: std::option::Option<NaiveDate>;

    bb0: {
        _1 = Option::<NaiveDate>::None;
        _0 = &_1;
        return;
    }
}

promoted[4] in test_dates_in_year: &Option<NaiveDate> = {
    let mut _0: &std::option::Option<NaiveDate>;
    let mut _1: std::option::Option<NaiveDate>;

    bb0: {
        _1 = Option::<NaiveDate>::None;
        _0 = &_1;
        return;
    }
}

fn test_group_by() -> () {
    let mut _0: ();
    let _1: [[i32; 2]; 7];
    let mut _2: [i32; 2];
    let mut _3: [i32; 2];
    let mut _4: [i32; 2];
    let mut _5: [i32; 2];
    let mut _6: [i32; 2];
    let mut _7: [i32; 2];
    let mut _8: [i32; 2];
    let mut _10: std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>;
    let mut _11: std::slice::Iter<'_, [i32; 2]>;
    let mut _12: &[[i32; 2]];
    let mut _13: &[[i32; 2]; 7];
    let mut _15: std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
    let mut _16: std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
    let mut _17: GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>;
    let mut _18: std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>;
    let mut _19: std::slice::Iter<'_, &[[i32; 2]]>;
    let mut _21: std::option::Option<((i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32>), &[[i32; 2]])>;
    let mut _22: &mut std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
    let mut _23: isize;
    let mut _26: (&&[[i32; 2]], &&[[i32; 2]]);
    let mut _27: &&[[i32; 2]];
    let _28: &[[i32; 2]];
    let _29: &[[i32; 2]];
    let mut _30: &std::vec::Vec<[i32; 2]>;
    let _31: std::vec::Vec<[i32; 2]>;
    let mut _32: &&[[i32; 2]];
    let mut _35: bool;
    let mut _36: bool;
    let _38: !;
    let mut _39: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _41: std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>;
    let mut _42: std::slice::Iter<'_, [i32; 2]>;
    let mut _43: &[[i32; 2]];
    let mut _44: &[[i32; 2]; 7];
    let mut _46: std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
    let mut _47: std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
    let mut _48: GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>;
    let mut _49: std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>;
    let mut _50: std::slice::Iter<'_, &[[i32; 2]]>;
    let mut _52: std::option::Option<((i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32>), &[[i32; 2]])>;
    let mut _53: &mut std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
    let mut _54: isize;
    let mut _57: (&&[[i32; 2]], &&[[i32; 2]]);
    let mut _58: &&[[i32; 2]];
    let _59: &[[i32; 2]];
    let _60: &[[i32; 2]];
    let mut _61: &std::vec::Vec<[i32; 2]>;
    let _62: std::vec::Vec<[i32; 2]>;
    let mut _63: &&[[i32; 2]];
    let mut _66: bool;
    let mut _67: bool;
    let _69: !;
    let mut _70: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug input => _1;
        let _9: GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>;
        scope 2 {
            debug by_x => _9;
            let _14: &[&[[i32; 2]]];
            let mut _72: &[&[[i32; 2]]; 3];
            scope 3 {
                debug expected_1 => _14;
                let mut _20: std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
                let _40: GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>;
                scope 4 {
                    debug iter => _20;
                    let _24: InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32>;
                    let _25: &[[i32; 2]];
                    scope 5 {
                        debug a => _24;
                        debug b => _25;
                        let _33: &&[[i32; 2]];
                        let _34: &&[[i32; 2]];
                        scope 6 {
                            debug left_val => _33;
                            debug right_val => _34;
                            let _37: core::panicking::AssertKind;
                            scope 7 {
                                debug kind => _37;
                            }
                        }
                    }
                }
                scope 8 {
                    debug by_y => _40;
                    let _45: &[&[[i32; 2]]];
                    let mut _71: &[&[[i32; 2]]; 3];
                    scope 9 {
                        debug expected_2 => _45;
                        let mut _51: std::iter::Zip<GroupBy<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>, std::iter::Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>;
                        scope 10 {
                            debug iter => _51;
                            let _55: InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32>;
                            let _56: &[[i32; 2]];
                            scope 11 {
                                debug a => _55;
                                debug b => _56;
                                let _64: &&[[i32; 2]];
                                let _65: &&[[i32; 2]];
                                scope 12 {
                                    debug left_val => _64;
                                    debug right_val => _65;
                                    let _68: core::panicking::AssertKind;
                                    scope 13 {
                                        debug kind => _68;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    bb0: {
        _2 = [const 1_i32, const 1_i32];
        _3 = [const 1_i32, const 1_i32];
        _4 = [const 1_i32, const 2_i32];
        _5 = [const 2_i32, const 2_i32];
        _6 = [const 2_i32, const 3_i32];
        _7 = [const 2_i32, const 3_i32];
        _8 = [const 3_i32, const 3_i32];
        _1 = [move _2, move _3, move _4, move _5, move _6, move _7, move _8];
        _13 = &_1;
        _12 = move _13 as &[[i32; 2]] (Pointer(Unsize));
        _11 = core::slice::<impl [[i32; 2]]>::iter(move _12) -> [return: bb1, unwind continue];
    }

    bb1: {
        _10 = <std::slice::Iter<'_, [i32; 2]> as Iterator>::cloned::<'_, [i32; 2]>(move _11) -> [return: bb2, unwind continue];
    }

    bb2: {
        _9 = <Cloned<std::slice::Iter<'_, [i32; 2]>> as IteratorExt>::group_by::<i32, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>(move _10, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]) -> [return: bb3, unwind continue];
    }

    bb3: {
        _72 = const _;
        _14 = _72 as &[&[[i32; 2]]] (Pointer(Unsize));
        _17 = move _9;
        _19 = core::slice::<impl [&[[i32; 2]]]>::iter(_14) -> [return: bb4, unwind continue];
    }

    bb4: {
        _18 = <std::slice::Iter<'_, &[[i32; 2]]> as Iterator>::cloned::<'_, &[[i32; 2]]>(move _19) -> [return: bb5, unwind continue];
    }

    bb5: {
        _16 = <GroupBy<Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]> as Iterator>::zip::<Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>(move _17, move _18) -> [return: bb6, unwind continue];
    }

    bb6: {
        _15 = <Zip<GroupBy<Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>, Cloned<std::slice::Iter<'_, &[[i32; 2]]>>> as IntoIterator>::into_iter(move _16) -> [return: bb7, unwind continue];
    }

    bb7: {
        _20 = move _15;
        goto -> bb8;
    }

    bb8: {
        _22 = &mut _20;
        _21 = <Zip<GroupBy<Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50]>, Cloned<std::slice::Iter<'_, &[[i32; 2]]>>> as Iterator>::next(_22) -> [return: bb9, unwind continue];
    }

    bb9: {
        _23 = discriminant(_21);
        switchInt(move _23) -> [0: bb12, 1: bb10, otherwise: bb11];
    }

    bb10: {
        _24 = move ((((_21 as Some).0: ((i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32>), &[[i32; 2]])).0: (i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32>)).1: InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32>);
        _25 = (((_21 as Some).0: ((i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32>), &[[i32; 2]])).1: &[[i32; 2]]);
        _31 = <InGroup<Peekable<Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], i32> as Iterator>::collect::<Vec<[i32; 2]>>(move _24) -> [return: bb13, unwind continue];
    }

    bb11: {
        unreachable;
    }

    bb12: {
        _44 = &_1;
        _43 = move _44 as &[[i32; 2]] (Pointer(Unsize));
        _42 = core::slice::<impl [[i32; 2]]>::iter(move _43) -> [return: bb18, unwind continue];
    }

    bb13: {
        _30 = &_31;
        _29 = <Vec<[i32; 2]> as Index<RangeFull>>::index(move _30, const RangeFull) -> [return: bb14, unwind: bb35];
    }

    bb14: {
        _28 = _29;
        _27 = &_28;
        _32 = &_25;
        _26 = (move _27, move _32);
        _33 = (_26.0: &&[[i32; 2]]);
        _34 = (_26.1: &&[[i32; 2]]);
        _36 = <&[[i32; 2]] as PartialEq>::eq(_33, _34) -> [return: bb15, unwind: bb35];
    }

    bb15: {
        _35 = Not(move _36);
        switchInt(move _35) -> [0: bb17, otherwise: bb16];
    }

    bb16: {
        _37 = core::panicking::AssertKind::Eq;
        _39 = Option::<Arguments<'_>>::None;
        _38 = core::panicking::assert_failed::<&[[i32; 2]], &[[i32; 2]]>(move _37, _33, _34, move _39) -> bb35;
    }

    bb17: {
        drop(_31) -> [return: bb8, unwind continue];
    }

    bb18: {
        _41 = <std::slice::Iter<'_, [i32; 2]> as Iterator>::cloned::<'_, [i32; 2]>(move _42) -> [return: bb19, unwind continue];
    }

    bb19: {
        _40 = <Cloned<std::slice::Iter<'_, [i32; 2]>> as IteratorExt>::group_by::<i32, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>(move _41, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]) -> [return: bb20, unwind continue];
    }

    bb20: {
        _71 = const _;
        _45 = _71 as &[&[[i32; 2]]] (Pointer(Unsize));
        _48 = move _40;
        _50 = core::slice::<impl [&[[i32; 2]]]>::iter(_45) -> [return: bb21, unwind continue];
    }

    bb21: {
        _49 = <std::slice::Iter<'_, &[[i32; 2]]> as Iterator>::cloned::<'_, &[[i32; 2]]>(move _50) -> [return: bb22, unwind continue];
    }

    bb22: {
        _47 = <GroupBy<Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]> as Iterator>::zip::<Cloned<std::slice::Iter<'_, &[[i32; 2]]>>>(move _48, move _49) -> [return: bb23, unwind continue];
    }

    bb23: {
        _46 = <Zip<GroupBy<Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>, Cloned<std::slice::Iter<'_, &[[i32; 2]]>>> as IntoIterator>::into_iter(move _47) -> [return: bb24, unwind continue];
    }

    bb24: {
        _51 = move _46;
        goto -> bb25;
    }

    bb25: {
        _53 = &mut _51;
        _52 = <Zip<GroupBy<Cloned<std::slice::Iter<'_, [i32; 2]>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50]>, Cloned<std::slice::Iter<'_, &[[i32; 2]]>>> as Iterator>::next(_53) -> [return: bb26, unwind continue];
    }

    bb26: {
        _54 = discriminant(_52);
        switchInt(move _54) -> [0: bb28, 1: bb27, otherwise: bb11];
    }

    bb27: {
        _55 = move ((((_52 as Some).0: ((i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32>), &[[i32; 2]])).0: (i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32>)).1: InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32>);
        _56 = (((_52 as Some).0: ((i32, InGroup<std::iter::Peekable<std::iter::Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32>), &[[i32; 2]])).1: &[[i32; 2]]);
        _62 = <InGroup<Peekable<Cloned<std::slice::Iter<'_, [i32; 2]>>>, [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], i32> as Iterator>::collect::<Vec<[i32; 2]>>(move _55) -> [return: bb29, unwind continue];
    }

    bb28: {
        return;
    }

    bb29: {
        _61 = &_62;
        _60 = <Vec<[i32; 2]> as Index<RangeFull>>::index(move _61, const RangeFull) -> [return: bb30, unwind: bb34];
    }

    bb30: {
        _59 = _60;
        _58 = &_59;
        _63 = &_56;
        _57 = (move _58, move _63);
        _64 = (_57.0: &&[[i32; 2]]);
        _65 = (_57.1: &&[[i32; 2]]);
        _67 = <&[[i32; 2]] as PartialEq>::eq(_64, _65) -> [return: bb31, unwind: bb34];
    }

    bb31: {
        _66 = Not(move _67);
        switchInt(move _66) -> [0: bb33, otherwise: bb32];
    }

    bb32: {
        _68 = core::panicking::AssertKind::Eq;
        _70 = Option::<Arguments<'_>>::None;
        _69 = core::panicking::assert_failed::<&[[i32; 2]], &[[i32; 2]]>(move _68, _64, _65, move _70) -> bb34;
    }

    bb33: {
        drop(_62) -> [return: bb25, unwind continue];
    }

    bb34 (cleanup): {
        drop(_62) -> [return: bb36, unwind terminate];
    }

    bb35 (cleanup): {
        drop(_31) -> [return: bb36, unwind terminate];
    }

    bb36 (cleanup): {
        resume;
    }
}

promoted[0] in test_group_by: &[&[[i32; 2]]; 3] = {
    let mut _0: &[&[[i32; 2]]; 3];
    let mut _1: [&[[i32; 2]]; 3];
    let mut _2: &[[i32; 2]];
    let mut _3: &[[i32; 2]; 2];
    let mut _4: &[[i32; 2]; 2];
    let mut _5: [[i32; 2]; 2];
    let mut _6: [i32; 2];
    let mut _7: [i32; 2];
    let mut _8: &[[i32; 2]];
    let mut _9: &[[i32; 2]; 2];
    let mut _10: &[[i32; 2]; 2];
    let mut _11: [[i32; 2]; 2];
    let mut _12: [i32; 2];
    let mut _13: [i32; 2];
    let mut _14: &[[i32; 2]];
    let mut _15: &[[i32; 2]; 3];
    let mut _16: &[[i32; 2]; 3];
    let mut _17: [[i32; 2]; 3];
    let mut _18: [i32; 2];
    let mut _19: [i32; 2];
    let mut _20: [i32; 2];

    bb0: {
        _6 = [const 1_i32, const 1_i32];
        _7 = [const 1_i32, const 1_i32];
        _5 = [move _6, move _7];
        _4 = &_5;
        _3 = &(*_4);
        _2 = move _3 as &[[i32; 2]] (Pointer(Unsize));
        _12 = [const 1_i32, const 2_i32];
        _13 = [const 2_i32, const 2_i32];
        _11 = [move _12, move _13];
        _10 = &_11;
        _9 = &(*_10);
        _8 = move _9 as &[[i32; 2]] (Pointer(Unsize));
        _18 = [const 2_i32, const 3_i32];
        _19 = [const 2_i32, const 3_i32];
        _20 = [const 3_i32, const 3_i32];
        _17 = [move _18, move _19, move _20];
        _16 = &_17;
        _15 = &(*_16);
        _14 = move _15 as &[[i32; 2]] (Pointer(Unsize));
        _1 = [move _2, move _8, move _14];
        _0 = &_1;
        return;
    }
}

promoted[1] in test_group_by: &[&[[i32; 2]]; 3] = {
    let mut _0: &[&[[i32; 2]]; 3];
    let mut _1: [&[[i32; 2]]; 3];
    let mut _2: &[[i32; 2]];
    let mut _3: &[[i32; 2]; 3];
    let mut _4: &[[i32; 2]; 3];
    let mut _5: [[i32; 2]; 3];
    let mut _6: [i32; 2];
    let mut _7: [i32; 2];
    let mut _8: [i32; 2];
    let mut _9: &[[i32; 2]];
    let mut _10: &[[i32; 2]; 3];
    let mut _11: &[[i32; 2]; 3];
    let mut _12: [[i32; 2]; 3];
    let mut _13: [i32; 2];
    let mut _14: [i32; 2];
    let mut _15: [i32; 2];
    let mut _16: &[[i32; 2]];
    let mut _17: &[[i32; 2]; 1];
    let mut _18: &[[i32; 2]; 1];
    let mut _19: [[i32; 2]; 1];
    let mut _20: [i32; 2];

    bb0: {
        _6 = [const 1_i32, const 1_i32];
        _7 = [const 1_i32, const 1_i32];
        _8 = [const 1_i32, const 2_i32];
        _5 = [move _6, move _7, move _8];
        _4 = &_5;
        _3 = &(*_4);
        _2 = move _3 as &[[i32; 2]] (Pointer(Unsize));
        _13 = [const 2_i32, const 2_i32];
        _14 = [const 2_i32, const 3_i32];
        _15 = [const 2_i32, const 3_i32];
        _12 = [move _13, move _14, move _15];
        _11 = &_12;
        _10 = &(*_11);
        _9 = move _10 as &[[i32; 2]] (Pointer(Unsize));
        _20 = [const 3_i32, const 3_i32];
        _19 = [move _20];
        _18 = &_19;
        _17 = &(*_18);
        _16 = move _17 as &[[i32; 2]] (Pointer(Unsize));
        _1 = [move _2, move _9, move _16];
        _0 = &_1;
        return;
    }
}

fn test_group_by::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:377:47: 377:50], _2: &[i32; 2]) -> i32 {
    debug a => _2;
    let mut _0: i32;
    let _3: usize;
    let mut _4: usize;
    let mut _5: bool;

    bb0: {
        _3 = const 0_usize;
        _4 = const 2_usize;
        _5 = Lt(_3, _4);
        assert(move _5, "index out of bounds: the length is {} but the index is {}", move _4, _3) -> [success: bb1, unwind continue];
    }

    bb1: {
        _0 = (*_2)[_3];
        return;
    }
}

test_group_by::{constant#0}: usize = {
    let mut _0: usize;

    bb0: {
        _0 = const 2_usize;
        return;
    }
}

fn test_group_by::{closure#1}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:387:47: 387:50], _2: &[i32; 2]) -> i32 {
    debug a => _2;
    let mut _0: i32;
    let _3: usize;
    let mut _4: usize;
    let mut _5: bool;

    bb0: {
        _3 = const 1_usize;
        _4 = const 2_usize;
        _5 = Lt(_3, _4);
        assert(move _5, "index out of bounds: the length is {} but the index is {}", move _4, _3) -> [success: bb1, unwind continue];
    }

    bb1: {
        _0 = (*_2)[_3];
        return;
    }
}

test_group_by::{constant#1}: usize = {
    let mut _0: usize;

    bb0: {
        _0 = const 2_usize;
        return;
    }
}

fn by_month(_1: impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone {
    debug it => _1;
    let mut _0: impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;

    bb0: {
        _0 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::group_by::<u32, [closure@ui/impl-trait/example-calendar.rs:402:17: 402:20]>(move _1, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:402:17: 402:20]) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn by_month::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:402:17: 402:20], _2: &NaiveDate) -> u32 {
    debug d => _2;
    let mut _0: u32;

    bb0: {
        _0 = NaiveDate::month(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn test_by_month() -> () {
    let mut _0: ();
    let mut _1: impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _2: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _3: std::iter::Zip<std::ops::Range<u32>, &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone>;
    let mut _4: std::iter::Zip<std::ops::Range<u32>, &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone>;
    let mut _5: std::ops::Range<u32>;
    let mut _6: &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _8: std::option::Option<(u32, (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone))>;
    let mut _9: &mut std::iter::Zip<std::ops::Range<u32>, &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone>;
    let mut _10: isize;
    let mut _13: (&NaiveDate, &NaiveDate);
    let mut _14: &NaiveDate;
    let _15: NaiveDate;
    let mut _16: std::option::Option<NaiveDate>;
    let mut _17: &mut impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _18: &NaiveDate;
    let _19: NaiveDate;
    let mut _22: bool;
    let mut _23: bool;
    let _25: !;
    let mut _26: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _27: bool;
    let mut _28: bool;
    let mut _29: &std::option::Option<(u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)>;
    let _30: std::option::Option<(u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)>;
    let mut _31: &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _32: !;
    scope 1 {
        debug months => _1;
        let mut _7: std::iter::Zip<std::ops::Range<u32>, &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone>;
        scope 2 {
            debug iter => _7;
            let _11: u32;
            let mut _12: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
            scope 3 {
                debug month => _11;
                debug date => _12;
                let _20: &NaiveDate;
                let _21: &NaiveDate;
                scope 4 {
                    debug left_val => _20;
                    debug right_val => _21;
                    let _24: core::panicking::AssertKind;
                    scope 5 {
                        debug kind => _24;
                    }
                }
            }
        }
    }

    bb0: {
        _2 = dates_in_year(const 2013_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _1 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone {by_month::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone>(move _2, by_month::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _5 = std::ops::Range::<u32> { start: const 1_u32, end: const 13_u32 };
        _6 = &mut _1;
        _4 = <std::ops::Range<u32> as Iterator>::zip::<&mut impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone>(move _5, move _6) -> [return: bb3, unwind continue];
    }

    bb3: {
        _3 = <Zip<std::ops::Range<u32>, &mut impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone> as IntoIterator>::into_iter(move _4) -> [return: bb4, unwind continue];
    }

    bb4: {
        _7 = move _3;
        goto -> bb5;
    }

    bb5: {
        _9 = &mut _7;
        _8 = <Zip<std::ops::Range<u32>, &mut impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone> as Iterator>::next(_9) -> [return: bb6, unwind continue];
    }

    bb6: {
        _10 = discriminant(_8);
        switchInt(move _10) -> [0: bb9, 1: bb7, otherwise: bb8];
    }

    bb7: {
        _12 = move ((((_8 as Some).0: (u32, (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone))).1: (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)).1: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone);
        _11 = (((_8 as Some).0: (u32, (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone))).0: u32);
        _17 = &mut _12;
        _16 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::nth(move _17, const 0_usize) -> [return: bb10, unwind continue];
    }

    bb8: {
        unreachable;
    }

    bb9: {
        _31 = &mut _1;
        _30 = <impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone as Iterator>::next(move _31) -> [return: bb15, unwind continue];
    }

    bb10: {
        _15 = Option::<NaiveDate>::unwrap(move _16) -> [return: bb11, unwind continue];
    }

    bb11: {
        _14 = &_15;
        _19 = NaiveDate::from_ymd(const 2013_i32, _11, const 1_u32) -> [return: bb12, unwind continue];
    }

    bb12: {
        _18 = &_19;
        _13 = (move _14, move _18);
        _20 = (_13.0: &NaiveDate);
        _21 = (_13.1: &NaiveDate);
        _23 = <NaiveDate as PartialEq>::eq(_20, _21) -> [return: bb13, unwind continue];
    }

    bb13: {
        _22 = Not(move _23);
        switchInt(move _22) -> [0: bb5, otherwise: bb14];
    }

    bb14: {
        _24 = core::panicking::AssertKind::Eq;
        _26 = Option::<Arguments<'_>>::None;
        _25 = core::panicking::assert_failed::<NaiveDate, NaiveDate>(move _24, _20, _21, move _26) -> unwind continue;
    }

    bb15: {
        _29 = &_30;
        _28 = Option::<(u32, impl Iterator<Item = NaiveDate> + Clone)>::is_none(move _29) -> [return: bb16, unwind continue];
    }

    bb16: {
        _27 = Not(move _28);
        switchInt(move _27) -> [0: bb18, otherwise: bb17];
    }

    bb17: {
        _32 = core::panicking::panic(const "assertion failed: months.next().is_none()") -> unwind continue;
    }

    bb18: {
        return;
    }
}

fn by_week(_1: impl DateIterator) -> impl Iterator<Item = (u32, impl DateIterator)> + Clone {
    debug it => _1;
    let mut _0: impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;

    bb0: {
        _0 = <impl DateIterator as IteratorExt>::group_by::<u32, [closure@ui/impl-trait/example-calendar.rs:418:17: 418:20]>(move _1, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:418:17: 418:20]) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn by_week::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:418:17: 418:20], _2: &NaiveDate) -> u32 {
    debug d => _2;
    let mut _0: u32;
    let mut _3: (i32, u32, Weekday);
    let mut _4: &NaiveDate;
    let _5: NaiveDate;

    bb0: {
        _5 = NaiveDate::succ(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = &_5;
        _3 = NaiveDate::isoweekdate(move _4) -> [return: bb2, unwind continue];
    }

    bb2: {
        _0 = (_3.1: u32);
        return;
    }
}

fn test_isoweekdate() -> () {
    let mut _0: ();
    let _1: std::vec::Vec<((i32, u32), u32)>;
    let mut _2: (&&[((i32, u32), u32)], &&[((i32, u32), u32); 2]);
    let mut _3: &&[((i32, u32), u32)];
    let _4: &[((i32, u32), u32)];
    let _5: &[((i32, u32), u32)];
    let mut _6: &std::vec::Vec<((i32, u32), u32)>;
    let mut _7: std::ops::RangeTo<usize>;
    let mut _10: bool;
    let mut _11: bool;
    let _13: !;
    let mut _14: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _15: (&&[((i32, u32), u32)], &&[((i32, u32), u32); 2]);
    let mut _16: &&[((i32, u32), u32)];
    let _17: &[((i32, u32), u32)];
    let _18: &[((i32, u32), u32)];
    let mut _19: &std::vec::Vec<((i32, u32), u32)>;
    let mut _20: std::ops::RangeFrom<usize>;
    let mut _21: usize;
    let mut _22: usize;
    let mut _23: &std::vec::Vec<((i32, u32), u32)>;
    let mut _26: bool;
    let mut _27: bool;
    let _29: !;
    let mut _30: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _32: (&&[((i32, u32), u32)], &&[((i32, u32), u32); 2]);
    let mut _33: &&[((i32, u32), u32)];
    let _34: &[((i32, u32), u32)];
    let _35: &[((i32, u32), u32)];
    let mut _36: &std::vec::Vec<((i32, u32), u32)>;
    let mut _37: std::ops::RangeTo<usize>;
    let mut _40: bool;
    let mut _41: bool;
    let _43: !;
    let mut _44: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _45: (&&[((i32, u32), u32)], &&[((i32, u32), u32); 2]);
    let mut _46: &&[((i32, u32), u32)];
    let _47: &[((i32, u32), u32)];
    let _48: &[((i32, u32), u32)];
    let mut _49: &std::vec::Vec<((i32, u32), u32)>;
    let mut _50: std::ops::RangeFrom<usize>;
    let mut _51: usize;
    let mut _52: usize;
    let mut _53: &std::vec::Vec<((i32, u32), u32)>;
    let mut _56: bool;
    let mut _57: bool;
    let _59: !;
    let mut _60: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _62: (&&[((i32, u32), u32)], &&[((i32, u32), u32); 2]);
    let mut _63: &&[((i32, u32), u32)];
    let _64: &[((i32, u32), u32)];
    let _65: &[((i32, u32), u32)];
    let mut _66: &std::vec::Vec<((i32, u32), u32)>;
    let mut _67: std::ops::RangeTo<usize>;
    let mut _70: bool;
    let mut _71: bool;
    let _73: !;
    let mut _74: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _75: (&&[((i32, u32), u32)], &&[((i32, u32), u32); 2]);
    let mut _76: &&[((i32, u32), u32)];
    let _77: &[((i32, u32), u32)];
    let _78: &[((i32, u32), u32)];
    let mut _79: &std::vec::Vec<((i32, u32), u32)>;
    let mut _80: std::ops::RangeFrom<usize>;
    let mut _81: usize;
    let mut _82: usize;
    let mut _83: &std::vec::Vec<((i32, u32), u32)>;
    let mut _86: bool;
    let mut _87: bool;
    let _89: !;
    let mut _90: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug wu_1984 => _1;
        let _8: &&[((i32, u32), u32)];
        let _9: &&[((i32, u32), u32); 2];
        let _24: &&[((i32, u32), u32)];
        let _25: &&[((i32, u32), u32); 2];
        let _31: std::vec::Vec<((i32, u32), u32)>;
        let mut _95: &&[((i32, u32), u32); 2];
        let mut _96: &&[((i32, u32), u32); 2];
        scope 2 {
            debug left_val => _8;
            debug right_val => _9;
            let _12: core::panicking::AssertKind;
            scope 3 {
                debug kind => _12;
            }
        }
        scope 4 {
            debug left_val => _24;
            debug right_val => _25;
            let _28: core::panicking::AssertKind;
            scope 5 {
                debug kind => _28;
            }
        }
        scope 6 {
            debug wu_2013 => _31;
            let _38: &&[((i32, u32), u32)];
            let _39: &&[((i32, u32), u32); 2];
            let _54: &&[((i32, u32), u32)];
            let _55: &&[((i32, u32), u32); 2];
            let _61: std::vec::Vec<((i32, u32), u32)>;
            let mut _93: &&[((i32, u32), u32); 2];
            let mut _94: &&[((i32, u32), u32); 2];
            scope 7 {
                debug left_val => _38;
                debug right_val => _39;
                let _42: core::panicking::AssertKind;
                scope 8 {
                    debug kind => _42;
                }
            }
            scope 9 {
                debug left_val => _54;
                debug right_val => _55;
                let _58: core::panicking::AssertKind;
                scope 10 {
                    debug kind => _58;
                }
            }
            scope 11 {
                debug wu_2015 => _61;
                let _68: &&[((i32, u32), u32)];
                let _69: &&[((i32, u32), u32); 2];
                let _84: &&[((i32, u32), u32)];
                let _85: &&[((i32, u32), u32); 2];
                let mut _91: &&[((i32, u32), u32); 2];
                let mut _92: &&[((i32, u32), u32); 2];
                scope 12 {
                    debug left_val => _68;
                    debug right_val => _69;
                    let _72: core::panicking::AssertKind;
                    scope 13 {
                        debug kind => _72;
                    }
                }
                scope 14 {
                    debug left_val => _84;
                    debug right_val => _85;
                    let _88: core::panicking::AssertKind;
                    scope 15 {
                        debug kind => _88;
                    }
                }
            }
        }
    }

    bb0: {
        _1 = weeks_uniq(const 1984_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _6 = &_1;
        _7 = RangeTo::<usize> { end: const 2_usize };
        _5 = <Vec<((i32, u32), u32)> as Index<RangeTo<usize>>>::index(move _6, move _7) -> [return: bb2, unwind: bb36];
    }

    bb2: {
        _4 = _5;
        _3 = &_4;
        _96 = const _;
        _2 = (move _3, _96);
        _8 = (_2.0: &&[((i32, u32), u32)]);
        _9 = (_2.1: &&[((i32, u32), u32); 2]);
        _11 = <&[((i32, u32), u32)] as PartialEq<&[((i32, u32), u32); 2]>>::eq(_8, _9) -> [return: bb3, unwind: bb36];
    }

    bb3: {
        _10 = Not(move _11);
        switchInt(move _10) -> [0: bb5, otherwise: bb4];
    }

    bb4: {
        _12 = core::panicking::AssertKind::Eq;
        _14 = Option::<Arguments<'_>>::None;
        _13 = core::panicking::assert_failed::<&[((i32, u32), u32)], &[((i32, u32), u32); 2]>(move _12, _8, _9, move _14) -> bb36;
    }

    bb5: {
        _19 = &_1;
        _23 = &_1;
        _22 = Vec::<((i32, u32), u32)>::len(move _23) -> [return: bb6, unwind: bb36];
    }

    bb6: {
        _21 = Sub(move _22, const 2_usize);
        _20 = RangeFrom::<usize> { start: move _21 };
        _18 = <Vec<((i32, u32), u32)> as Index<RangeFrom<usize>>>::index(move _19, move _20) -> [return: bb7, unwind: bb36];
    }

    bb7: {
        _17 = _18;
        _16 = &_17;
        _95 = const _;
        _15 = (move _16, _95);
        _24 = (_15.0: &&[((i32, u32), u32)]);
        _25 = (_15.1: &&[((i32, u32), u32); 2]);
        _27 = <&[((i32, u32), u32)] as PartialEq<&[((i32, u32), u32); 2]>>::eq(_24, _25) -> [return: bb8, unwind: bb36];
    }

    bb8: {
        _26 = Not(move _27);
        switchInt(move _26) -> [0: bb10, otherwise: bb9];
    }

    bb9: {
        _28 = core::panicking::AssertKind::Eq;
        _30 = Option::<Arguments<'_>>::None;
        _29 = core::panicking::assert_failed::<&[((i32, u32), u32)], &[((i32, u32), u32); 2]>(move _28, _24, _25, move _30) -> bb36;
    }

    bb10: {
        _31 = weeks_uniq(const 2013_i32) -> [return: bb11, unwind: bb36];
    }

    bb11: {
        _36 = &_31;
        _37 = RangeTo::<usize> { end: const 2_usize };
        _35 = <Vec<((i32, u32), u32)> as Index<RangeTo<usize>>>::index(move _36, move _37) -> [return: bb12, unwind: bb35];
    }

    bb12: {
        _34 = _35;
        _33 = &_34;
        _94 = const _;
        _32 = (move _33, _94);
        _38 = (_32.0: &&[((i32, u32), u32)]);
        _39 = (_32.1: &&[((i32, u32), u32); 2]);
        _41 = <&[((i32, u32), u32)] as PartialEq<&[((i32, u32), u32); 2]>>::eq(_38, _39) -> [return: bb13, unwind: bb35];
    }

    bb13: {
        _40 = Not(move _41);
        switchInt(move _40) -> [0: bb15, otherwise: bb14];
    }

    bb14: {
        _42 = core::panicking::AssertKind::Eq;
        _44 = Option::<Arguments<'_>>::None;
        _43 = core::panicking::assert_failed::<&[((i32, u32), u32)], &[((i32, u32), u32); 2]>(move _42, _38, _39, move _44) -> bb35;
    }

    bb15: {
        _49 = &_31;
        _53 = &_31;
        _52 = Vec::<((i32, u32), u32)>::len(move _53) -> [return: bb16, unwind: bb35];
    }

    bb16: {
        _51 = Sub(move _52, const 2_usize);
        _50 = RangeFrom::<usize> { start: move _51 };
        _48 = <Vec<((i32, u32), u32)> as Index<RangeFrom<usize>>>::index(move _49, move _50) -> [return: bb17, unwind: bb35];
    }

    bb17: {
        _47 = _48;
        _46 = &_47;
        _93 = const _;
        _45 = (move _46, _93);
        _54 = (_45.0: &&[((i32, u32), u32)]);
        _55 = (_45.1: &&[((i32, u32), u32); 2]);
        _57 = <&[((i32, u32), u32)] as PartialEq<&[((i32, u32), u32); 2]>>::eq(_54, _55) -> [return: bb18, unwind: bb35];
    }

    bb18: {
        _56 = Not(move _57);
        switchInt(move _56) -> [0: bb20, otherwise: bb19];
    }

    bb19: {
        _58 = core::panicking::AssertKind::Eq;
        _60 = Option::<Arguments<'_>>::None;
        _59 = core::panicking::assert_failed::<&[((i32, u32), u32)], &[((i32, u32), u32); 2]>(move _58, _54, _55, move _60) -> bb35;
    }

    bb20: {
        _61 = weeks_uniq(const 2015_i32) -> [return: bb21, unwind: bb35];
    }

    bb21: {
        _66 = &_61;
        _67 = RangeTo::<usize> { end: const 2_usize };
        _65 = <Vec<((i32, u32), u32)> as Index<RangeTo<usize>>>::index(move _66, move _67) -> [return: bb22, unwind: bb34];
    }

    bb22: {
        _64 = _65;
        _63 = &_64;
        _92 = const _;
        _62 = (move _63, _92);
        _68 = (_62.0: &&[((i32, u32), u32)]);
        _69 = (_62.1: &&[((i32, u32), u32); 2]);
        _71 = <&[((i32, u32), u32)] as PartialEq<&[((i32, u32), u32); 2]>>::eq(_68, _69) -> [return: bb23, unwind: bb34];
    }

    bb23: {
        _70 = Not(move _71);
        switchInt(move _70) -> [0: bb25, otherwise: bb24];
    }

    bb24: {
        _72 = core::panicking::AssertKind::Eq;
        _74 = Option::<Arguments<'_>>::None;
        _73 = core::panicking::assert_failed::<&[((i32, u32), u32)], &[((i32, u32), u32); 2]>(move _72, _68, _69, move _74) -> bb34;
    }

    bb25: {
        _79 = &_61;
        _83 = &_61;
        _82 = Vec::<((i32, u32), u32)>::len(move _83) -> [return: bb26, unwind: bb34];
    }

    bb26: {
        _81 = Sub(move _82, const 2_usize);
        _80 = RangeFrom::<usize> { start: move _81 };
        _78 = <Vec<((i32, u32), u32)> as Index<RangeFrom<usize>>>::index(move _79, move _80) -> [return: bb27, unwind: bb34];
    }

    bb27: {
        _77 = _78;
        _76 = &_77;
        _91 = const _;
        _75 = (move _76, _91);
        _84 = (_75.0: &&[((i32, u32), u32)]);
        _85 = (_75.1: &&[((i32, u32), u32); 2]);
        _87 = <&[((i32, u32), u32)] as PartialEq<&[((i32, u32), u32); 2]>>::eq(_84, _85) -> [return: bb28, unwind: bb34];
    }

    bb28: {
        _86 = Not(move _87);
        switchInt(move _86) -> [0: bb30, otherwise: bb29];
    }

    bb29: {
        _88 = core::panicking::AssertKind::Eq;
        _90 = Option::<Arguments<'_>>::None;
        _89 = core::panicking::assert_failed::<&[((i32, u32), u32)], &[((i32, u32), u32); 2]>(move _88, _84, _85, move _90) -> bb34;
    }

    bb30: {
        drop(_61) -> [return: bb31, unwind: bb35];
    }

    bb31: {
        drop(_31) -> [return: bb32, unwind: bb36];
    }

    bb32: {
        drop(_1) -> [return: bb33, unwind continue];
    }

    bb33: {
        return;
    }

    bb34 (cleanup): {
        drop(_61) -> [return: bb35, unwind terminate];
    }

    bb35 (cleanup): {
        drop(_31) -> [return: bb36, unwind terminate];
    }

    bb36 (cleanup): {
        drop(_1) -> [return: bb37, unwind terminate];
    }

    bb37 (cleanup): {
        resume;
    }
}

promoted[0] in test_isoweekdate: &&[((i32, u32), u32); 2] = {
    let mut _0: &&[((i32, u32), u32); 2];
    let mut _1: &[((i32, u32), u32); 2];
    let mut _2: [((i32, u32), u32); 2];
    let mut _3: ((i32, u32), u32);
    let mut _4: (i32, u32);
    let mut _5: ((i32, u32), u32);
    let mut _6: (i32, u32);

    bb0: {
        _4 = (const 2015_i32, const 52_u32);
        _3 = (move _4, const 7_u32);
        _6 = (const 2015_i32, const 53_u32);
        _5 = (move _6, const 4_u32);
        _2 = [move _3, move _5];
        _1 = &_2;
        _0 = &_1;
        return;
    }
}

promoted[1] in test_isoweekdate: &&[((i32, u32), u32); 2] = {
    let mut _0: &&[((i32, u32), u32); 2];
    let mut _1: &[((i32, u32), u32); 2];
    let mut _2: [((i32, u32), u32); 2];
    let mut _3: ((i32, u32), u32);
    let mut _4: (i32, u32);
    let mut _5: ((i32, u32), u32);
    let mut _6: (i32, u32);

    bb0: {
        _4 = (const 2015_i32, const 1_u32);
        _3 = (move _4, const 4_u32);
        _6 = (const 2015_i32, const 2_u32);
        _5 = (move _6, const 7_u32);
        _2 = [move _3, move _5];
        _1 = &_2;
        _0 = &_1;
        return;
    }
}

promoted[2] in test_isoweekdate: &&[((i32, u32), u32); 2] = {
    let mut _0: &&[((i32, u32), u32); 2];
    let mut _1: &[((i32, u32), u32); 2];
    let mut _2: [((i32, u32), u32); 2];
    let mut _3: ((i32, u32), u32);
    let mut _4: (i32, u32);
    let mut _5: ((i32, u32), u32);
    let mut _6: (i32, u32);

    bb0: {
        _4 = (const 2013_i32, const 52_u32);
        _3 = (move _4, const 7_u32);
        _6 = (const 2014_i32, const 1_u32);
        _5 = (move _6, const 2_u32);
        _2 = [move _3, move _5];
        _1 = &_2;
        _0 = &_1;
        return;
    }
}

promoted[3] in test_isoweekdate: &&[((i32, u32), u32); 2] = {
    let mut _0: &&[((i32, u32), u32); 2];
    let mut _1: &[((i32, u32), u32); 2];
    let mut _2: [((i32, u32), u32); 2];
    let mut _3: ((i32, u32), u32);
    let mut _4: (i32, u32);
    let mut _5: ((i32, u32), u32);
    let mut _6: (i32, u32);

    bb0: {
        _4 = (const 2013_i32, const 1_u32);
        _3 = (move _4, const 6_u32);
        _6 = (const 2013_i32, const 2_u32);
        _5 = (move _6, const 7_u32);
        _2 = [move _3, move _5];
        _1 = &_2;
        _0 = &_1;
        return;
    }
}

promoted[4] in test_isoweekdate: &&[((i32, u32), u32); 2] = {
    let mut _0: &&[((i32, u32), u32); 2];
    let mut _1: &[((i32, u32), u32); 2];
    let mut _2: [((i32, u32), u32); 2];
    let mut _3: ((i32, u32), u32);
    let mut _4: (i32, u32);
    let mut _5: ((i32, u32), u32);
    let mut _6: (i32, u32);

    bb0: {
        _4 = (const 1984_i32, const 52_u32);
        _3 = (move _4, const 7_u32);
        _6 = (const 1985_i32, const 1_u32);
        _5 = (move _6, const 1_u32);
        _2 = [move _3, move _5];
        _1 = &_2;
        _0 = &_1;
        return;
    }
}

promoted[5] in test_isoweekdate: &&[((i32, u32), u32); 2] = {
    let mut _0: &&[((i32, u32), u32); 2];
    let mut _1: &[((i32, u32), u32); 2];
    let mut _2: [((i32, u32), u32); 2];
    let mut _3: ((i32, u32), u32);
    let mut _4: (i32, u32);
    let mut _5: ((i32, u32), u32);
    let mut _6: (i32, u32);

    bb0: {
        _4 = (const 1983_i32, const 52_u32);
        _3 = (move _4, const 1_u32);
        _6 = (const 1984_i32, const 1_u32);
        _5 = (move _6, const 7_u32);
        _2 = [move _3, move _5];
        _1 = &_2;
        _0 = &_1;
        return;
    }
}

fn weeks_uniq(_1: i32) -> Vec<((i32, u32), u32)> {
    debug year => _1;
    let mut _0: std::vec::Vec<((i32, u32), u32)>;
    let mut _2: std::iter::Map<std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>;
    let mut _3: std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>;
    let mut _4: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _7: (i32, u32);
    let mut _8: std::option::Option<(i32, u32)>;
    let mut _9: &mut std::iter::Map<std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>;
    let mut _10: std::iter::Map<std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>;
    let mut _11: std::iter::Map<std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>;
    let mut _13: std::option::Option<(i32, u32)>;
    let mut _14: &mut std::iter::Map<std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>;
    let mut _15: isize;
    let mut _17: bool;
    let mut _18: &(i32, u32);
    let mut _19: &(i32, u32);
    let _20: ();
    let mut _21: &mut std::vec::Vec<((i32, u32), u32)>;
    let mut _22: ((i32, u32), u32);
    let mut _23: (i32, u32);
    let _24: ();
    let mut _25: &mut std::vec::Vec<((i32, u32), u32)>;
    let mut _26: ((i32, u32), u32);
    scope 1 {
        debug weeks => _2;
        let mut _5: std::vec::Vec<((i32, u32), u32)>;
        scope 2 {
            debug result => _5;
            let mut _6: ((i32, u32), u32);
            scope 3 {
                debug accum => _6;
                let mut _12: std::iter::Map<std::iter::Map<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>;
                scope 4 {
                    debug iter => _12;
                    let _16: (i32, u32);
                    scope 5 {
                        debug yw => _16;
                    }
                }
            }
        }
    }

    bb0: {
        _4 = dates_in_year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = <impl Iterator<Item = NaiveDate> + Clone as Iterator>::map::<(i32, u32, Weekday), [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>(move _4, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]) -> [return: bb2, unwind continue];
    }

    bb2: {
        _2 = <Map<impl Iterator<Item = NaiveDate> + Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]> as Iterator>::map::<(i32, u32), [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]>(move _3, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]) -> [return: bb3, unwind continue];
    }

    bb3: {
        _5 = Vec::<((i32, u32), u32)>::new() -> [return: bb4, unwind continue];
    }

    bb4: {
        _9 = &mut _2;
        _8 = <Map<Map<impl Iterator<Item = NaiveDate> + Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]> as Iterator>::next(move _9) -> [return: bb5, unwind: bb18];
    }

    bb5: {
        _7 = Option::<(i32, u32)>::unwrap(move _8) -> [return: bb6, unwind: bb18];
    }

    bb6: {
        _6 = (move _7, const 1_u32);
        _11 = move _2;
        _10 = <Map<Map<impl Iterator<Item = NaiveDate> + Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]> as IntoIterator>::into_iter(move _11) -> [return: bb7, unwind: bb18];
    }

    bb7: {
        _12 = move _10;
        goto -> bb8;
    }

    bb8: {
        _14 = &mut _12;
        _13 = <Map<Map<impl Iterator<Item = NaiveDate> + Clone, [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52]>, [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27]> as Iterator>::next(_14) -> [return: bb9, unwind: bb18];
    }

    bb9: {
        _15 = discriminant(_13);
        switchInt(move _15) -> [0: bb12, 1: bb10, otherwise: bb11];
    }

    bb10: {
        _16 = ((_13 as Some).0: (i32, u32));
        _18 = &(_6.0: (i32, u32));
        _19 = &_16;
        _17 = <(i32, u32) as PartialEq>::eq(move _18, move _19) -> [return: bb13, unwind: bb18];
    }

    bb11: {
        unreachable;
    }

    bb12: {
        _25 = &mut _5;
        _26 = _6;
        _24 = Vec::<((i32, u32), u32)>::push(move _25, move _26) -> [return: bb17, unwind: bb18];
    }

    bb13: {
        switchInt(move _17) -> [0: bb15, otherwise: bb14];
    }

    bb14: {
        (_6.1: u32) = Add((_6.1: u32), const 1_u32);
        goto -> bb8;
    }

    bb15: {
        _21 = &mut _5;
        _22 = _6;
        _20 = Vec::<((i32, u32), u32)>::push(move _21, move _22) -> [return: bb16, unwind: bb18];
    }

    bb16: {
        _23 = _16;
        _6 = (move _23, const 1_u32);
        goto -> bb8;
    }

    bb17: {
        _0 = move _5;
        return;
    }

    bb18 (cleanup): {
        drop(_5) -> [return: bb19, unwind terminate];
    }

    bb19 (cleanup): {
        resume;
    }
}

fn weeks_uniq::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:423:49: 423:52], _2: NaiveDate) -> (i32, u32, Weekday) {
    debug d => _2;
    let mut _0: (i32, u32, Weekday);
    let mut _3: &NaiveDate;

    bb0: {
        _3 = &_2;
        _0 = NaiveDate::isoweekdate(move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn weeks_uniq::{closure#1}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:424:18: 424:27], _2: (i32, u32, Weekday)) -> (i32, u32) {
    let mut _0: (i32, u32);
    let _3: i32;
    let _4: u32;
    scope 1 {
        debug y => _3;
        debug w => _4;
    }

    bb0: {
        _3 = (_2.0: i32);
        _4 = (_2.1: u32);
        _0 = (_3, _4);
        return;
    }
}

fn test_by_week() -> () {
    let mut _0: ();
    let mut _1: impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;
    let mut _2: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _3: (&&[NaiveDate], &&[NaiveDate; 5]);
    let mut _4: &&[NaiveDate];
    let _5: &[NaiveDate];
    let _6: &[NaiveDate];
    let mut _7: &std::vec::Vec<NaiveDate>;
    let _8: std::vec::Vec<NaiveDate>;
    let mut _9: impl DateIterator;
    let mut _10: (u32, impl DateIterator);
    let mut _11: std::option::Option<(u32, impl DateIterator)>;
    let mut _12: &mut impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;
    let mut _13: &&[NaiveDate; 5];
    let _14: &[NaiveDate; 5];
    let _15: [NaiveDate; 5];
    let mut _16: NaiveDate;
    let mut _17: NaiveDate;
    let mut _18: NaiveDate;
    let mut _19: NaiveDate;
    let mut _20: NaiveDate;
    let mut _23: bool;
    let mut _24: bool;
    let _26: !;
    let mut _27: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _28: (&&[NaiveDate], &&[NaiveDate; 7]);
    let mut _29: &&[NaiveDate];
    let _30: &[NaiveDate];
    let _31: &[NaiveDate];
    let mut _32: &std::vec::Vec<NaiveDate>;
    let _33: std::vec::Vec<NaiveDate>;
    let mut _34: impl DateIterator;
    let mut _35: (u32, impl DateIterator);
    let mut _36: std::option::Option<(u32, impl DateIterator)>;
    let mut _37: &mut impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;
    let mut _38: &&[NaiveDate; 7];
    let _39: &[NaiveDate; 7];
    let _40: [NaiveDate; 7];
    let mut _41: NaiveDate;
    let mut _42: NaiveDate;
    let mut _43: NaiveDate;
    let mut _44: NaiveDate;
    let mut _45: NaiveDate;
    let mut _46: NaiveDate;
    let mut _47: NaiveDate;
    let mut _50: bool;
    let mut _51: bool;
    let _53: !;
    let mut _54: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _55: (&NaiveDate, &NaiveDate);
    let mut _56: &NaiveDate;
    let _57: NaiveDate;
    let mut _58: std::option::Option<NaiveDate>;
    let mut _59: &mut impl DateIterator;
    let mut _60: (u32, impl DateIterator);
    let mut _61: std::option::Option<(u32, impl DateIterator)>;
    let mut _62: &mut impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;
    let mut _63: &NaiveDate;
    let _64: NaiveDate;
    let mut _67: bool;
    let mut _68: bool;
    let _70: !;
    let mut _71: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug weeks => _1;
        let _21: &&[NaiveDate];
        let _22: &&[NaiveDate; 5];
        let _48: &&[NaiveDate];
        let _49: &&[NaiveDate; 7];
        let _65: &NaiveDate;
        let _66: &NaiveDate;
        scope 2 {
            debug left_val => _21;
            debug right_val => _22;
            let _25: core::panicking::AssertKind;
            scope 3 {
                debug kind => _25;
            }
        }
        scope 4 {
            debug left_val => _48;
            debug right_val => _49;
            let _52: core::panicking::AssertKind;
            scope 5 {
                debug kind => _52;
            }
        }
        scope 6 {
            debug left_val => _65;
            debug right_val => _66;
            let _69: core::panicking::AssertKind;
            scope 7 {
                debug kind => _69;
            }
        }
    }

    bb0: {
        _2 = dates_in_year(const 2013_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _1 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl DateIterator)> + Clone {by_week::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl DateIterator)> + Clone>(move _2, by_week::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _12 = &mut _1;
        _11 = <impl Iterator<Item = (u32, impl DateIterator)> + Clone as Iterator>::next(move _12) -> [return: bb3, unwind continue];
    }

    bb3: {
        _10 = Option::<(u32, impl DateIterator)>::unwrap(move _11) -> [return: bb4, unwind continue];
    }

    bb4: {
        _9 = move (_10.1: impl DateIterator);
        _8 = <impl DateIterator as Iterator>::collect::<Vec<NaiveDate>>(move _9) -> [return: bb5, unwind continue];
    }

    bb5: {
        _7 = &_8;
        _6 = <Vec<NaiveDate> as Deref>::deref(move _7) -> [return: bb6, unwind: bb40];
    }

    bb6: {
        _5 = _6;
        _4 = &_5;
        _16 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 1_u32) -> [return: bb7, unwind: bb40];
    }

    bb7: {
        _17 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 2_u32) -> [return: bb8, unwind: bb40];
    }

    bb8: {
        _18 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 3_u32) -> [return: bb9, unwind: bb40];
    }

    bb9: {
        _19 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 4_u32) -> [return: bb10, unwind: bb40];
    }

    bb10: {
        _20 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 5_u32) -> [return: bb11, unwind: bb40];
    }

    bb11: {
        _15 = [move _16, move _17, move _18, move _19, move _20];
        _14 = &_15;
        _13 = &_14;
        _3 = (move _4, move _13);
        _21 = (_3.0: &&[NaiveDate]);
        _22 = (_3.1: &&[NaiveDate; 5]);
        _24 = <&[NaiveDate] as PartialEq<&[NaiveDate; 5]>>::eq(_21, _22) -> [return: bb12, unwind: bb40];
    }

    bb12: {
        _23 = Not(move _24);
        switchInt(move _23) -> [0: bb14, otherwise: bb13];
    }

    bb13: {
        _25 = core::panicking::AssertKind::Eq;
        _27 = Option::<Arguments<'_>>::None;
        _26 = core::panicking::assert_failed::<&[NaiveDate], &[NaiveDate; 5]>(move _25, _21, _22, move _27) -> bb40;
    }

    bb14: {
        drop(_8) -> [return: bb15, unwind continue];
    }

    bb15: {
        _37 = &mut _1;
        _36 = <impl Iterator<Item = (u32, impl DateIterator)> + Clone as Iterator>::next(move _37) -> [return: bb16, unwind continue];
    }

    bb16: {
        _35 = Option::<(u32, impl DateIterator)>::unwrap(move _36) -> [return: bb17, unwind continue];
    }

    bb17: {
        _34 = move (_35.1: impl DateIterator);
        _33 = <impl DateIterator as Iterator>::collect::<Vec<NaiveDate>>(move _34) -> [return: bb18, unwind continue];
    }

    bb18: {
        _32 = &_33;
        _31 = <Vec<NaiveDate> as Deref>::deref(move _32) -> [return: bb19, unwind: bb39];
    }

    bb19: {
        _30 = _31;
        _29 = &_30;
        _41 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 6_u32) -> [return: bb20, unwind: bb39];
    }

    bb20: {
        _42 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 7_u32) -> [return: bb21, unwind: bb39];
    }

    bb21: {
        _43 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 8_u32) -> [return: bb22, unwind: bb39];
    }

    bb22: {
        _44 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 9_u32) -> [return: bb23, unwind: bb39];
    }

    bb23: {
        _45 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 10_u32) -> [return: bb24, unwind: bb39];
    }

    bb24: {
        _46 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 11_u32) -> [return: bb25, unwind: bb39];
    }

    bb25: {
        _47 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 12_u32) -> [return: bb26, unwind: bb39];
    }

    bb26: {
        _40 = [move _41, move _42, move _43, move _44, move _45, move _46, move _47];
        _39 = &_40;
        _38 = &_39;
        _28 = (move _29, move _38);
        _48 = (_28.0: &&[NaiveDate]);
        _49 = (_28.1: &&[NaiveDate; 7]);
        _51 = <&[NaiveDate] as PartialEq<&[NaiveDate; 7]>>::eq(_48, _49) -> [return: bb27, unwind: bb39];
    }

    bb27: {
        _50 = Not(move _51);
        switchInt(move _50) -> [0: bb29, otherwise: bb28];
    }

    bb28: {
        _52 = core::panicking::AssertKind::Eq;
        _54 = Option::<Arguments<'_>>::None;
        _53 = core::panicking::assert_failed::<&[NaiveDate], &[NaiveDate; 7]>(move _52, _48, _49, move _54) -> bb39;
    }

    bb29: {
        drop(_33) -> [return: bb30, unwind continue];
    }

    bb30: {
        _62 = &mut _1;
        _61 = <impl Iterator<Item = (u32, impl DateIterator)> + Clone as Iterator>::next(move _62) -> [return: bb31, unwind continue];
    }

    bb31: {
        _60 = Option::<(u32, impl DateIterator)>::unwrap(move _61) -> [return: bb32, unwind continue];
    }

    bb32: {
        _59 = &mut (_60.1: impl DateIterator);
        _58 = <impl DateIterator as Iterator>::nth(move _59, const 0_usize) -> [return: bb33, unwind continue];
    }

    bb33: {
        _57 = Option::<NaiveDate>::unwrap(move _58) -> [return: bb34, unwind continue];
    }

    bb34: {
        _56 = &_57;
        _64 = NaiveDate::from_ymd(const 2013_i32, const 1_u32, const 13_u32) -> [return: bb35, unwind continue];
    }

    bb35: {
        _63 = &_64;
        _55 = (move _56, move _63);
        _65 = (_55.0: &NaiveDate);
        _66 = (_55.1: &NaiveDate);
        _68 = <NaiveDate as PartialEq>::eq(_65, _66) -> [return: bb36, unwind continue];
    }

    bb36: {
        _67 = Not(move _68);
        switchInt(move _67) -> [0: bb38, otherwise: bb37];
    }

    bb37: {
        _69 = core::panicking::AssertKind::Eq;
        _71 = Option::<Arguments<'_>>::None;
        _70 = core::panicking::assert_failed::<NaiveDate, NaiveDate>(move _69, _65, _66, move _71) -> unwind continue;
    }

    bb38: {
        return;
    }

    bb39 (cleanup): {
        drop(_33) -> [return: bb41, unwind terminate];
    }

    bb40 (cleanup): {
        drop(_8) -> [return: bb41, unwind terminate];
    }

    bb41 (cleanup): {
        resume;
    }
}

const COLS_PER_DAY: u32 = {
    let mut _0: u32;

    bb0: {
        _0 = const 3_u32;
        return;
    }
}

const COLS_PER_WEEK: u32 = {
    let mut _0: u32;
    let mut _1: (u32, bool);

    bb0: {
        _1 = CheckedMul(const 7_u32, const _);
        assert(!move (_1.1: bool), "attempt to compute `{} * {}`, which would overflow", const 7_u32, const _) -> [success: bb1, unwind continue];
    }

    bb1: {
        _0 = move (_1.0: u32);
        return;
    }
}

fn format_weeks(_1: impl Iterator<Item = impl DateIterator>) -> impl Iterator<Item = String> {
    debug it => _1;
    let mut _0: impl std::iter::Iterator<Item = std::string::String>;

    bb0: {
        _0 = <impl Iterator<Item = impl DateIterator> as Iterator>::map::<String, [closure@ui/impl-trait/example-calendar.rs:487:12: 487:18]>(move _1, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:487:12: 487:18]) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn format_weeks::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:487:12: 487:18], _2: impl DateIterator) -> String {
    debug week => _2;
    let mut _0: std::string::String;
    let mut _3: std::string::String;
    let mut _4: usize;
    let mut _5: u32;
    let mut _6: u32;
    let mut _9: impl DateIterator;
    let mut _10: impl DateIterator;
    let mut _12: std::option::Option<NaiveDate>;
    let mut _13: &mut impl DateIterator;
    let mut _14: isize;
    let mut _16: u32;
    let mut _17: &Weekday;
    let _18: Weekday;
    let mut _19: &NaiveDate;
    let mut _20: bool;
    let _21: ();
    let mut _22: &mut std::string::String;
    let mut _23: std::iter::Take<std::iter::Repeat<char>>;
    let mut _24: usize;
    let mut _25: u32;
    let mut _26: u32;
    let _27: ();
    let mut _28: std::result::Result<(), std::fmt::Error>;
    let mut _29: &mut std::string::String;
    let mut _30: std::fmt::Arguments<'_>;
    let mut _31: &[&str];
    let mut _32: &[core::fmt::rt::Argument<'_>];
    let _33: &[core::fmt::rt::Argument<'_>; 1];
    let _34: [core::fmt::rt::Argument<'_>; 1];
    let mut _35: core::fmt::rt::Argument<'_>;
    let _36: &u32;
    let _37: u32;
    let mut _38: &NaiveDate;
    let mut _39: &[core::fmt::rt::Placeholder];
    let _40: &[core::fmt::rt::Placeholder; 1];
    let _41: [core::fmt::rt::Placeholder; 1];
    let mut _42: core::fmt::rt::Placeholder;
    let mut _43: core::fmt::rt::Alignment;
    let mut _44: core::fmt::rt::Count;
    let mut _45: core::fmt::rt::Count;
    let mut _46: core::fmt::rt::UnsafeArg;
    let _47: ();
    let mut _48: &mut std::string::String;
    let mut _49: std::iter::Take<std::iter::Repeat<char>>;
    let mut _50: usize;
    let mut _51: u32;
    let mut _52: u32;
    let mut _53: u32;
    let mut _55: bool;
    scope 1 {
        debug buf => _3;
        let mut _7: u32;
        scope 2 {
            debug last_day => _7;
            let mut _8: bool;
            scope 3 {
                debug first => _8;
                let mut _11: impl DateIterator;
                scope 4 {
                    debug iter => _11;
                    let _15: NaiveDate;
                    scope 5 {
                        debug d => _15;
                        let mut _54: &[&str; 1];
                        scope 6 {
                        }
                    }
                }
            }
        }
    }

    bb0: {
        _55 = const false;
        _55 = const true;
        _6 = Mul(const _, const _);
        _5 = Add(move _6, const 2_u32);
        _4 = move _5 as usize (IntToInt);
        _3 = String::with_capacity(move _4) -> [return: bb1, unwind: bb28];
    }

    bb1: {
        _7 = const 0_u32;
        _8 = const true;
        _55 = const false;
        _10 = move _2;
        _9 = <impl DateIterator as IntoIterator>::into_iter(move _10) -> [return: bb2, unwind: bb25];
    }

    bb2: {
        _11 = move _9;
        goto -> bb3;
    }

    bb3: {
        _13 = &mut _11;
        _12 = <impl DateIterator as Iterator>::next(_13) -> [return: bb4, unwind: bb24];
    }

    bb4: {
        _14 = discriminant(_12);
        switchInt(move _14) -> [0: bb7, 1: bb5, otherwise: bb6];
    }

    bb5: {
        _15 = ((_12 as Some).0: NaiveDate);
        _19 = &_15;
        _18 = NaiveDate::weekday(move _19) -> [return: bb8, unwind: bb24];
    }

    bb6: {
        unreachable;
    }

    bb7: {
        drop(_11) -> [return: bb21, unwind: bb25];
    }

    bb8: {
        _17 = &_18;
        _16 = Weekday::num_days_from_sunday(move _17) -> [return: bb9, unwind: bb24];
    }

    bb9: {
        _7 = move _16;
        _20 = _8;
        switchInt(move _20) -> [0: bb13, otherwise: bb10];
    }

    bb10: {
        _22 = &mut _3;
        _26 = _7;
        _25 = Mul(const _, move _26);
        _24 = move _25 as usize (IntToInt);
        _23 = spaces(move _24) -> [return: bb11, unwind: bb24];
    }

    bb11: {
        _21 = <String as Extend<char>>::extend::<std::iter::Take<std::iter::Repeat<char>>>(move _22, move _23) -> [return: bb12, unwind: bb24];
    }

    bb12: {
        _8 = const false;
        goto -> bb13;
    }

    bb13: {
        _29 = &mut _3;
        _54 = const _;
        _31 = _54 as &[&str] (Pointer(Unsize));
        _38 = &_15;
        _37 = NaiveDate::day(move _38) -> [return: bb14, unwind: bb24];
    }

    bb14: {
        _36 = &_37;
        _35 = core::fmt::rt::Argument::<'_>::new_display::<u32>(_36) -> [return: bb15, unwind: bb24];
    }

    bb15: {
        _34 = [move _35];
        _33 = &_34;
        _32 = _33 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _43 = core::fmt::rt::Alignment::Right;
        _44 = core::fmt::rt::Count::Implied;
        _45 = core::fmt::rt::Count::Is(const 2_usize) -> [return: bb16, unwind: bb24];
    }

    bb16: {
        _42 = core::fmt::rt::Placeholder::new(const 0_usize, const ' ', move _43, const 0_u32, move _44, move _45) -> [return: bb17, unwind: bb24];
    }

    bb17: {
        _41 = [move _42];
        _40 = &_41;
        _39 = _40 as &[core::fmt::rt::Placeholder] (Pointer(Unsize));
        _46 = core::fmt::rt::UnsafeArg::new() -> [return: bb18, unwind: bb24];
    }

    bb18: {
        _30 = Arguments::<'_>::new_v1_formatted(move _31, move _32, move _39, const core::fmt::rt::UnsafeArg {{ _private: () }}) -> [return: bb19, unwind: bb24];
    }

    bb19: {
        _28 = <String as std::fmt::Write>::write_fmt(move _29, move _30) -> [return: bb20, unwind: bb24];
    }

    bb20: {
        _27 = Result::<(), std::fmt::Error>::unwrap(move _28) -> [return: bb29, unwind: bb24];
    }

    bb21: {
        _48 = &mut _3;
        _53 = _7;
        _52 = Sub(const 6_u32, move _53);
        _51 = Mul(const _, move _52);
        _50 = move _51 as usize (IntToInt);
        _49 = spaces(move _50) -> [return: bb22, unwind: bb25];
    }

    bb22: {
        _47 = <String as Extend<char>>::extend::<std::iter::Take<std::iter::Repeat<char>>>(move _48, move _49) -> [return: bb23, unwind: bb25];
    }

    bb23: {
        _0 = move _3;
        return;
    }

    bb24 (cleanup): {
        drop(_11) -> [return: bb25, unwind terminate];
    }

    bb25 (cleanup): {
        drop(_3) -> [return: bb28, unwind terminate];
    }

    bb26 (cleanup): {
        resume;
    }

    bb27 (cleanup): {
        drop(_2) -> [return: bb26, unwind terminate];
    }

    bb28 (cleanup): {
        switchInt(_55) -> [0: bb26, otherwise: bb27];
    }

    bb29: {
        goto -> bb3;
    }
}

promoted[0] in format_weeks::{closure#0}: &[&str; 1] = {
    let mut _0: &[&str; 1];
    let mut _1: [&str; 1];

    bb0: {
        _1 = [const " "];
        _0 = &_1;
        return;
    }
}

fn test_format_weeks() -> () {
    let mut _0: ();
    let _1: std::option::Option<std::string::String>;
    let mut _2: std::option::Option<(u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)>;
    let mut _3: &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _4: impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _5: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _6: (&std::option::Option<&str>, &std::option::Option<&str>);
    let mut _7: &std::option::Option<&str>;
    let _8: std::option::Option<&str>;
    let mut _9: std::option::Option<&std::string::String>;
    let mut _10: &std::option::Option<std::string::String>;
    let mut _13: bool;
    let mut _14: bool;
    let _16: !;
    let mut _17: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug jan_2013 => _1;
        let _11: &std::option::Option<&str>;
        let _12: &std::option::Option<&str>;
        let mut _18: &std::option::Option<&str>;
        scope 2 {
            debug left_val => _11;
            debug right_val => _12;
            let _15: core::panicking::AssertKind;
            scope 3 {
                debug kind => _15;
            }
        }
    }

    bb0: {
        _5 = dates_in_year(const 2013_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone {by_month::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone>(move _5, by_month::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _3 = &mut _4;
        _2 = <impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone as Iterator>::next(move _3) -> [return: bb3, unwind continue];
    }

    bb3: {
        _1 = Option::<(u32, impl Iterator<Item = NaiveDate> + Clone)>::map::<String, [closure@ui/impl-trait/example-calendar.rs:516:14: 516:26]>(move _2, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:516:14: 516:26]) -> [return: bb4, unwind continue];
    }

    bb4: {
        _10 = &_1;
        _9 = Option::<String>::as_ref(move _10) -> [return: bb5, unwind: bb11];
    }

    bb5: {
        _8 = Option::<&String>::map::<&str, [closure@ui/impl-trait/example-calendar.rs:523:31: 523:34]>(move _9, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:523:31: 523:34]) -> [return: bb6, unwind: bb11];
    }

    bb6: {
        _7 = &_8;
        _18 = const _;
        _6 = (move _7, _18);
        _11 = (_6.0: &std::option::Option<&str>);
        _12 = (_6.1: &std::option::Option<&str>);
        _14 = <Option<&str> as PartialEq>::eq(_11, _12) -> [return: bb7, unwind: bb11];
    }

    bb7: {
        _13 = Not(move _14);
        switchInt(move _13) -> [0: bb9, otherwise: bb8];
    }

    bb8: {
        _15 = core::panicking::AssertKind::Eq;
        _17 = Option::<Arguments<'_>>::None;
        _16 = core::panicking::assert_failed::<Option<&str>, Option<&str>>(move _15, _11, _12, move _17) -> bb11;
    }

    bb9: {
        drop(_1) -> [return: bb10, unwind continue];
    }

    bb10: {
        return;
    }

    bb11 (cleanup): {
        drop(_1) -> [return: bb12, unwind terminate];
    }

    bb12 (cleanup): {
        resume;
    }
}

promoted[0] in test_format_weeks: &Option<&str> = {
    let mut _0: &std::option::Option<&str>;
    let mut _1: std::option::Option<&str>;

    bb0: {
        _1 = Option::<&str>::Some(const "        1  2  3  4  5\n  6  7  8  9 10 11 12\n 13 14 15 16 17 18 19\n 20 21 22 23 24 25 26\n 27 28 29 30 31      ");
        _0 = &_1;
        return;
    }
}

fn test_format_weeks::{closure#0}(_1: [closure@ui/impl-trait/example-calendar.rs:516:14: 516:26], _2: (u32, impl Iterator<Item = NaiveDate> + Clone)) -> String {
    let mut _0: std::string::String;
    let _3: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _4: impl std::iter::Iterator<Item = std::string::String>;
    let mut _5: std::iter::Map<impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]>;
    let mut _6: impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;
    let _7: &str;
    scope 1 {
        debug month => _3;
    }

    bb0: {
        _3 = move (_2.1: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone);
        _6 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl DateIterator)> + Clone {by_week::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl DateIterator)> + Clone>(move _3, by_week::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = <impl Iterator<Item = (u32, impl DateIterator)> + Clone as Iterator>::map::<impl DateIterator, [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]>(move _6, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]) -> [return: bb2, unwind continue];
    }

    bb2: {
        _4 = <Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]> as IteratorExt>::__::<fn(Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]>) -> impl Iterator<Item = String> {format_weeks::<impl DateIterator, Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]>>}, impl Iterator<Item = String>>(move _5, format_weeks::<impl DateIterator, Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35]>>) -> [return: bb3, unwind continue];
    }

    bb3: {
        _7 = const "\n";
        _0 = <impl Iterator<Item = String> as IteratorExt>::join(move _4, _7) -> [return: bb4, unwind continue];
    }

    bb4: {
        return;
    }
}

fn test_format_weeks::{closure#0}::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:518:23: 518:35], _2: (u32, impl DateIterator)) -> impl DateIterator {
    let mut _0: impl DateIterator;
    scope 1 {
        debug weeks => _0;
    }

    bb0: {
        _0 = move (_2.1: impl DateIterator);
        return;
    }
}

fn test_format_weeks::{closure#1}(_1: [closure@ui/impl-trait/example-calendar.rs:523:31: 523:34], _2: &String) -> &str {
    debug s => _2;
    let mut _0: &str;
    let _3: &str;

    bb0: {
        _3 = <String as Deref>::deref(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        _0 = _3;
        return;
    }
}

fn month_title(_1: u32) -> String {
    debug month => _1;
    let mut _0: std::string::String;
    let mut _2: (&usize, &usize);
    let mut _3: &usize;
    let _4: usize;
    let _5: &[&str];
    let _6: &usize;
    let _7: &usize;
    let mut _8: bool;
    let mut _9: bool;
    let mut _10: usize;
    let mut _11: usize;
    let _13: !;
    let mut _14: std::option::Option<std::fmt::Arguments<'_>>;
    let _15: &str;
    let mut _16: &[&str];
    let _17: usize;
    let mut _18: u32;
    let mut _19: usize;
    let mut _20: bool;
    let mut _21: bool;
    let mut _22: bool;
    let mut _23: usize;
    let mut _24: usize;
    let mut _25: !;
    let mut _27: usize;
    let mut _28: usize;
    let mut _29: usize;
    let mut _30: bool;
    let mut _32: usize;
    let mut _33: usize;
    let mut _34: usize;
    let mut _36: usize;
    let _37: ();
    let mut _38: &mut std::string::String;
    let mut _39: std::iter::Take<std::iter::Repeat<char>>;
    let _40: ();
    let mut _41: &mut std::string::String;
    let _42: ();
    let mut _43: &mut std::string::String;
    let mut _44: std::iter::Take<std::iter::Repeat<char>>;
    let mut _45: &usize;
    scope 1 {
        debug left_val => _6;
        debug right_val => _7;
        let _12: core::panicking::AssertKind;
        scope 2 {
            debug kind => _12;
        }
    }
    scope 3 {
        debug name => _15;
        let _26: usize;
        scope 4 {
            debug before => _26;
            let _31: usize;
            scope 5 {
                debug after => _31;
                let mut _35: std::string::String;
                scope 6 {
                    debug result => _35;
                }
            }
        }
    }

    bb0: {
        _5 = const _;
        _4 = Len((*_5));
        _3 = &_4;
        _45 = const _;
        _2 = (move _3, _45);
        _6 = (_2.0: &usize);
        _7 = (_2.1: &usize);
        _10 = (*_6);
        _11 = (*_7);
        _9 = Eq(move _10, move _11);
        _8 = Not(move _9);
        switchInt(move _8) -> [0: bb2, otherwise: bb1];
    }

    bb1: {
        _12 = core::panicking::AssertKind::Eq;
        _14 = Option::<Arguments<'_>>::None;
        _13 = core::panicking::assert_failed::<usize, usize>(move _12, _6, _7, move _14) -> unwind continue;
    }

    bb2: {
        _16 = const _;
        _18 = Sub(_1, const 1_u32);
        _17 = move _18 as usize (IntToInt);
        _19 = Len((*_16));
        _20 = Lt(_17, _19);
        assert(move _20, "index out of bounds: the length is {} but the index is {}", move _19, _17) -> [success: bb3, unwind continue];
    }

    bb3: {
        _15 = (*_16)[_17];
        _23 = core::str::<impl str>::len(_15) -> [return: bb4, unwind continue];
    }

    bb4: {
        _24 = const _ as usize (IntToInt);
        _22 = Lt(move _23, move _24);
        _21 = Not(move _22);
        switchInt(move _21) -> [0: bb6, otherwise: bb5];
    }

    bb5: {
        _25 = core::panicking::panic(const "assertion failed: name.len() < COLS_PER_WEEK as usize") -> unwind continue;
    }

    bb6: {
        _28 = const _ as usize (IntToInt);
        _29 = core::str::<impl str>::len(_15) -> [return: bb7, unwind continue];
    }

    bb7: {
        _27 = Sub(move _28, move _29);
        _30 = Eq(const 2_usize, const 0_usize);
        assert(!move _30, "attempt to divide `{}` by zero", _27) -> [success: bb8, unwind continue];
    }

    bb8: {
        _26 = Div(move _27, const 2_usize);
        _33 = const _ as usize (IntToInt);
        _34 = core::str::<impl str>::len(_15) -> [return: bb9, unwind continue];
    }

    bb9: {
        _32 = Sub(move _33, move _34);
        _31 = Sub(move _32, _26);
        _36 = const _ as usize (IntToInt);
        _35 = String::with_capacity(move _36) -> [return: bb10, unwind continue];
    }

    bb10: {
        _38 = &mut _35;
        _39 = spaces(_26) -> [return: bb11, unwind: bb16];
    }

    bb11: {
        _37 = <String as Extend<char>>::extend::<std::iter::Take<std::iter::Repeat<char>>>(move _38, move _39) -> [return: bb12, unwind: bb16];
    }

    bb12: {
        _41 = &mut _35;
        _40 = String::push_str(move _41, _15) -> [return: bb13, unwind: bb16];
    }

    bb13: {
        _43 = &mut _35;
        _44 = spaces(_31) -> [return: bb14, unwind: bb16];
    }

    bb14: {
        _42 = <String as Extend<char>>::extend::<std::iter::Take<std::iter::Repeat<char>>>(move _43, move _44) -> [return: bb15, unwind: bb16];
    }

    bb15: {
        _0 = move _35;
        return;
    }

    bb16 (cleanup): {
        drop(_35) -> [return: bb17, unwind terminate];
    }

    bb17 (cleanup): {
        resume;
    }
}

promoted[0] in month_title: &usize = {
    let mut _0: &usize;
    let mut _1: usize;

    bb0: {
        _1 = const 12_usize;
        _0 = &_1;
        return;
    }
}

const MONTH_NAMES: &[&str] = {
    let mut _0: &[&str];
    let mut _1: &[&str; 12];
    let _2: &[&str; 12];
    let _3: [&str; 12];
    let mut _4: &[&str; 12];

    bb0: {
        StorageLive(_1);
        StorageLive(_2);
        _4 = const _;
        _2 = &(*_4);
        _1 = &(*_2);
        _0 = move _1 as &[&str] (Pointer(Unsize));
        StorageDead(_2);
        StorageDead(_1);
        return;
    }
}

promoted[0] in MONTH_NAMES: &[&str; 12] = {
    let mut _0: &[&str; 12];
    let mut _1: [&str; 12];

    bb0: {
        _1 = [const "January", const "February", const "March", const "April", const "May", const "June", const "July", const "August", const "September", const "October", const "November", const "December"];
        _0 = &_1;
        return;
    }
}

fn test_month_title() -> () {
    let mut _0: ();
    let mut _1: (&usize, &usize);
    let mut _2: &usize;
    let _3: usize;
    let mut _4: &std::string::String;
    let _5: std::string::String;
    let _6: &usize;
    let _7: &usize;
    let mut _8: bool;
    let mut _9: bool;
    let mut _10: usize;
    let mut _11: usize;
    let _13: !;
    let mut _14: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _15: &usize;
    scope 1 {
        debug left_val => _6;
        debug right_val => _7;
        let _12: core::panicking::AssertKind;
        scope 2 {
            debug kind => _12;
        }
    }

    bb0: {
        _5 = month_title(const 1_u32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = &_5;
        _3 = String::len(move _4) -> [return: bb2, unwind: bb6];
    }

    bb2: {
        _2 = &_3;
        _15 = const _;
        _1 = (move _2, _15);
        _6 = (_1.0: &usize);
        _7 = (_1.1: &usize);
        _10 = (*_6);
        _11 = (*_7);
        _9 = Eq(move _10, move _11);
        _8 = Not(move _9);
        switchInt(move _8) -> [0: bb4, otherwise: bb3];
    }

    bb3: {
        _12 = core::panicking::AssertKind::Eq;
        _14 = Option::<Arguments<'_>>::None;
        _13 = core::panicking::assert_failed::<usize, usize>(move _12, _6, _7, move _14) -> bb6;
    }

    bb4: {
        drop(_5) -> [return: bb5, unwind continue];
    }

    bb5: {
        return;
    }

    bb6 (cleanup): {
        drop(_5) -> [return: bb7, unwind terminate];
    }

    bb7 (cleanup): {
        resume;
    }
}

promoted[0] in test_month_title: &usize = {
    let mut _0: &usize;
    let mut _1: usize;

    bb0: {
        _1 = const _ as usize (IntToInt);
        _0 = &_1;
        return;
    }
}

fn format_month(_1: impl DateIterator) -> impl Iterator<Item = String> {
    debug it => _1;
    let mut _0: impl std::iter::Iterator<Item = std::string::String>;
    let mut _2: std::iter::Peekable<impl DateIterator>;
    let mut _4: u32;
    let mut _5: &NaiveDate;
    let _6: &NaiveDate;
    let mut _7: std::option::Option<&NaiveDate>;
    let mut _8: &mut std::iter::Peekable<impl DateIterator>;
    let mut _9: std::option::IntoIter<std::string::String>;
    let mut _10: std::option::Option<std::string::String>;
    let mut _11: std::string::String;
    let mut _12: impl std::iter::Iterator<Item = std::string::String>;
    let mut _13: std::iter::Map<impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]>;
    let mut _14: impl std::iter::Iterator<Item = (u32, impl DateIterator)> + std::clone::Clone;
    let mut _15: std::iter::Peekable<impl DateIterator>;
    let mut _16: bool;
    let mut _17: bool;
    scope 1 {
        debug month_days => _2;
        let _3: std::string::String;
        scope 2 {
            debug title => _3;
        }
    }

    bb0: {
        _17 = const false;
        _16 = const false;
        _2 = <impl DateIterator as Iterator>::peekable(move _1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _17 = const true;
        _8 = &mut _2;
        _7 = Peekable::<impl DateIterator>::peek(move _8) -> [return: bb2, unwind: bb15];
    }

    bb2: {
        _6 = Option::<&NaiveDate>::unwrap(move _7) -> [return: bb3, unwind: bb15];
    }

    bb3: {
        _5 = _6;
        _4 = NaiveDate::month(move _5) -> [return: bb4, unwind: bb15];
    }

    bb4: {
        _3 = month_title(move _4) -> [return: bb5, unwind: bb15];
    }

    bb5: {
        _11 = move _3;
        _10 = Option::<String>::Some(move _11);
        _9 = <Option<String> as IntoIterator>::into_iter(move _10) -> [return: bb6, unwind: bb15];
    }

    bb6: {
        _16 = const true;
        _17 = const false;
        _15 = move _2;
        _14 = <Peekable<impl DateIterator> as IteratorExt>::__::<fn(Peekable<impl DateIterator>) -> impl Iterator<Item = (u32, impl DateIterator)> + Clone {by_week::<Peekable<impl DateIterator>>}, impl Iterator<Item = (u32, impl DateIterator)> + Clone>(move _15, by_week::<Peekable<impl DateIterator>>) -> [return: bb7, unwind: bb13];
    }

    bb7: {
        _13 = <impl Iterator<Item = (u32, impl DateIterator)> + Clone as Iterator>::map::<impl DateIterator, [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]>(move _14, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]) -> [return: bb8, unwind: bb13];
    }

    bb8: {
        _12 = <Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]> as IteratorExt>::__::<fn(Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]>) -> impl Iterator<Item = String> {format_weeks::<impl DateIterator, Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]>>}, impl Iterator<Item = String>>(move _13, format_weeks::<impl DateIterator, Map<impl Iterator<Item = (u32, impl DateIterator)> + Clone, [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29]>>) -> [return: bb9, unwind: bb13];
    }

    bb9: {
        _16 = const false;
        _0 = <std::option::IntoIter<String> as Iterator>::chain::<impl Iterator<Item = String>>(move _9, move _12) -> [return: bb10, unwind: bb13];
    }

    bb10: {
        _16 = const false;
        _17 = const false;
        return;
    }

    bb11 (cleanup): {
        resume;
    }

    bb12 (cleanup): {
        drop(_9) -> [return: bb15, unwind terminate];
    }

    bb13 (cleanup): {
        switchInt(_16) -> [0: bb15, otherwise: bb12];
    }

    bb14 (cleanup): {
        drop(_2) -> [return: bb11, unwind terminate];
    }

    bb15 (cleanup): {
        switchInt(_17) -> [0: bb11, otherwise: bb14];
    }
}

fn format_month::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:566:18: 566:29], _2: (u32, impl DateIterator)) -> impl DateIterator {
    let mut _0: impl DateIterator;
    scope 1 {
        debug week => _0;
    }

    bb0: {
        _0 = move (_2.1: impl DateIterator);
        return;
    }
}

fn test_format_month() -> () {
    let mut _0: ();
    let _1: std::option::Option<std::string::String>;
    let mut _2: std::option::Option<(u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)>;
    let mut _3: &mut impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _4: impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _5: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _6: (&std::option::Option<&str>, &std::option::Option<&str>);
    let mut _7: &std::option::Option<&str>;
    let _8: std::option::Option<&str>;
    let mut _9: std::option::Option<&std::string::String>;
    let mut _10: &std::option::Option<std::string::String>;
    let mut _13: bool;
    let mut _14: bool;
    let _16: !;
    let mut _17: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug month_fmt => _1;
        let _11: &std::option::Option<&str>;
        let _12: &std::option::Option<&str>;
        let mut _18: &std::option::Option<&str>;
        scope 2 {
            debug left_val => _11;
            debug right_val => _12;
            let _15: core::panicking::AssertKind;
            scope 3 {
                debug kind => _15;
            }
        }
    }

    bb0: {
        _5 = dates_in_year(const 2013_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone {by_month::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone>(move _5, by_month::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _3 = &mut _4;
        _2 = <impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone as Iterator>::next(move _3) -> [return: bb3, unwind continue];
    }

    bb3: {
        _1 = Option::<(u32, impl Iterator<Item = NaiveDate> + Clone)>::map::<String, [closure@ui/impl-trait/example-calendar.rs:573:14: 573:25]>(move _2, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:573:14: 573:25]) -> [return: bb4, unwind continue];
    }

    bb4: {
        _10 = &_1;
        _9 = Option::<String>::as_ref(move _10) -> [return: bb5, unwind: bb11];
    }

    bb5: {
        _8 = Option::<&String>::map::<&str, [closure@ui/impl-trait/example-calendar.rs:578:32: 578:35]>(move _9, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:578:32: 578:35]) -> [return: bb6, unwind: bb11];
    }

    bb6: {
        _7 = &_8;
        _18 = const _;
        _6 = (move _7, _18);
        _11 = (_6.0: &std::option::Option<&str>);
        _12 = (_6.1: &std::option::Option<&str>);
        _14 = <Option<&str> as PartialEq>::eq(_11, _12) -> [return: bb7, unwind: bb11];
    }

    bb7: {
        _13 = Not(move _14);
        switchInt(move _13) -> [0: bb9, otherwise: bb8];
    }

    bb8: {
        _15 = core::panicking::AssertKind::Eq;
        _17 = Option::<Arguments<'_>>::None;
        _16 = core::panicking::assert_failed::<Option<&str>, Option<&str>>(move _15, _11, _12, move _17) -> bb11;
    }

    bb9: {
        drop(_1) -> [return: bb10, unwind continue];
    }

    bb10: {
        return;
    }

    bb11 (cleanup): {
        drop(_1) -> [return: bb12, unwind terminate];
    }

    bb12 (cleanup): {
        resume;
    }
}

promoted[0] in test_format_month: &Option<&str> = {
    let mut _0: &std::option::Option<&str>;
    let mut _1: std::option::Option<&str>;

    bb0: {
        _1 = Option::<&str>::Some(const "       January       \n        1  2  3  4  5\n  6  7  8  9 10 11 12\n 13 14 15 16 17 18 19\n 20 21 22 23 24 25 26\n 27 28 29 30 31      ");
        _0 = &_1;
        return;
    }
}

fn test_format_month::{closure#0}(_1: [closure@ui/impl-trait/example-calendar.rs:573:14: 573:25], _2: (u32, impl Iterator<Item = NaiveDate> + Clone)) -> String {
    let mut _0: std::string::String;
    let _3: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let mut _4: impl std::iter::Iterator<Item = std::string::String>;
    let mut _5: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let _6: &str;
    scope 1 {
        debug days => _3;
    }

    bb0: {
        _3 = move (_2.1: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone);
        _5 = <impl Iterator<Item = NaiveDate> + Clone as IntoIterator>::into_iter(move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = String> {format_month::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = String>>(move _5, format_month::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _6 = const "\n";
        _0 = <impl Iterator<Item = String> as IteratorExt>::join(move _4, _6) -> [return: bb3, unwind continue];
    }

    bb3: {
        return;
    }
}

fn test_format_month::{closure#1}(_1: [closure@ui/impl-trait/example-calendar.rs:578:32: 578:35], _2: &String) -> &str {
    debug s => _2;
    let mut _0: &str;
    let _3: &str;

    bb0: {
        _3 = <String as Deref>::deref(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        _0 = _3;
        return;
    }
}

fn format_months(_1: impl Iterator<Item = impl DateIterator>) -> impl Iterator<Item = impl Iterator<Item = String>> {
    debug it => _1;
    let mut _0: impl std::iter::Iterator<Item = impl std::iter::Iterator<Item = std::string::String>>;

    bb0: {
        _0 = <impl Iterator<Item = impl DateIterator> as Iterator>::map::<impl Iterator<Item = String>, fn(impl DateIterator) -> impl Iterator<Item = String> {format_month::<impl DateIterator>}>(move _1, format_month::<impl DateIterator>) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn PasteBlocks::paste_blocks(_1: Self, _2: usize) -> PasteBlocksIter<<Self as Iterator>::Item> {
    debug self => _1;
    debug sep_width => _2;
    let mut _0: PasteBlocksIter<<Self as std::iter::Iterator>::Item>;
    let mut _3: std::vec::Vec<<Self as std::iter::Iterator>::Item>;
    let mut _4: std::vec::Vec<std::option::Option<std::string::String>>;
    let mut _5: std::option::Option<std::vec::Vec<usize>>;

    bb0: {
        _3 = <Self as Iterator>::collect::<Vec<<Self as Iterator>::Item>>(move _1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = Vec::<Option<String>>::new() -> [return: bb2, unwind: bb3];
    }

    bb2: {
        _5 = Option::<Vec<usize>>::None;
        _0 = PasteBlocksIter::<<Self as Iterator>::Item> { iters: move _3, cache: move _4, col_widths: move _5, sep_width: _2 };
        return;
    }

    bb3 (cleanup): {
        drop(_3) -> [return: bb4, unwind terminate];
    }

    bb4 (cleanup): {
        resume;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next(_1: &mut PasteBlocksIter<StrIt>) -> Option<String> {
    debug self => _1;
    let mut _0: std::option::Option<std::string::String>;
    let _2: ();
    let mut _3: &mut std::vec::Vec<std::option::Option<std::string::String>>;
    let _4: ();
    let mut _5: &mut std::vec::Vec<std::option::Option<std::string::String>>;
    let mut _6: std::iter::Map<std::slice::IterMut<'_, StrIt>, [closure@ui/impl-trait/example-calendar.rs:627:53: 627:57]>;
    let mut _7: std::slice::IterMut<'_, StrIt>;
    let mut _8: &mut [StrIt];
    let mut _9: &mut [StrIt];
    let mut _10: &mut std::vec::Vec<StrIt>;
    let mut _11: bool;
    let mut _12: &mut std::slice::Iter<'_, std::option::Option<std::string::String>>;
    let mut _13: std::slice::Iter<'_, std::option::Option<std::string::String>>;
    let mut _14: &[std::option::Option<std::string::String>];
    let _15: &[std::option::Option<std::string::String>];
    let mut _16: &std::vec::Vec<std::option::Option<std::string::String>>;
    let _17: &[usize];
    let mut _18: isize;
    let _19: &std::vec::Vec<usize>;
    let _20: &[usize];
    let _21: &[usize];
    let mut _22: std::option::Option<std::vec::Vec<usize>>;
    let mut _23: std::vec::Vec<usize>;
    let mut _24: std::iter::Map<std::slice::Iter<'_, std::option::Option<std::string::String>>, [closure@ui/impl-trait/example-calendar.rs:637:26: 637:30]>;
    let mut _25: std::slice::Iter<'_, std::option::Option<std::string::String>>;
    let mut _26: &[std::option::Option<std::string::String>];
    let _27: &[std::option::Option<std::string::String>];
    let mut _28: &std::vec::Vec<std::option::Option<std::string::String>>;
    let _29: &[usize];
    let mut _30: &std::vec::Vec<usize>;
    let _31: &std::vec::Vec<usize>;
    let mut _32: std::option::Option<&std::vec::Vec<usize>>;
    let mut _33: &std::option::Option<std::vec::Vec<usize>>;
    let mut _35: std::iter::Zip<std::iter::Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, std::option::Option<std::string::String>>>;
    let mut _36: std::iter::Cloned<std::slice::Iter<'_, usize>>;
    let mut _37: std::slice::Iter<'_, usize>;
    let mut _38: &[usize];
    let mut _39: std::slice::IterMut<'_, std::option::Option<std::string::String>>;
    let mut _40: &mut [std::option::Option<std::string::String>];
    let mut _41: &mut [std::option::Option<std::string::String>];
    let mut _42: &mut std::vec::Vec<std::option::Option<std::string::String>>;
    let mut _44: std::option::Option<std::string::String>;
    let mut _45: &mut std::iter::Map<std::iter::Zip<std::iter::Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, std::option::Option<std::string::String>>>, [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]>;
    let mut _46: std::string::String;
    let mut _48: std::string::String;
    let mut _49: std::iter::Map<std::iter::Zip<std::iter::Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, std::option::Option<std::string::String>>>, [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]>;
    let mut _50: std::string::String;
    let mut _51: [closure@ui/impl-trait/example-calendar.rs:650:32: 650:49];
    let mut _52: &usize;
    let mut _53: bool;
    scope 1 {
        debug col_widths => _17;
        let mut _34: std::iter::Map<std::iter::Zip<std::iter::Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, std::option::Option<std::string::String>>>, [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]>;
        scope 3 {
            debug parts => _34;
            let _43: std::string::String;
            scope 4 {
                debug first => _43;
                let _47: usize;
                scope 5 {
                    debug sep_width => _47;
                }
            }
        }
    }
    scope 2 {
        debug v => _19;
    }

    bb0: {
        _53 = const false;
        _3 = &mut ((*_1).1: std::vec::Vec<std::option::Option<std::string::String>>);
        _2 = Vec::<Option<String>>::clear(move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        _5 = &mut ((*_1).1: std::vec::Vec<std::option::Option<std::string::String>>);
        _10 = &mut ((*_1).0: std::vec::Vec<StrIt>);
        _9 = <Vec<StrIt> as DerefMut>::deref_mut(move _10) -> [return: bb2, unwind continue];
    }

    bb2: {
        _8 = _9;
        _7 = core::slice::<impl [StrIt]>::iter_mut(move _8) -> [return: bb3, unwind continue];
    }

    bb3: {
        _6 = <std::slice::IterMut<'_, StrIt> as Iterator>::map::<Option<String>, [closure@ui/impl-trait/example-calendar.rs:627:53: 627:57]>(move _7, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:627:53: 627:57]) -> [return: bb4, unwind continue];
    }

    bb4: {
        _4 = <Vec<Option<String>> as Extend<Option<String>>>::extend::<Map<std::slice::IterMut<'_, StrIt>, [closure@ui/impl-trait/example-calendar.rs:627:53: 627:57]>>(move _5, move _6) -> [return: bb5, unwind continue];
    }

    bb5: {
        _16 = &((*_1).1: std::vec::Vec<std::option::Option<std::string::String>>);
        _15 = <Vec<Option<String>> as Deref>::deref(move _16) -> [return: bb6, unwind continue];
    }

    bb6: {
        _14 = _15;
        _13 = core::slice::<impl [Option<String>]>::iter(move _14) -> [return: bb7, unwind continue];
    }

    bb7: {
        _12 = &mut _13;
        _11 = <std::slice::Iter<'_, Option<String>> as Iterator>::all::<[closure@ui/impl-trait/example-calendar.rs:630:34: 630:37]>(move _12, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:630:34: 630:37]) -> [return: bb8, unwind continue];
    }

    bb8: {
        switchInt(move _11) -> [0: bb11, otherwise: bb9];
    }

    bb9: {
        _0 = Option::<String>::None;
        goto -> bb35;
    }

    bb10: {
        unreachable;
    }

    bb11: {
        _18 = discriminant(((*_1).2: std::option::Option<std::vec::Vec<usize>>));
        switchInt(move _18) -> [0: bb12, 1: bb13, otherwise: bb10];
    }

    bb12: {
        _28 = &((*_1).1: std::vec::Vec<std::option::Option<std::string::String>>);
        _27 = <Vec<Option<String>> as Deref>::deref(move _28) -> [return: bb15, unwind continue];
    }

    bb13: {
        _19 = &((((*_1).2: std::option::Option<std::vec::Vec<usize>>) as Some).0: std::vec::Vec<usize>);
        _20 = <Vec<usize> as Deref>::deref(_19) -> [return: bb14, unwind continue];
    }

    bb14: {
        _17 = _20;
        goto -> bb24;
    }

    bb15: {
        _26 = _27;
        _25 = core::slice::<impl [Option<String>]>::iter(move _26) -> [return: bb16, unwind continue];
    }

    bb16: {
        _24 = <std::slice::Iter<'_, Option<String>> as Iterator>::map::<usize, [closure@ui/impl-trait/example-calendar.rs:637:26: 637:30]>(move _25, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:637:26: 637:30]) -> [return: bb17, unwind continue];
    }

    bb17: {
        _23 = <Map<std::slice::Iter<'_, Option<String>>, [closure@ui/impl-trait/example-calendar.rs:637:26: 637:30]> as Iterator>::collect::<Vec<usize>>(move _24) -> [return: bb18, unwind continue];
    }

    bb18: {
        _22 = Option::<Vec<usize>>::Some(move _23);
        drop(((*_1).2: std::option::Option<std::vec::Vec<usize>>)) -> [return: bb19, unwind: bb20];
    }

    bb19: {
        ((*_1).2: std::option::Option<std::vec::Vec<usize>>) = move _22;
        _33 = &((*_1).2: std::option::Option<std::vec::Vec<usize>>);
        _32 = Option::<Vec<usize>>::as_ref(move _33) -> [return: bb21, unwind continue];
    }

    bb20 (cleanup): {
        ((*_1).2: std::option::Option<std::vec::Vec<usize>>) = move _22;
        goto -> bb36;
    }

    bb21: {
        _31 = Option::<&Vec<usize>>::unwrap(move _32) -> [return: bb22, unwind continue];
    }

    bb22: {
        _30 = _31;
        _29 = <Vec<usize> as Deref>::deref(move _30) -> [return: bb23, unwind continue];
    }

    bb23: {
        _21 = _29;
        _17 = _21;
        goto -> bb24;
    }

    bb24: {
        _38 = _17;
        _37 = core::slice::<impl [usize]>::iter(move _38) -> [return: bb25, unwind continue];
    }

    bb25: {
        _36 = <std::slice::Iter<'_, usize> as Iterator>::cloned::<'_, usize>(move _37) -> [return: bb26, unwind continue];
    }

    bb26: {
        _42 = &mut ((*_1).1: std::vec::Vec<std::option::Option<std::string::String>>);
        _41 = <Vec<Option<String>> as DerefMut>::deref_mut(move _42) -> [return: bb27, unwind continue];
    }

    bb27: {
        _40 = _41;
        _39 = core::slice::<impl [Option<String>]>::iter_mut(move _40) -> [return: bb28, unwind continue];
    }

    bb28: {
        _35 = <Cloned<std::slice::Iter<'_, usize>> as Iterator>::zip::<std::slice::IterMut<'_, Option<String>>>(move _36, move _39) -> [return: bb29, unwind continue];
    }

    bb29: {
        _34 = <Zip<Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, Option<String>>> as Iterator>::map::<String, [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]>(move _35, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]) -> [return: bb30, unwind continue];
    }

    bb30: {
        _45 = &mut _34;
        _53 = const true;
        _44 = <Map<Zip<Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, Option<String>>>, [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]> as Iterator>::next(move _45) -> [return: bb31, unwind continue];
    }

    bb31: {
        _46 = String::new() -> [return: bb32, unwind: bb38];
    }

    bb32: {
        _53 = const false;
        _43 = Option::<String>::unwrap_or(move _44, move _46) -> [return: bb33, unwind: bb38];
    }

    bb33: {
        _53 = const false;
        _47 = ((*_1).3: usize);
        _49 = move _34;
        _50 = move _43;
        _52 = &_47;
        _51 = [closure@ui/impl-trait/example-calendar.rs:650:32: 650:49] { sep_width: move _52 };
        _48 = <Map<Zip<Cloned<std::slice::Iter<'_, usize>>, std::slice::IterMut<'_, Option<String>>>, [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26]> as Iterator>::fold::<String, [closure@ui/impl-trait/example-calendar.rs:650:32: 650:49]>(move _49, move _50, move _51) -> [return: bb34, unwind continue];
    }

    bb34: {
        _0 = Option::<String>::Some(move _48);
        goto -> bb35;
    }

    bb35: {
        return;
    }

    bb36 (cleanup): {
        resume;
    }

    bb37 (cleanup): {
        drop(_44) -> [return: bb36, unwind terminate];
    }

    bb38 (cleanup): {
        switchInt(_53) -> [0: bb36, otherwise: bb37];
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:627:53: 627:57], _2: &mut StrIt) -> Option<String> {
    debug it => _2;
    let mut _0: std::option::Option<std::string::String>;

    bb0: {
        _0 = <StrIt as Iterator>::next(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#1}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:630:34: 630:37], _2: &Option<String>) -> bool {
    debug e => _2;
    let mut _0: bool;

    bb0: {
        _0 = Option::<String>::is_none(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#2}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:637:26: 637:30], _2: &Option<String>) -> usize {
    debug ms => _2;
    let mut _0: usize;
    let mut _3: std::option::Option<usize>;
    let mut _4: std::option::Option<&std::string::String>;

    bb0: {
        _4 = Option::<String>::as_ref(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = Option::<&String>::map::<usize, [closure@ui/impl-trait/example-calendar.rs:637:47: 637:50]>(move _4, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:637:47: 637:50]) -> [return: bb2, unwind continue];
    }

    bb2: {
        _0 = Option::<usize>::unwrap_or(move _3, const 0_usize) -> [return: bb3, unwind continue];
    }

    bb3: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#2}::{closure#0}(_1: [closure@ui/impl-trait/example-calendar.rs:637:47: 637:50], _2: &String) -> usize {
    debug s => _2;
    let mut _0: usize;

    bb0: {
        _0 = String::len(_2) -> [return: bb1, unwind continue];
    }

    bb1: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#3}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:645:18: 645:26], _2: (usize, &mut Option<String>)) -> String {
    let mut _0: std::string::String;
    let _3: usize;
    let _4: &mut std::option::Option<std::string::String>;
    let mut _5: std::option::Option<std::string::String>;
    let mut _6: [closure@ui/impl-trait/example-calendar.rs:645:52: 645:54];
    let mut _7: &usize;
    scope 1 {
        debug w => _3;
        debug ms => _4;
    }

    bb0: {
        _3 = (_2.0: usize);
        _4 = move (_2.1: &mut std::option::Option<std::string::String>);
        _5 = Option::<String>::take(_4) -> [return: bb1, unwind continue];
    }

    bb1: {
        _7 = &_3;
        _6 = [closure@ui/impl-trait/example-calendar.rs:645:52: 645:54] { w: move _7 };
        _0 = Option::<String>::unwrap_or_else::<[closure@ui/impl-trait/example-calendar.rs:645:52: 645:54]>(move _5, move _6) -> [return: bb2, unwind continue];
    }

    bb2: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#3}::{closure#0}(_1: [closure@ui/impl-trait/example-calendar.rs:645:52: 645:54]) -> String {
    debug w => (*(_1.0: &usize));
    let mut _0: std::string::String;
    let mut _2: std::iter::Take<std::iter::Repeat<char>>;
    let mut _3: usize;
    let mut _4: &usize;

    bb0: {
        _4 = deref_copy (_1.0: &usize);
        _3 = (*_4);
        _2 = spaces(move _3) -> [return: bb1, unwind continue];
    }

    bb1: {
        _0 = <std::iter::Take<std::iter::Repeat<char>> as Iterator>::collect::<String>(move _2) -> [return: bb2, unwind continue];
    }

    bb2: {
        return;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:619:1: 619:48>::next::{closure#4}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:650:32: 650:49], _2: String, _3: String) -> String {
    debug accum => _2;
    debug next => _3;
    debug sep_width => (*((*_1).0: &usize));
    let mut _0: std::string::String;
    let _4: ();
    let mut _5: &mut std::string::String;
    let mut _6: std::iter::Take<std::iter::Repeat<char>>;
    let mut _7: usize;
    let _8: ();
    let mut _9: &mut std::string::String;
    let mut _10: &str;
    let _11: &str;
    let _12: &std::string::String;
    let mut _13: &usize;
    let mut _14: bool;

    bb0: {
        _14 = const false;
        _14 = const true;
        _5 = &mut _2;
        _13 = deref_copy ((*_1).0: &usize);
        _7 = (*_13);
        _6 = spaces(move _7) -> [return: bb1, unwind: bb6];
    }

    bb1: {
        _4 = <String as Extend<char>>::extend::<std::iter::Take<std::iter::Repeat<char>>>(move _5, move _6) -> [return: bb2, unwind: bb6];
    }

    bb2: {
        _9 = &mut _2;
        _12 = &_3;
        _11 = <String as Deref>::deref(_12) -> [return: bb3, unwind: bb6];
    }

    bb3: {
        _10 = _11;
        _8 = String::push_str(move _9, move _10) -> [return: bb4, unwind: bb6];
    }

    bb4: {
        _14 = const false;
        _0 = move _2;
        drop(_3) -> [return: bb5, unwind: bb9];
    }

    bb5: {
        return;
    }

    bb6 (cleanup): {
        drop(_3) -> [return: bb9, unwind terminate];
    }

    bb7 (cleanup): {
        resume;
    }

    bb8 (cleanup): {
        drop(_2) -> [return: bb7, unwind terminate];
    }

    bb9 (cleanup): {
        switchInt(_14) -> [0: bb7, otherwise: bb8];
    }
}

fn test_paste_blocks() -> () {
    let mut _0: ();
    let _1: std::string::String;
    let mut _2: PasteBlocksIter<impl std::iter::Iterator<Item = std::string::String>>;
    let mut _3: impl std::iter::Iterator<Item = impl std::iter::Iterator<Item = std::string::String>>;
    let mut _4: std::iter::Take<std::iter::Map<impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>>;
    let mut _5: std::iter::Map<impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>;
    let mut _6: impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _7: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let _8: &str;
    let mut _9: (&&str, &&str);
    let mut _10: &&str;
    let _11: &str;
    let _12: &str;
    let mut _13: &std::string::String;
    let mut _16: bool;
    let mut _17: bool;
    let _19: !;
    let mut _20: std::option::Option<std::fmt::Arguments<'_>>;
    scope 1 {
        debug row => _1;
        let _14: &&str;
        let _15: &&str;
        let mut _21: &&str;
        scope 2 {
            debug left_val => _14;
            debug right_val => _15;
            let _18: core::panicking::AssertKind;
            scope 3 {
                debug kind => _18;
            }
        }
    }

    bb0: {
        _7 = dates_in_year(const 2013_i32) -> [return: bb1, unwind continue];
    }

    bb1: {
        _6 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone {by_month::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone>(move _7, by_month::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _5 = <impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone as Iterator>::map::<impl Iterator<Item = NaiveDate> + Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>(move _6, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]) -> [return: bb3, unwind continue];
    }

    bb3: {
        _4 = <Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]> as Iterator>::take(move _5, const 3_usize) -> [return: bb4, unwind continue];
    }

    bb4: {
        _3 = <std::iter::Take<Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>> as IteratorExt>::__::<fn(std::iter::Take<Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>>) -> impl Iterator<Item = impl Iterator<Item = String>> {format_months::<impl Iterator<Item = NaiveDate> + Clone, std::iter::Take<Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>>>}, impl Iterator<Item = impl Iterator<Item = String>>>(move _4, format_months::<impl Iterator<Item = NaiveDate> + Clone, std::iter::Take<Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38]>>>) -> [return: bb5, unwind continue];
    }

    bb5: {
        _2 = <impl Iterator<Item = impl Iterator<Item = String>> as PasteBlocks>::paste_blocks(move _3, const 1_usize) -> [return: bb6, unwind continue];
    }

    bb6: {
        _8 = const "\n";
        _1 = <PasteBlocksIter<impl Iterator<Item = String>> as IteratorExt>::join(move _2, _8) -> [return: bb7, unwind continue];
    }

    bb7: {
        _13 = &_1;
        _12 = <String as Deref>::deref(move _13) -> [return: bb8, unwind: bb13];
    }

    bb8: {
        _11 = _12;
        _10 = &_11;
        _21 = const _;
        _9 = (move _10, _21);
        _14 = (_9.0: &&str);
        _15 = (_9.1: &&str);
        _17 = <&str as PartialEq>::eq(_14, _15) -> [return: bb9, unwind: bb13];
    }

    bb9: {
        _16 = Not(move _17);
        switchInt(move _16) -> [0: bb11, otherwise: bb10];
    }

    bb10: {
        _18 = core::panicking::AssertKind::Eq;
        _20 = Option::<Arguments<'_>>::None;
        _19 = core::panicking::assert_failed::<&str, &str>(move _18, _14, _15, move _20) -> bb13;
    }

    bb11: {
        drop(_1) -> [return: bb12, unwind continue];
    }

    bb12: {
        return;
    }

    bb13 (cleanup): {
        drop(_1) -> [return: bb14, unwind terminate];
    }

    bb14 (cleanup): {
        resume;
    }
}

promoted[0] in test_paste_blocks: &&str = {
    let mut _0: &&str;
    let mut _1: &str;

    bb0: {
        _1 = const "       January              February                March        \n        1  2  3  4  5                  1  2                  1  2\n  6  7  8  9 10 11 12   3  4  5  6  7  8  9   3  4  5  6  7  8  9\n 13 14 15 16 17 18 19  10 11 12 13 14 15 16  10 11 12 13 14 15 16\n 20 21 22 23 24 25 26  17 18 19 20 21 22 23  17 18 19 20 21 22 23\n 27 28 29 30 31        24 25 26 27 28        24 25 26 27 28 29 30\n                                             31                  ";
        _0 = &_1;
        return;
    }
}

fn test_paste_blocks::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:660:27: 660:38], _2: (u32, impl Iterator<Item = NaiveDate> + Clone)) -> impl Iterator<Item = NaiveDate> + Clone {
    let mut _0: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    scope 1 {
        debug days => _0;
    }

    bb0: {
        _0 = move (_2.1: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone);
        return;
    }
}

fn Chunks::chunks(_1: Self, _2: usize) -> ChunksIter<Self> {
    debug self => _1;
    debug n => _2;
    let mut _0: ChunksIter<Self>;
    let mut _3: bool;
    let mut _4: bool;
    let mut _5: !;
    let mut _6: Self;

    bb0: {
        _4 = Gt(_2, const 0_usize);
        _3 = Not(move _4);
        switchInt(move _3) -> [0: bb2, otherwise: bb1];
    }

    bb1: {
        _5 = core::panicking::panic(const "assertion failed: n > 0") -> bb3;
    }

    bb2: {
        _6 = move _1;
        _0 = ChunksIter::<Self> { it: move _6, n: _2 };
        return;
    }

    bb3 (cleanup): {
        drop(_1) -> [return: bb4, unwind terminate];
    }

    bb4 (cleanup): {
        resume;
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:702:1: 702:37>::next(_1: &mut ChunksIter<It>) -> Option<Vec<<It as Iterator>::Item>> {
    debug self => _1;
    let mut _0: std::option::Option<std::vec::Vec<<It as std::iter::Iterator>::Item>>;
    let _2: <It as std::iter::Iterator>::Item;
    let mut _3: std::ops::ControlFlow<std::option::Option<std::convert::Infallible>, <It as std::iter::Iterator>::Item>;
    let mut _4: std::option::Option<<It as std::iter::Iterator>::Item>;
    let mut _5: &mut It;
    let mut _6: isize;
    let _7: <It as std::iter::Iterator>::Item;
    let mut _9: usize;
    let _10: ();
    let mut _11: &mut std::vec::Vec<<It as std::iter::Iterator>::Item>;
    let mut _12: <It as std::iter::Iterator>::Item;
    let mut _13: std::vec::Vec<<It as std::iter::Iterator>::Item>;
    let mut _14: std::iter::Take<&mut It>;
    let mut _15: &mut It;
    let mut _16: usize;
    let mut _17: usize;
    let mut _18: std::vec::Vec<<It as std::iter::Iterator>::Item>;
    let mut _19: bool;
    let mut _20: bool;
    scope 1 {
        debug first => _2;
        let mut _8: std::vec::Vec<<It as std::iter::Iterator>::Item>;
        scope 6 {
            debug result => _8;
        }
    }
    scope 2 {
        debug residual => const Option::<Infallible>::None;
        scope 3 {
        }
    }
    scope 4 {
        debug val => _7;
        scope 5 {
        }
    }

    bb0: {
        _20 = const false;
        _19 = const false;
        _5 = &mut ((*_1).0: It);
        _4 = <It as Iterator>::next(move _5) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = <Option<<It as Iterator>::Item> as Try>::branch(move _4) -> [return: bb2, unwind continue];
    }

    bb2: {
        _6 = discriminant(_3);
        switchInt(move _6) -> [0: bb3, 1: bb5, otherwise: bb4];
    }

    bb3: {
        _7 = move ((_3 as Continue).0: <It as std::iter::Iterator>::Item);
        _20 = const true;
        _2 = move _7;
        _9 = ((*_1).1: usize);
        _8 = Vec::<<It as Iterator>::Item>::with_capacity(move _9) -> [return: bb7, unwind: bb16];
    }

    bb4: {
        unreachable;
    }

    bb5: {
        _0 = <Option<Vec<<It as Iterator>::Item>> as FromResidual<Option<Infallible>>>::from_residual(const Option::<Infallible>::None) -> [return: bb6, unwind continue];
    }

    bb6: {
        _20 = const false;
        goto -> bb11;
    }

    bb7: {
        _19 = const true;
        _11 = &mut _8;
        _20 = const false;
        _12 = move _2;
        _10 = Vec::<<It as Iterator>::Item>::push(move _11, move _12) -> [return: bb8, unwind: bb14];
    }

    bb8: {
        _15 = &mut ((*_1).0: It);
        _17 = ((*_1).1: usize);
        _16 = Sub(move _17, const 1_usize);
        _14 = <&mut It as Iterator>::take(_15, move _16) -> [return: bb9, unwind: bb14];
    }

    bb9: {
        _19 = const false;
        _18 = move _8;
        _13 = <std::iter::Take<&mut It> as Iterator>::fold::<Vec<<It as Iterator>::Item>, [closure@ui/impl-trait/example-calendar.rs:713:27: 713:42]>(move _14, move _18, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:713:27: 713:42]) -> [return: bb10, unwind: bb14];
    }

    bb10: {
        _0 = Option::<Vec<<It as Iterator>::Item>>::Some(move _13);
        _19 = const false;
        _20 = const false;
        goto -> bb11;
    }

    bb11: {
        return;
    }

    bb12 (cleanup): {
        resume;
    }

    bb13 (cleanup): {
        drop(_8) -> [return: bb16, unwind terminate];
    }

    bb14 (cleanup): {
        switchInt(_19) -> [0: bb16, otherwise: bb13];
    }

    bb15 (cleanup): {
        drop(_2) -> [return: bb12, unwind terminate];
    }

    bb16 (cleanup): {
        switchInt(_20) -> [0: bb12, otherwise: bb15];
    }
}

fn <impl at ui/impl-trait/example-calendar.rs:702:1: 702:37>::next::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:713:27: 713:42], _2: Vec<<It as Iterator>::Item>, _3: <It as Iterator>::Item) -> Vec<<It as Iterator>::Item> {
    debug acc => _2;
    debug next => _3;
    let mut _0: std::vec::Vec<<It as std::iter::Iterator>::Item>;
    let _4: ();
    let mut _5: &mut std::vec::Vec<<It as std::iter::Iterator>::Item>;

    bb0: {
        _5 = &mut _2;
        _4 = Vec::<<It as Iterator>::Item>::push(move _5, move _3) -> [return: bb1, unwind: bb2];
    }

    bb1: {
        _0 = move _2;
        return;
    }

    bb2 (cleanup): {
        drop(_2) -> [return: bb3, unwind terminate];
    }

    bb3 (cleanup): {
        resume;
    }
}

fn test_chunks() -> () {
    let mut _0: ();
    let mut _2: ChunksIter<std::iter::Cloned<std::slice::Iter<'_, i32>>>;
    let mut _3: std::iter::Cloned<std::slice::Iter<'_, i32>>;
    let mut _4: std::slice::Iter<'_, i32>;
    let mut _5: &[i32];
    let mut _6: (&&[std::vec::Vec<i32>], &&[std::vec::Vec<i32>; 3]);
    let mut _7: &&[std::vec::Vec<i32>];
    let _8: &[std::vec::Vec<i32>];
    let _9: &[std::vec::Vec<i32>];
    let mut _10: &std::vec::Vec<std::vec::Vec<i32>>;
    let mut _11: &&[std::vec::Vec<i32>; 3];
    let _12: &[std::vec::Vec<i32>; 3];
    let _13: [std::vec::Vec<i32>; 3];
    let mut _14: std::vec::Vec<i32>;
    let mut _15: std::boxed::Box<[i32]>;
    let mut _16: usize;
    let mut _17: usize;
    let mut _18: *mut u8;
    let mut _19: std::boxed::Box<[i32; 3]>;
    let mut _20: std::vec::Vec<i32>;
    let mut _21: std::boxed::Box<[i32]>;
    let mut _22: usize;
    let mut _23: usize;
    let mut _24: *mut u8;
    let mut _25: std::boxed::Box<[i32; 3]>;
    let mut _26: std::vec::Vec<i32>;
    let mut _27: std::boxed::Box<[i32]>;
    let mut _28: usize;
    let mut _29: usize;
    let mut _30: *mut u8;
    let mut _31: std::boxed::Box<[i32; 1]>;
    let mut _34: bool;
    let mut _35: bool;
    let _37: !;
    let mut _38: std::option::Option<std::fmt::Arguments<'_>>;
    let mut _39: &[i32; 7];
    let mut _40: *const [i32; 3];
    let mut _41: *const [i32; 3];
    let mut _42: *const [i32; 1];
    scope 1 {
        debug r => const _;
        let _1: std::vec::Vec<std::vec::Vec<i32>>;
        scope 2 {
            debug c => _1;
            let _32: &&[std::vec::Vec<i32>];
            let _33: &&[std::vec::Vec<i32>; 3];
            let mut _43: *const ();
            let mut _44: usize;
            let mut _45: usize;
            let mut _46: usize;
            let mut _47: usize;
            let mut _48: bool;
            let mut _49: *const ();
            let mut _50: usize;
            let mut _51: usize;
            let mut _52: usize;
            let mut _53: usize;
            let mut _54: bool;
            let mut _55: *const ();
            let mut _56: usize;
            let mut _57: usize;
            let mut _58: usize;
            let mut _59: usize;
            let mut _60: bool;
            scope 3 {
            }
            scope 4 {
            }
            scope 5 {
            }
            scope 6 {
                debug left_val => _32;
                debug right_val => _33;
                let _36: core::panicking::AssertKind;
                scope 7 {
                    debug kind => _36;
                }
            }
        }
    }

    bb0: {
        _39 = const _;
        _5 = _39 as &[i32] (Pointer(Unsize));
        _4 = core::slice::<impl [i32]>::iter(move _5) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = <std::slice::Iter<'_, i32> as Iterator>::cloned::<'_, i32>(move _4) -> [return: bb2, unwind continue];
    }

    bb2: {
        _2 = <Cloned<std::slice::Iter<'_, i32>> as Chunks>::chunks(move _3, const 3_usize) -> [return: bb3, unwind continue];
    }

    bb3: {
        _1 = <ChunksIter<Cloned<std::slice::Iter<'_, i32>>> as Iterator>::collect::<Vec<Vec<i32>>>(move _2) -> [return: bb4, unwind continue];
    }

    bb4: {
        _10 = &_1;
        _9 = <Vec<Vec<i32>> as Deref>::deref(move _10) -> [return: bb5, unwind: bb20];
    }

    bb5: {
        _8 = _9;
        _7 = &_8;
        _16 = SizeOf([i32; 3]);
        _17 = AlignOf([i32; 3]);
        _18 = alloc::alloc::exchange_malloc(move _16, move _17) -> [return: bb6, unwind: bb20];
    }

    bb6: {
        _19 = ShallowInitBox(move _18, [i32; 3]);
        _40 = (((_19.0: std::ptr::Unique<[i32; 3]>).0: std::ptr::NonNull<[i32; 3]>).0: *const [i32; 3]);
        _55 = _40 as *const () (PtrToPtr);
        _56 = _55 as usize (Transmute);
        _57 = AlignOf(i32);
        _58 = Sub(_57, const 1_usize);
        _59 = BitAnd(_56, _58);
        _60 = Eq(_59, const 0_usize);
        assert(_60, "misaligned pointer dereference: address must be a multiple of {} but is {}", _57, _56) -> [success: bb24, unwind unreachable];
    }

    bb7: {
        _22 = SizeOf([i32; 3]);
        _23 = AlignOf([i32; 3]);
        _24 = alloc::alloc::exchange_malloc(move _22, move _23) -> [return: bb8, unwind: bb19];
    }

    bb8: {
        _25 = ShallowInitBox(move _24, [i32; 3]);
        _41 = (((_25.0: std::ptr::Unique<[i32; 3]>).0: std::ptr::NonNull<[i32; 3]>).0: *const [i32; 3]);
        _49 = _41 as *const () (PtrToPtr);
        _50 = _49 as usize (Transmute);
        _51 = AlignOf(i32);
        _52 = Sub(_51, const 1_usize);
        _53 = BitAnd(_50, _52);
        _54 = Eq(_53, const 0_usize);
        assert(_54, "misaligned pointer dereference: address must be a multiple of {} but is {}", _51, _50) -> [success: bb23, unwind unreachable];
    }

    bb9: {
        _28 = SizeOf([i32; 1]);
        _29 = AlignOf([i32; 1]);
        _30 = alloc::alloc::exchange_malloc(move _28, move _29) -> [return: bb10, unwind: bb18];
    }

    bb10: {
        _31 = ShallowInitBox(move _30, [i32; 1]);
        _42 = (((_31.0: std::ptr::Unique<[i32; 1]>).0: std::ptr::NonNull<[i32; 1]>).0: *const [i32; 1]);
        _43 = _42 as *const () (PtrToPtr);
        _44 = _43 as usize (Transmute);
        _45 = AlignOf(i32);
        _46 = Sub(_45, const 1_usize);
        _47 = BitAnd(_44, _46);
        _48 = Eq(_47, const 0_usize);
        assert(_48, "misaligned pointer dereference: address must be a multiple of {} but is {}", _45, _44) -> [success: bb22, unwind unreachable];
    }

    bb11: {
        _13 = [move _14, move _20, move _26];
        _12 = &_13;
        _11 = &_12;
        _6 = (move _7, move _11);
        _32 = (_6.0: &&[std::vec::Vec<i32>]);
        _33 = (_6.1: &&[std::vec::Vec<i32>; 3]);
        _35 = <&[Vec<i32>] as PartialEq<&[Vec<i32>; 3]>>::eq(_32, _33) -> [return: bb12, unwind: bb17];
    }

    bb12: {
        _34 = Not(move _35);
        switchInt(move _34) -> [0: bb14, otherwise: bb13];
    }

    bb13: {
        _36 = core::panicking::AssertKind::Eq;
        _38 = Option::<Arguments<'_>>::None;
        _37 = core::panicking::assert_failed::<&[Vec<i32>], &[Vec<i32>; 3]>(move _36, _32, _33, move _38) -> bb17;
    }

    bb14: {
        drop(_13) -> [return: bb15, unwind: bb20];
    }

    bb15: {
        drop(_1) -> [return: bb16, unwind continue];
    }

    bb16: {
        return;
    }

    bb17 (cleanup): {
        drop(_13) -> [return: bb20, unwind terminate];
    }

    bb18 (cleanup): {
        drop(_20) -> [return: bb19, unwind terminate];
    }

    bb19 (cleanup): {
        drop(_14) -> [return: bb20, unwind terminate];
    }

    bb20 (cleanup): {
        drop(_1) -> [return: bb21, unwind terminate];
    }

    bb21 (cleanup): {
        resume;
    }

    bb22: {
        (*_42) = [const 7_i32];
        _27 = move _31 as std::boxed::Box<[i32]> (Pointer(Unsize));
        _26 = slice::<impl [i32]>::into_vec::<std::alloc::Global>(move _27) -> [return: bb11, unwind: bb18];
    }

    bb23: {
        (*_41) = [const 4_i32, const 5_i32, const 6_i32];
        _21 = move _25 as std::boxed::Box<[i32]> (Pointer(Unsize));
        _20 = slice::<impl [i32]>::into_vec::<std::alloc::Global>(move _21) -> [return: bb9, unwind: bb19];
    }

    bb24: {
        (*_40) = [const 1_i32, const 2_i32, const 3_i32];
        _15 = move _19 as std::boxed::Box<[i32]> (Pointer(Unsize));
        _14 = slice::<impl [i32]>::into_vec::<std::alloc::Global>(move _15) -> [return: bb7, unwind: bb20];
    }
}

promoted[0] in test_chunks: &[i32; 7] = {
    let mut _0: &[i32; 7];
    let mut _1: [i32; 7];

    bb0: {
        _1 = [const 1_i32, const 2_i32, const 3_i32, const 4_i32, const 5_i32, const 6_i32, const 7_i32];
        _0 = &_1;
        return;
    }
}

fn format_year(_1: i32, _2: usize) -> String {
    debug year => _1;
    debug months_per_row => _2;
    let mut _0: std::string::String;
    let mut _3: std::iter::Map<ChunksIter<std::iter::Map<impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]>>, [closure@ui/impl-trait/example-calendar.rs:737:14: 737:17]>;
    let mut _4: ChunksIter<std::iter::Map<impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]>>;
    let mut _5: std::iter::Map<impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]>;
    let mut _6: impl std::iter::Iterator<Item = (u32, impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone)> + std::clone::Clone;
    let mut _7: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    let _8: &str;

    bb0: {
        _7 = dates_in_year(_1) -> [return: bb1, unwind continue];
    }

    bb1: {
        _6 = <impl Iterator<Item = NaiveDate> + Clone as IteratorExt>::__::<fn(impl Iterator<Item = NaiveDate> + Clone) -> impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone {by_month::<impl Iterator<Item = NaiveDate> + Clone>}, impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone>(move _7, by_month::<impl Iterator<Item = NaiveDate> + Clone>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _5 = <impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone as Iterator>::map::<impl Iterator<Item = NaiveDate> + Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]>(move _6, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]) -> [return: bb3, unwind continue];
    }

    bb3: {
        _4 = <Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]> as Chunks>::chunks(move _5, _2) -> [return: bb4, unwind continue];
    }

    bb4: {
        _3 = <ChunksIter<Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]>> as Iterator>::map::<String, [closure@ui/impl-trait/example-calendar.rs:737:14: 737:17]>(move _4, const ZeroSized: [closure@ui/impl-trait/example-calendar.rs:737:14: 737:17]) -> [return: bb5, unwind continue];
    }

    bb5: {
        _8 = const "\n\n";
        _0 = <Map<ChunksIter<Map<impl Iterator<Item = (u32, impl Iterator<Item = NaiveDate> + Clone)> + Clone, [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38]>>, [closure@ui/impl-trait/example-calendar.rs:737:14: 737:17]> as IteratorExt>::join(move _3, _8) -> [return: bb6, unwind continue];
    }

    bb6: {
        return;
    }
}

const COL_SPACING: usize = {
    let mut _0: usize;

    bb0: {
        _0 = const 1_usize;
        return;
    }
}

fn format_year::{closure#0}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:731:27: 731:38], _2: (u32, impl Iterator<Item = NaiveDate> + Clone)) -> impl Iterator<Item = NaiveDate> + Clone {
    let mut _0: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone;
    scope 1 {
        debug days => _0;
    }

    bb0: {
        _0 = move (_2.1: impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone);
        return;
    }
}

fn format_year::{closure#1}(_1: &mut [closure@ui/impl-trait/example-calendar.rs:737:14: 737:17], _2: Vec<impl Iterator<Item = NaiveDate> + Clone>) -> String {
    debug r => _2;
    let mut _0: std::string::String;
    let mut _3: PasteBlocksIter<impl std::iter::Iterator<Item = std::string::String>>;
    let mut _4: impl std::iter::Iterator<Item = impl std::iter::Iterator<Item = std::string::String>>;
    let mut _5: std::vec::IntoIter<impl std::iter::Iterator<Item = NaiveDate> + std::clone::Clone>;
    let _6: &str;

    bb0: {
        _5 = <Vec<impl Iterator<Item = NaiveDate> + Clone> as IntoIterator>::into_iter(move _2) -> [return: bb1, unwind continue];
    }

    bb1: {
        _4 = <std::vec::IntoIter<impl Iterator<Item = NaiveDate> + Clone> as IteratorExt>::__::<fn(std::vec::IntoIter<impl Iterator<Item = NaiveDate> + Clone>) -> impl Iterator<Item = impl Iterator<Item = String>> {format_months::<impl Iterator<Item = NaiveDate> + Clone, std::vec::IntoIter<impl Iterator<Item = NaiveDate> + Clone>>}, impl Iterator<Item = impl Iterator<Item = String>>>(move _5, format_months::<impl Iterator<Item = NaiveDate> + Clone, std::vec::IntoIter<impl Iterator<Item = NaiveDate> + Clone>>) -> [return: bb2, unwind continue];
    }

    bb2: {
        _3 = <impl Iterator<Item = impl Iterator<Item = String>> as PasteBlocks>::paste_blocks(move _4, const _) -> [return: bb3, unwind continue];
    }

    bb3: {
        _6 = const "\n";
        _0 = <PasteBlocksIter<impl Iterator<Item = String>> as IteratorExt>::join(move _3, _6) -> [return: bb4, unwind continue];
    }

    bb4: {
        return;
    }
}

fn test_format_year() -> () {
    let mut _0: ();
    let mut _1: bool;
    let mut _2: &&std::string::String;
    let _3: &std::string::String;
    let _4: std::string::String;
    let _5: ();
    let mut _6: std::fmt::Arguments<'_>;
    let mut _7: &[&str];
    let mut _8: &[core::fmt::rt::Argument<'_>];
    let _9: &[core::fmt::rt::Argument<'_>; 1];
    let _10: [core::fmt::rt::Argument<'_>; 1];
    let mut _11: core::fmt::rt::Argument<'_>;
    let _12: &std::string::String;
    let _13: std::string::String;
    let mut _14: &str;
    let _15: &str;
    let _16: &std::string::String;
    let _17: std::string::String;
    let _18: &str;
    let _19: ();
    let mut _20: std::fmt::Arguments<'_>;
    let mut _21: &[&str];
    let mut _22: &[core::fmt::rt::Argument<'_>];
    let _23: &[core::fmt::rt::Argument<'_>; 1];
    let _24: [core::fmt::rt::Argument<'_>; 1];
    let mut _25: core::fmt::rt::Argument<'_>;
    let _26: &std::string::String;
    let _27: std::string::String;
    let _28: &str;
    let _29: &str;
    let _30: !;
    let mut _31: bool;
    let mut _32: &&std::string::String;
    let _33: &std::string::String;
    let _34: std::string::String;
    let _35: ();
    let mut _36: std::fmt::Arguments<'_>;
    let mut _37: &[&str];
    let mut _38: &[core::fmt::rt::Argument<'_>];
    let _39: &[core::fmt::rt::Argument<'_>; 1];
    let _40: [core::fmt::rt::Argument<'_>; 1];
    let mut _41: core::fmt::rt::Argument<'_>;
    let _42: &std::string::String;
    let _43: std::string::String;
    let mut _44: &str;
    let _45: &str;
    let _46: &std::string::String;
    let _47: std::string::String;
    let _48: &str;
    let _49: ();
    let mut _50: std::fmt::Arguments<'_>;
    let mut _51: &[&str];
    let mut _52: &[core::fmt::rt::Argument<'_>];
    let _53: &[core::fmt::rt::Argument<'_>; 1];
    let _54: [core::fmt::rt::Argument<'_>; 1];
    let mut _55: core::fmt::rt::Argument<'_>;
    let _56: &std::string::String;
    let _57: std::string::String;
    let _58: &str;
    let _59: &str;
    let _60: !;
    let mut _61: &[&str; 2];
    let mut _62: &[&str; 2];
    let mut _63: &[&str; 2];
    let mut _64: &[&str; 2];
    let mut _65: &&str;
    let mut _66: &&str;

    bb0: {
        _4 = format_year(const 1984_i32, const _) -> [return: bb1, unwind continue];
    }

    bb1: {
        _3 = &_4;
        _2 = &_3;
        _66 = const _;
        _1 = <&String as PartialEq<&str>>::ne(move _2, _66) -> [return: bb2, unwind: bb44];
    }

    bb2: {
        drop(_4) -> [return: bb3, unwind continue];
    }

    bb3: {
        switchInt(move _1) -> [0: bb18, otherwise: bb4];
    }

    bb4: {
        _62 = const _;
        _7 = _62 as &[&str] (Pointer(Unsize));
        _17 = format_year(const 1984_i32, const _) -> [return: bb5, unwind continue];
    }

    bb5: {
        _16 = &_17;
        _15 = <String as Deref>::deref(_16) -> [return: bb6, unwind: bb43];
    }

    bb6: {
        _14 = _15;
        _18 = const ".";
        _13 = str::<impl str>::replace::<'_, &str>(move _14, const " ", _18) -> [return: bb7, unwind: bb43];
    }

    bb7: {
        _12 = &_13;
        _11 = core::fmt::rt::Argument::<'_>::new_display::<String>(_12) -> [return: bb8, unwind: bb42];
    }

    bb8: {
        _10 = [move _11];
        _9 = &_10;
        _8 = _9 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _6 = Arguments::<'_>::new_v1(move _7, move _8) -> [return: bb9, unwind: bb42];
    }

    bb9: {
        _5 = _print(move _6) -> [return: bb10, unwind: bb42];
    }

    bb10: {
        drop(_13) -> [return: bb11, unwind: bb43];
    }

    bb11: {
        drop(_17) -> [return: bb12, unwind continue];
    }

    bb12: {
        _61 = const _;
        _21 = _61 as &[&str] (Pointer(Unsize));
        _28 = const "       January              February                March        \n  1  2  3  4  5  6  7            1  2  3  4               1  2  3\n  8  9 10 11 12 13 14   5  6  7  8  9 10 11   4  5  6  7  8  9 10\n 15 16 17 18 19 20 21  12 13 14 15 16 17 18  11 12 13 14 15 16 17\n 22 23 24 25 26 27 28  19 20 21 22 23 24 25  18 19 20 21 22 23 24\n 29 30 31              26 27 28 29           25 26 27 28 29 30 31\n\n        April                  May                  June         \n  1  2  3  4  5  6  7         1  2  3  4  5                  1  2\n  8  9 10 11 12 13 14   6  7  8  9 10 11 12   3  4  5  6  7  8  9\n 15 16 17 18 19 20 21  13 14 15 16 17 18 19  10 11 12 13 14 15 16\n 22 23 24 25 26 27 28  20 21 22 23 24 25 26  17 18 19 20 21 22 23\n 29 30                 27 28 29 30 31        24 25 26 27 28 29 30\n\n        July                 August               September      \n  1  2  3  4  5  6  7            1  2  3  4                     1\n  8  9 10 11 12 13 14   5  6  7  8  9 10 11   2  3  4  5  6  7  8\n 15 16 17 18 19 20 21  12 13 14 15 16 17 18   9 10 11 12 13 14 15\n 22 23 24 25 26 27 28  19 20 21 22 23 24 25  16 17 18 19 20 21 22\n 29 30 31              26 27 28 29 30 31     23 24 25 26 27 28 29\n                                             30                  \n\n       October              November              December       \n     1  2  3  4  5  6               1  2  3                     1\n  7  8  9 10 11 12 13   4  5  6  7  8  9 10   2  3  4  5  6  7  8\n 14 15 16 17 18 19 20  11 12 13 14 15 16 17   9 10 11 12 13 14 15\n 21 22 23 24 25 26 27  18 19 20 21 22 23 24  16 17 18 19 20 21 22\n 28 29 30 31           25 26 27 28 29 30     23 24 25 26 27 28 29\n                                             30 31               ";
        _29 = const ".";
        _27 = str::<impl str>::replace::<'_, &str>(_28, const " ", _29) -> [return: bb13, unwind continue];
    }

    bb13: {
        _26 = &_27;
        _25 = core::fmt::rt::Argument::<'_>::new_display::<String>(_26) -> [return: bb14, unwind: bb41];
    }

    bb14: {
        _24 = [move _25];
        _23 = &_24;
        _22 = _23 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _20 = Arguments::<'_>::new_v1(move _21, move _22) -> [return: bb15, unwind: bb41];
    }

    bb15: {
        _19 = _print(move _20) -> [return: bb16, unwind: bb41];
    }

    bb16: {
        drop(_27) -> [return: bb17, unwind continue];
    }

    bb17: {
        _30 = begin_panic::<&str>(const "calendars didn't match!") -> unwind continue;
    }

    bb18: {
        _34 = format_year(const 2015_i32, const _) -> [return: bb19, unwind continue];
    }

    bb19: {
        _33 = &_34;
        _32 = &_33;
        _65 = const _;
        _31 = <&String as PartialEq<&str>>::ne(move _32, _65) -> [return: bb20, unwind: bb40];
    }

    bb20: {
        drop(_34) -> [return: bb21, unwind continue];
    }

    bb21: {
        switchInt(move _31) -> [0: bb36, otherwise: bb22];
    }

    bb22: {
        _64 = const _;
        _37 = _64 as &[&str] (Pointer(Unsize));
        _47 = format_year(const 2015_i32, const _) -> [return: bb23, unwind continue];
    }

    bb23: {
        _46 = &_47;
        _45 = <String as Deref>::deref(_46) -> [return: bb24, unwind: bb39];
    }

    bb24: {
        _44 = _45;
        _48 = const ".";
        _43 = str::<impl str>::replace::<'_, &str>(move _44, const " ", _48) -> [return: bb25, unwind: bb39];
    }

    bb25: {
        _42 = &_43;
        _41 = core::fmt::rt::Argument::<'_>::new_display::<String>(_42) -> [return: bb26, unwind: bb38];
    }

    bb26: {
        _40 = [move _41];
        _39 = &_40;
        _38 = _39 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _36 = Arguments::<'_>::new_v1(move _37, move _38) -> [return: bb27, unwind: bb38];
    }

    bb27: {
        _35 = _print(move _36) -> [return: bb28, unwind: bb38];
    }

    bb28: {
        drop(_43) -> [return: bb29, unwind: bb39];
    }

    bb29: {
        drop(_47) -> [return: bb30, unwind continue];
    }

    bb30: {
        _63 = const _;
        _51 = _63 as &[&str] (Pointer(Unsize));
        _58 = const "       January              February                March        \n              1  2  3   1  2  3  4  5  6  7   1  2  3  4  5  6  7\n  4  5  6  7  8  9 10   8  9 10 11 12 13 14   8  9 10 11 12 13 14\n 11 12 13 14 15 16 17  15 16 17 18 19 20 21  15 16 17 18 19 20 21\n 18 19 20 21 22 23 24  22 23 24 25 26 27 28  22 23 24 25 26 27 28\n 25 26 27 28 29 30 31                        29 30 31            \n\n        April                  May                  June         \n           1  2  3  4                  1  2      1  2  3  4  5  6\n  5  6  7  8  9 10 11   3  4  5  6  7  8  9   7  8  9 10 11 12 13\n 12 13 14 15 16 17 18  10 11 12 13 14 15 16  14 15 16 17 18 19 20\n 19 20 21 22 23 24 25  17 18 19 20 21 22 23  21 22 23 24 25 26 27\n 26 27 28 29 30        24 25 26 27 28 29 30  28 29 30            \n                       31                                        \n\n        July                 August               September      \n           1  2  3  4                     1         1  2  3  4  5\n  5  6  7  8  9 10 11   2  3  4  5  6  7  8   6  7  8  9 10 11 12\n 12 13 14 15 16 17 18   9 10 11 12 13 14 15  13 14 15 16 17 18 19\n 19 20 21 22 23 24 25  16 17 18 19 20 21 22  20 21 22 23 24 25 26\n 26 27 28 29 30 31     23 24 25 26 27 28 29  27 28 29 30         \n                       30 31                                     \n\n       October              November              December       \n              1  2  3   1  2  3  4  5  6  7         1  2  3  4  5\n  4  5  6  7  8  9 10   8  9 10 11 12 13 14   6  7  8  9 10 11 12\n 11 12 13 14 15 16 17  15 16 17 18 19 20 21  13 14 15 16 17 18 19\n 18 19 20 21 22 23 24  22 23 24 25 26 27 28  20 21 22 23 24 25 26\n 25 26 27 28 29 30 31  29 30                 27 28 29 30 31      ";
        _59 = const ".";
        _57 = str::<impl str>::replace::<'_, &str>(_58, const " ", _59) -> [return: bb31, unwind continue];
    }

    bb31: {
        _56 = &_57;
        _55 = core::fmt::rt::Argument::<'_>::new_display::<String>(_56) -> [return: bb32, unwind: bb37];
    }

    bb32: {
        _54 = [move _55];
        _53 = &_54;
        _52 = _53 as &[core::fmt::rt::Argument<'_>] (Pointer(Unsize));
        _50 = Arguments::<'_>::new_v1(move _51, move _52) -> [return: bb33, unwind: bb37];
    }

    bb33: {
        _49 = _print(move _50) -> [return: bb34, unwind: bb37];
    }

    bb34: {
        drop(_57) -> [return: bb35, unwind continue];
    }

    bb35: {
        _60 = begin_panic::<&str>(const "calendars didn't match!") -> unwind continue;
    }

    bb36: {
        return;
    }

    bb37 (cleanup): {
        drop(_57) -> [return: bb45, unwind terminate];
    }

    bb38 (cleanup): {
        drop(_43) -> [return: bb39, unwind terminate];
    }

    bb39 (cleanup): {
        drop(_47) -> [return: bb45, unwind terminate];
    }

    bb40 (cleanup): {
        drop(_34) -> [return: bb45, unwind terminate];
    }

    bb41 (cleanup): {
        drop(_27) -> [return: bb45, unwind terminate];
    }

    bb42 (cleanup): {
        drop(_13) -> [return: bb43, unwind terminate];
    }

    bb43 (cleanup): {
        drop(_17) -> [return: bb45, unwind terminate];
    }

    bb44 (cleanup): {
        drop(_4) -> [return: bb45, unwind terminate];
    }

    bb45 (cleanup): {
        resume;
    }
}

promoted[0] in test_format_year: &[&str; 2] = {
    let mut _0: &[&str; 2];
    let mut _1: [&str; 2];

    bb0: {
        _1 = [const "expected:\n```\n", const "\n```\n"];
        _0 = &_1;
        return;
    }
}

promoted[1] in test_format_year: &[&str; 2] = {
    let mut _0: &[&str; 2];
    let mut _1: [&str; 2];

    bb0: {
        _1 = [const "got:\n```\n", const "\n```\n\n"];
        _0 = &_1;
        return;
    }
}

promoted[2] in test_format_year: &[&str; 2] = {
    let mut _0: &[&str; 2];
    let mut _1: [&str; 2];

    bb0: {
        _1 = [const "expected:\n```\n", const "\n```\n"];
        _0 = &_1;
        return;
    }
}

promoted[3] in test_format_year: &[&str; 2] = {
    let mut _0: &[&str; 2];
    let mut _1: [&str; 2];

    bb0: {
        _1 = [const "got:\n```\n", const "\n```\n\n"];
        _0 = &_1;
        return;
    }
}

promoted[4] in test_format_year: &&str = {
    let mut _0: &&str;
    let mut _1: &str;

    bb0: {
        _1 = const "       January              February                March        \n              1  2  3   1  2  3  4  5  6  7   1  2  3  4  5  6  7\n  4  5  6  7  8  9 10   8  9 10 11 12 13 14   8  9 10 11 12 13 14\n 11 12 13 14 15 16 17  15 16 17 18 19 20 21  15 16 17 18 19 20 21\n 18 19 20 21 22 23 24  22 23 24 25 26 27 28  22 23 24 25 26 27 28\n 25 26 27 28 29 30 31                        29 30 31            \n\n        April                  May                  June         \n           1  2  3  4                  1  2      1  2  3  4  5  6\n  5  6  7  8  9 10 11   3  4  5  6  7  8  9   7  8  9 10 11 12 13\n 12 13 14 15 16 17 18  10 11 12 13 14 15 16  14 15 16 17 18 19 20\n 19 20 21 22 23 24 25  17 18 19 20 21 22 23  21 22 23 24 25 26 27\n 26 27 28 29 30        24 25 26 27 28 29 30  28 29 30            \n                       31                                        \n\n        July                 August               September      \n           1  2  3  4                     1         1  2  3  4  5\n  5  6  7  8  9 10 11   2  3  4  5  6  7  8   6  7  8  9 10 11 12\n 12 13 14 15 16 17 18   9 10 11 12 13 14 15  13 14 15 16 17 18 19\n 19 20 21 22 23 24 25  16 17 18 19 20 21 22  20 21 22 23 24 25 26\n 26 27 28 29 30 31     23 24 25 26 27 28 29  27 28 29 30         \n                       30 31                                     \n\n       October              November              December       \n              1  2  3   1  2  3  4  5  6  7         1  2  3  4  5\n  4  5  6  7  8  9 10   8  9 10 11 12 13 14   6  7  8  9 10 11 12\n 11 12 13 14 15 16 17  15 16 17 18 19 20 21  13 14 15 16 17 18 19\n 18 19 20 21 22 23 24  22 23 24 25 26 27 28  20 21 22 23 24 25 26\n 25 26 27 28 29 30 31  29 30                 27 28 29 30 31      ";
        _0 = &_1;
        return;
    }
}

promoted[5] in test_format_year: &&str = {
    let mut _0: &&str;
    let mut _1: &str;

    bb0: {
        _1 = const "       January              February                March        \n  1  2  3  4  5  6  7            1  2  3  4               1  2  3\n  8  9 10 11 12 13 14   5  6  7  8  9 10 11   4  5  6  7  8  9 10\n 15 16 17 18 19 20 21  12 13 14 15 16 17 18  11 12 13 14 15 16 17\n 22 23 24 25 26 27 28  19 20 21 22 23 24 25  18 19 20 21 22 23 24\n 29 30 31              26 27 28 29           25 26 27 28 29 30 31\n\n        April                  May                  June         \n  1  2  3  4  5  6  7         1  2  3  4  5                  1  2\n  8  9 10 11 12 13 14   6  7  8  9 10 11 12   3  4  5  6  7  8  9\n 15 16 17 18 19 20 21  13 14 15 16 17 18 19  10 11 12 13 14 15 16\n 22 23 24 25 26 27 28  20 21 22 23 24 25 26  17 18 19 20 21 22 23\n 29 30                 27 28 29 30 31        24 25 26 27 28 29 30\n\n        July                 August               September      \n  1  2  3  4  5  6  7            1  2  3  4                     1\n  8  9 10 11 12 13 14   5  6  7  8  9 10 11   2  3  4  5  6  7  8\n 15 16 17 18 19 20 21  12 13 14 15 16 17 18   9 10 11 12 13 14 15\n 22 23 24 25 26 27 28  19 20 21 22 23 24 25  16 17 18 19 20 21 22\n 29 30 31              26 27 28 29 30 31     23 24 25 26 27 28 29\n                                             30                  \n\n       October              November              December       \n     1  2  3  4  5  6               1  2  3                     1\n  7  8  9 10 11 12 13   4  5  6  7  8  9 10   2  3  4  5  6  7  8\n 14 15 16 17 18 19 20  11 12 13 14 15 16 17   9 10 11 12 13 14 15\n 21 22 23 24 25 26 27  18 19 20 21 22 23 24  16 17 18 19 20 21 22\n 28 29 30 31           25 26 27 28 29 30     23 24 25 26 27 28 29\n                                             30 31               ";
        _0 = &_1;
        return;
    }
}

const MONTHS_PER_ROW: usize = {
    let mut _0: usize;

    bb0: {
        _0 = const 3_usize;
        return;
    }
}

fn main() -> () {
    let mut _0: ();
    let _1: ();
    let _2: ();
    let _3: ();
    let _4: ();
    let _5: ();
    let _6: ();
    let _7: ();
    let _8: ();
    let _9: ();
    let _10: ();
    let _11: ();
    let _12: ();

    bb0: {
        _1 = test_spaces() -> [return: bb1, unwind continue];
    }

    bb1: {
        _2 = test_dates_in_year() -> [return: bb2, unwind continue];
    }

    bb2: {
        _3 = test_group_by() -> [return: bb3, unwind continue];
    }

    bb3: {
        _4 = test_by_month() -> [return: bb4, unwind continue];
    }

    bb4: {
        _5 = test_isoweekdate() -> [return: bb5, unwind continue];
    }

    bb5: {
        _6 = test_by_week() -> [return: bb6, unwind continue];
    }

    bb6: {
        _7 = test_format_weeks() -> [return: bb7, unwind continue];
    }

    bb7: {
        _8 = test_month_title() -> [return: bb8, unwind continue];
    }

    bb8: {
        _9 = test_format_month() -> [return: bb9, unwind continue];
    }

    bb9: {
        _10 = test_paste_blocks() -> [return: bb10, unwind continue];
    }

    bb10: {
        _11 = test_chunks() -> [return: bb11, unwind continue];
    }

    bb11: {
        _12 = test_format_year() -> [return: bb12, unwind continue];
    }

    bb12: {
        return;
    }
}

fn NaiveDate(_1: i32, _2: u32, _3: u32) -> NaiveDate {
    let mut _0: NaiveDate;

    bb0: {
        _0 = NaiveDate(move _1, move _2, move _3);
        return;
    }
}

// MIR FOR CTFE
fn NaiveDate(_1: i32, _2: u32, _3: u32) -> NaiveDate {
    let mut _0: NaiveDate;

    bb0: {
        _0 = NaiveDate(move _1, move _2, move _3);
        return;
    }
}
